
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="Find all documentation about deploying, maintaining and administering a ThinLinc installation." name="description" />
<meta content="Introduction to ThinLinc, a remote desktop terminal server solution for Linux. This guide provides an overview of ThinLinc's architecture, installation, administration, and available clients, along with additional resources for further information." name="description" />
<meta content="Overview of ThinLinc's architectural components and their roles within a ThinLinc cluster, highlighting the key aspects of system integration and session management." name="description" />
<meta content="Instructions for obtaining and verifying ThinLinc software packages, including download sources and methods to verify package signatures for RPM-based systems." name="description" />
<meta content="Learn about the system and software requirements for installing ThinLinc servers, including guidelines for server sizing and clustering." name="description" />
<meta content="Overview of network requirements for setting up ThinLinc, including configurations for simple and NAT/split-DNS environments." name="description" />
<meta content="Learn how to install the ThinLinc server, configure it using ThinLinc setup, and set up additional features." name="description" />
<meta content="Overview of the different user authentication methods supported in ThinLinc, including PAM, public key, smart card, and OTP." name="description" />
<meta content="Explanation of user authentication in ThinLinc using Pluggable Authentication Modules (PAM), detailing integration with various authentication systems." name="description" />
<meta content="Summary of authentication limitations in ThinLinc, with a focus on case sensitivity and configuration requirements for SSH servers." name="description" />
<meta content="Instructions for setting up public key authentication in ThinLinc, providing a secure alternative to password-based logins." name="description" />
<meta content="Instructions for configuring ThinLinc to use smart card public key authentication, leveraging enhanced security measures for user authentication." name="description" />
<meta content="Guide to configuring ThinLinc for one-time password (OTP) authentication, including integration with external OTP servers for enhanced security." name="description" />
<meta content="This section provides an overview of license management in ThinLinc, including license counting, file handling, and monitoring." name="description" />
<meta content="Learn how to set up and configure a ThinLinc cluster with multiple agent servers for session load balancing, redundancy, and scalability." name="description" />
<meta content="Learn how to configure ThinLinc with High Availability (HA) to protect the master from single points of failure, ensuring continuous service and session database synchronization across multiple servers." name="description" />
<meta content="Overview of configuring ThinLinc for High Availability (HA) to eliminate single points of failure by using a dual master server setup, including background reasons, theory of operation, and ensuring continuous service with minimal interruption." name="description" />
<meta content="Guide for configuring ThinLinc for High Availability (HA) operations, including installation of a new HA cluster, ensuring synchronization between nodes, and reconfiguring existing installations into HA mode." name="description" />
<meta content="Guidance on recovering a ThinLinc High Availability (HA) setup after hardware failures, including procedures for minor and catastrophic failures to ensure continuous service and proper session synchronization." name="description" />
<meta content="Overview of ThinLinc's printer-related features including local printer support, nearest printer, and printer access control, all integrated with the CUPS system to enhance user flexibility and simplify administration." name="description" />
<meta content="Overview of printer configuration in a ThinLinc cluster, detailing the setup of CUPS on the master and agent machines, including the importance of disabling CUPS Browsing and configuring the nearest and thinlocal printer queues." name="description" />
<meta content="Learn how to set up and use ThinLinc's local printer support, enabling printing to client-attached printers with device-independent and device-dependent modes." name="description" />
<meta content="Overview of the ThinLinc nearest printer feature, which automatically directs print jobs to the nearest available printer based on the user's terminal location. Includes details on configuration, administration, and the printer selection algorithm." name="description" />
<meta content="Explanation of the printer access control feature in ThinLinc, which manages and restricts user access to printers based on terminal location within a ThinLinc cluster. This section covers configuration requirements, activation steps, and considerations for handling unknown terminals." name="description" />
<meta content="Guide to using VirtualGL for server-side 3D acceleration in ThinLinc, with references to installation and configuration documentation for integrating OpenGL applications on Linux." name="description" />
<meta content="Learn how to automate the installation of ThinLinc servers for large-scale deployments." name="description" />
<meta content="Instructions for uninstalling ThinLinc server using native package manager commands." name="description" />
<meta content="Overview of the ThinLinc native client and Web Access client, comparing their features and platform support to help administrators and users select the appropriate client for connecting to ThinLinc servers." name="description" />
<meta content="Detailed guide to the ThinLinc native client, covering installation, usage, configuration, and advanced topics such as command-line usage, local device export, and customizations." name="description" />
<meta content="Comprehensive guide to installing, configuring, and running the ThinLinc client on various platforms, including Windows, macOS, Linux, dedicated thin terminals, and Thinstation." name="description" />
<meta content="Guide to installing and running the ThinLinc client on Windows, including system requirements and steps for installation and configuration." name="description" />
<meta content="Instructions for installing and running the ThinLinc client on macOS, including system requirements, installation steps, and key behavior customization for Command and Alt keys." name="description" />
<meta content="Instructions for installing and running the ThinLinc client on Linux systems, including system requirements and installation steps for RPM- and DEB-based, and other Linux distributions." name="description" />
<meta content="Instructions for installing and configuring the ThinLinc client on various thin terminals, including HP ThinPro, IGEL Universal Desktop, and other Linux-based or Windows-based appliances." name="description" />
<meta content="Guide to installing and configuring the ThinLinc client on ThinStation terminals, including setup for network boot, sound and drive redirection, and managing SSH host keys." name="description" />
<meta content="Comprehensive guide on using the ThinLinc client, including instructions on starting the client, logging in to a server, managing session life cycles, configuring language settings, and using the session menu." name="description" />
<meta content="Comprehensive overview of ThinLinc client command-line usage, including syntax, available options, and techniques for customizing client behavior and settings." name="description" />
<meta content="Overview of the local device export capabilities in ThinLinc, including sound devices, serial ports, drives, printers, and smart card readers, enabling secure access to client resources from a ThinLinc session." name="description" />
<meta content="Introduction to configuring the ThinLinc client, including details on accessing the options window and descriptions of settings across various tabs such as display, local devices, optimization, security, and advanced options." name="description" />
<meta content="Overview of the display settings in the ThinLinc client, including options for windowed and full-screen modes, and configuration across multiple monitors." name="description" />
<meta content="Guide to configuring local device export in the ThinLinc client, including settings for sound, serial ports, drives, printers, and smart card readers." name="description" />
<meta content="Guide to the optimization settings in the ThinLinc client, including options for graphic encoding, compression, color levels, and SSH compression to enhance session performance." name="description" />
<meta content="Guide to configuring security and authentication settings in the ThinLinc client, including options for SSH ports, password, public key, smart card, and Kerberos authentication." name="description" />
<meta content="Detailed guide to the advanced settings in the ThinLinc client, including options for program execution, session shadowing, system key handling, mouse button emulation, and reconnection policies." name="description" />
<meta content="Overview of how ThinLinc client configuration settings are stored and managed on Linux, macOS, and Windows systems, including file formats, directory locations, and registry usage." name="description" />
<meta content="Overview of touch gestures supported by the ThinLinc client for touch-capable monitors, allowing users to simulate various mouse actions like clicks, drags, and zooms through gestures." name="description" />
<meta content="Overview of ThinLinc client log file management, including log file naming conventions and storage locations on Linux, Windows, and macOS systems." name="description" />
<meta content="Guide to using the ThinLinc client customizer for creating customized Windows client installations, including setting default configurations, adding custom branding, and enhancing security with pre-configured SSH host keys." name="description" />
<meta content="Instructions for setting up and using ThinLinc Web Integration, allowing web servers to initiate ThinLinc client connections with customized configurations through CGI scripts." name="description" />
<meta content="Discussion of advanced configuration topics for the ThinLinc client, including customization and update management." name="description" />
<meta content="Overview of ThinLinc Web Access, a browser-based client enabling access to ThinLinc servers or clusters without software installation. Ideal for easy and flexible remote access." name="description" />
<meta content="Guide to configuring ThinLinc Web Access server and TLS certificates, including cluster setup, port management, and security practices. Critical for ensuring secure and functional ThinLinc deployments." name="description" />
<meta content="Instructions for accessing ThinLinc Web Access, browser requirements, logging in, and using the toolbar, clipboard, and touch gestures. Essential for efficient use of ThinLinc Web Access." name="description" />
<meta content="Overview on how to access client resources, including local drives, serial ports, sound, and smart cards, from a ThinLinc session." name="description" />
<meta content="This section explains how to access and manage client drives in ThinLinc sessions, covering commands for mounting and unmounting drives, as well as relevant limitations and configurations." name="description" />
<meta content="Details the use of serial port redirection in ThinLinc, covering requirements, enabling, accessing, and limitations." name="description" />
<meta content="Overview of sound device redirection in ThinLinc, detailing how to enable and configure audio redirection for PulseAudio, ALSA, and OSS applications." name="description" />
<meta content="This section explains how to use smart card redirection in ThinLinc, covering its requirements, enabling process, and limitations." name="description" />
<meta content="Detailed instructions for configuring the ThinLinc server, including cluster setup, logging, session management, and session lifetime configuration." name="description" />
<meta content="Detailed guide on configuring and managing ThinLinc clusters, including subcluster setup, agent synchronization, and session management." name="description" />
<meta content="Learn how to configure logging for ThinLinc servers, including settings for log destinations, sub-loggers, and log levels for various ThinLinc server components such as master, agent, and Web Access." name="description" />
<meta content="Overview of ThinLinc session startup customization, including scripts, profiles, and environment settings." name="description" />
<meta content="Learn how to control and limit the lifetime of ThinLinc sessions using Xserver options such as MaxDisconnectionTime, MaxConnectionTime, and MaxIdleTime to manage session duration and idle behavior." name="description" />
<meta content="Learn how to configure HTTP Strict Transport Security (HSTS) in ThinLinc to enforce HTTPS connections. Includes options for subdomains and browser preload settings." name="description" />
<meta content="Detailed guide on upgrading ThinLinc servers and clusters, including considerations for configuration migration, license updates, and a step-by-step process for upgrading both master and agent servers in a ThinLinc environment." name="description" />
<meta content="Learn how to use the shadowing feature in ThinLinc to view and interact with other users' sessions for remote assistance and support." name="description" />
<meta content="Explore Hiveconf, the configuration system used in ThinLinc, including its syntax, tree structure, and tools like hivetool and tl-config for managing server-side configurations." name="description" />
<meta content="Overview of managing a ThinLinc cluster using command-line tools, including session management, user notifications, and monitoring cluster load." name="description" />
<meta content="Overview of ThinLinc web administration interface, tlwebadm, detailing modules for managing system health, status, profiles, locations, and more." name="description" />
<meta content="Overview of the System Health module in the ThinLinc web administration interface for monitoring service status and testing user and group lookup performance." name="description" />
<meta content="Guide to using the Status module in ThinLinc's web administration interface for monitoring licenses, server load, and managing sessions." name="description" />
<meta content="Guide to managing subclusters, master, and agent services in the VSM module of ThinLinc's web administration interface, including configuration and service management." name="description" />
<meta content="Manage profiles and introduction texts in the ThinLinc web administration interface, including creating, editing, and organizing user profiles and translations for the profile chooser." name="description" />
<meta content="Guide to managing terminal and printer locations in the ThinLinc web administration interface, including adding, editing, and assigning devices to locations." name="description" />
<meta content="Overview of the desktop customizer module in ThinLinc's web administration interface, with links to configure application groups, manual and system applications, and menu structures." name="description" />
<meta content="Learn how to create custom desktops for ThinLinc users using the ThinLinc desktop customizer (TLDC), which tailors application menus and desktop icons based on group membership, username, and ThinLinc profile." name="description" />
<meta content="ThinLinc desktop customizer allows administrators to control menu entries and desktop icons for users based on group memberships, username, and chosen ThinLinc profiles." name="description" />
<meta content="Learn how to customize desktop environments for specific users or groups using ThinLinc desktop customizer via a web interface. Manage applications, menu structures, and user permissions effectively." name="description" />
<meta content="Enable custom desktops in ThinLinc by creating a symbolic link to activate the ThinLinc desktop customizer (TLDC) during session startup, allowing tailored desktop environments for users." name="description" />
<meta content="Explore tips and tricks for using the ThinLinc desktop customizer (TLDC) with KDE, including solving unwanted icons, file associations, and fixing the home icon." name="description" />
<meta content="Overview of ThinLinc server commands for users and administrators, including tools for session management, configuration, synchronization, and more." name="description" />
<meta content="The tl-config command accesses and modifies ThinLinc system configuration parameters and supports scripting." name="description" />
<meta content="The tl-desktop-restore command, part of the ThinLinc desktop customizer, resets Gnome and KDE desktops to default by backing up user settings, restoring original configurations." name="description" />
<meta content="The tl-disconnect command disconnects a ThinLinc client from an active session while keeping the session on the server, allowing users to reconnect later." name="description" />
<meta content="The tl-env command runs user-provided commands in a ThinLinc session by restoring the session environment, even from outside the session." name="description" />
<meta content="The tl-memberof-group command checks if the current user is a member of specified groups, returning exit statuses based on membership and group availability." name="description" />
<meta content="The tl-mount-localdrives command mounts local drives exported from the ThinLinc client in the session, creating a symbolic link in the user’s home directory for easy access." name="description" />
<meta content="The tl-session-param command retrieves session information managed by the master, including client-side settings like exported drives and language preferences, supporting shell variable assignments." name="description" />
<meta content="The tl-single-app command runs a single application in a ThinLinc session, automatically starting a window manager, maximizing windows, and managing session disconnection via the client close button." name="description" />
<meta content="The tl-sso-password command integrates ThinLinc's single sign-on with new applications, allowing password retrieval and validation, with options for password removal after use." name="description" />
<meta content="The tl-sso-token-passphrase command is similar to tl-sso-password but retrieves and manages the smart card token passphrase (PIN) for ThinLinc's single sign-on system." name="description" />
<meta content="The tl-sso-update-password command requests a password from the user for ThinLinc's single sign-on system, useful when the password is not readily available, such as with one-time passwords." name="description" />
<meta content="The tl-umount-localdrives command unmounts local drives previously mounted by tl-mount-localdrives, with options to unmount drives for the current session, all user sessions, or all users on the server." name="description" />
<meta content="The tl-while-x11 command runs a specified command and automatically terminates it when the X11 server exits, passing any provided arguments to the command." name="description" />
<meta content="The tlctl command inspects and controls the state of a ThinLinc cluster, providing functionality to manage sessions and view cluster load information when run on a master machine." name="description" />
<meta content="The tlctl load command displays the current load status of a ThinLinc cluster, providing key metrics like CPU, memory usage, and agent capacity to help monitor system health and load balancing." name="description" />
<meta content="The tlctl session command inspects and manages ThinLinc cluster sessions, allowing session listing, filtering by agent, user, or subcluster, and termination of sessions with multiple options for control." name="description" />
<meta content="The tl-gen-auth command generates password hashes for the ThinLinc web administration interface." name="description" />
<meta content="The tl-ldap-certalias command updates local databases for smart card authentication using LDAP and SSH. It automates key management, certificate validation, and supports cron scheduling for regular updates." name="description" />
<meta content="The tl-notify command sends user-visible messages to ThinLinc sessions, with options to target specific users or all sessions." name="description" />
<meta content="The tl-rsync-all command synchronizes files and directories across all agent servers in a ThinLinc cluster using rsync over SSH, supporting standard rsync options." name="description" />
<meta content="The tl-setup command configures the ThinLinc server and local system, supporting graphical, text, and automated modes for initial setup." name="description" />
<meta content="The tl-show-licenses command displays the total number of ThinLinc user licenses available on the system." name="description" />
<meta content="The tl-ssh-all command executes shell commands on all agent servers in a ThinLinc cluster using SSH, supporting standard SSH options for efficient cluster-wide management." name="description" />
<meta content="The tl-support command enables a support technician to access a ThinLinc server behind a firewall by setting up an SSH tunnel to a remote server, facilitating secure troubleshooting." name="description" />
<meta content="Explore the configuration parameters for ThinLinc servers, covering profiles, session startup, shadowing, web access, master, agent, subclusters, and various utilities." name="description" />
<meta content="Configuration parameters for managing session profiles in ThinLinc, including profile order, default settings, and customization options." name="description" />
<meta content="Configuration parameters for the ThinLinc Web Administration interface, including authentication credentials, TLS encryption, logging, and port settings." name="description" />
<meta content="Configuration parameters for ThinLinc session startup, including background settings and keyboard layout." name="description" />
<meta content="Configuration options for controlling session shadowing in ThinLinc, including permissions and notification settings." name="description" />
<meta content="Overview of configuration parameters for utilities in ThinLinc, including settings for the desktop customizer, LDAP certificate aliasing, and mounting local drives." name="description" />
<meta content="Overview of key configuration parameters shared by the master and agent services, covering settings related to tunnel management, VNC communication, and master-agent interaction in ThinLinc." name="description" />
<meta content="Overview of the configuration parameters for the ThinLinc agent service, including settings for session management, network configuration, and environment customization." name="description" />
<meta content="Overview of configuration parameters for the master in ThinLinc, covering settings for administrative email, load balancing, session management, and high availability configurations." name="description" />
<meta content="Configuration parameters for defining subclusters in ThinLinc, including agent assignments, user associations, and group associations." name="description" />
<meta content="Overview of configuration parameters for the ThinLinc Web Access client, including TLS encryption settings, login page redirection, and logging configuration." name="description" />
<meta content="Detailed reference guide to the configuration parameters available in the ThinLinc client, covering various settings for authentication, display, networking, and user experience customization." name="description" />
<meta content="Detailed guide on the TCP ports required for ThinLinc's operation, including those needed for external and internal communication within the cluster." name="description" />
<meta content="Overview of TCP ports required for ThinLinc's master server operation, including SSH, Web Access, administration, and communication between components." name="description" />
<meta content="Overview of essential TCP ports used by ThinLinc agents, including SSH, Web Access, and VNC services." name="description" />
<meta content="Troubleshooting guide for ThinLinc, covering common session issues, client errors, and session startup problems. Includes general troubleshooting methods and specific error resolution steps." name="description" />
<meta content="This section covers methods to restrict user access to ThinLinc servers, including disabling SSH access, shell access, and port forwarding, as well as controlling clipboard and drive access." name="description" />
<meta content="Explains how ThinLinc administrators can configure algorithm availability and order using GnuTLS priority strings for services that use tlstunnel." name="description" />
<meta content="Overview of the standard GnuTLS configuration in ThinLinc, including the default priority string, cipher suites, protocols, ciphers, MACs, key exchange algorithms, groups, and PK-signatures." name="description" />
<meta content="Comprehensive list of available cryptographic algorithms and protocols supported in ThinLinc, including cipher suites, certificates, key exchange algorithms, and public key systems." name="description" />
<meta content="Explanation of ThinLinc's compatibility with SELinux enabled distributions, including optional local policy modifications and instructions for reapplying ThinLinc's SELinux policy changes." name="description" />

    <title>ThinLinc Administrator&#39;s Guide</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/constants.css" />
    <link rel="stylesheet" type="text/css" href="_static/fonts.css" />
    <link rel="stylesheet" type="text/css" href="_static/cendio.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/thinlinc.ico"/>
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="the-thinlinc-administrator-s-guide">
<h1>The ThinLinc Administrator’s Guide<a class="headerlink" href="#the-thinlinc-administrator-s-guide" title="Permalink to this headline">¶</a></h1>
<p>Version 4.18.0</p>
<div class="toctree-wrapper compound" id="toc-introduction">
<span id="document-introduction"></span><section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>ThinLinc is a software that provides remote Linux desktop access by
combining proprietary code with open-source projects like TigerVNC,
noVNC and OpenSSH. The core purpose of the software is to securely grant
graphical access to Linux machines. The ThinLinc software also works
closely with the existing Linux system to utilize it’s already well
established ecosystem.</p>
<p>Our hope is that ThinLinc will help make Linux more accessible for
people in their everyday lives.</p>
<section id="about-the-documentation">
<h3>About the documentation<a class="headerlink" href="#about-the-documentation" title="Permalink to this headline">¶</a></h3>
<p>This document is meant to serve as a guide when installing or
administrating ThinLinc, as well as give an overview of the features
available.</p>
<p>The documentation is separated into multiple parts:</p>
<dl class="simple">
<dt><a class="reference internal" href="index.html#toc-introduction"><span class="std std-ref">Introduction</span></a></dt><dd><p>Gives an overview of this document, along with information about
the general architecture of the software.</p>
</dd>
<dt><a class="reference internal" href="index.html#toc-install"><span class="std std-ref">Server installation</span></a></dt><dd><p>Contains information about ThinLinc’s requirements and how to do a
minimal ThinLinc installation.</p>
</dd>
<dt><a class="reference internal" href="index.html#toc-optional"><span class="std std-ref">Optional setup</span></a></dt><dd><p>Describes the next steps that can be taken after completing a
minimal ThinLinc installation.</p>
</dd>
<dt><a class="reference internal" href="index.html#toc-clients"><span class="std std-ref">Clients</span></a></dt><dd><p>Describes the available ThinLinc clients, their differences, and
how to install and use them.</p>
</dd>
<dt><a class="reference internal" href="index.html#toc-administration"><span class="std std-ref">Administration</span></a></dt><dd><p>Discusses the administration of ThinLinc after it is installed.</p>
</dd>
<dt><a class="reference internal" href="index.html#toc-appendixes"><span class="std std-ref">Appendixes</span></a></dt><dd><p>Extra information, e.g. configuration syntax or more niche setup
options.</p>
</dd>
</dl>
</section>
<section id="finding-more-information">
<h3>Finding more information<a class="headerlink" href="#finding-more-information" title="Permalink to this headline">¶</a></h3>
<p>Additional information about ThinLinc can be found on the Cendio website
at <a class="reference external" href="https://www.cendio.com">https://www.cendio.com</a>. Some starting points can be <a class="reference external" href="https://www.cendio.com/thinlinc/docs/relnotes">release notes</a>, or <a class="reference external" href="https://www.cendio.com/thinlinc/docs/platforms/">platform specific
notes</a>.</p>
<p>For community-based support, discussion, and best practice guides, visit
the <a class="reference external" href="https://community.thinlinc.com">ThinLinc Community Forum</a>.</p>
</section>
</section>
<span id="document-architecture"></span><section id="thinlinc-architecture">
<span id="architecture"></span><h2>ThinLinc architecture<a class="headerlink" href="#thinlinc-architecture" title="Permalink to this headline">¶</a></h2>
<p>This chapter describes the high-level components that constitute a
ThinLinc cluster. For information about how to install, set up, and
maintain ThinLinc, please refer to the <a class="reference internal" href="index.html#toc-install"><span class="std std-ref">Server installation</span></a> and
<a class="reference internal" href="index.html#toc-administration"><span class="std std-ref">Administration</span></a> parts.</p>
<section id="major-components">
<h3>Major components<a class="headerlink" href="#major-components" title="Permalink to this headline">¶</a></h3>
<p>The three major components of a ThinLinc cluster are the master servers,
agent servers, and clients. The former two are responsible for making
the server-side Linux environment available for the clients.</p>
<ul class="simple">
<li><p><strong>Master servers</strong> — Accepts incoming client connections and load
balances them between available agent servers.</p></li>
<li><p><strong>Agent servers</strong> — Hosts user sessions. One agent server typically
hosts multiple user sessions. Sessions are kept separate through user
isolation.</p></li>
<li><p><strong>Clients</strong> — The application used to connect to the ThinLinc
cluster. This can either be <a class="reference internal" href="index.html#client"><span class="std std-ref">The native client</span></a> or <a class="reference internal" href="index.html#tlwebaccess"><span class="std std-ref">ThinLinc Web Access</span></a>.</p></li>
</ul>
<p>A single machine can act both as a master and an agent server
simultaneously.</p>
<p>A common ThinLinc cluster consists of one master server, and as many
agent servers as warranted by the client load. An additional redundant
master server may be added to increase the robustness of the system.</p>
</section>
<section id="system-integration">
<h3>System integration<a class="headerlink" href="#system-integration" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc tightly integrates with the host Linux system. For instance,
ThinLinc relies on the system user database and utilizes the system’s
native authentication mechanisms. This is analogous to how SSH works.</p>
<p>Once tools and applications are installed on the agent servers, they
become seamlessly accessible to the users. Similarly, the graphical user
interface provided to a connected user depends on the installed desktop
environment. If multiple desktop environments are installed in parallel,
users are prompted to pick one at the start of a session.</p>
</section>
<section id="session-overview">
<h3>Session overview<a class="headerlink" href="#session-overview" title="Permalink to this headline">¶</a></h3>
<p>Connecting clients are handed a session on an agent server. This
assignment is managed by a master server, which delegates sessions based
on agent server load. The following steps are executed during the
connection process:</p>
<ol class="arabic simple">
<li><p>Client establishes an encrypted connection to a master server.</p></li>
<li><p>Client authenticates to the master server.</p></li>
<li><p>Master server checks for an existing user session, or prepares a new
session on an agent server.</p></li>
<li><p>Client disconnects from the master server.</p></li>
<li><p>Client establishes an encrypted connection to the designated agent
server.</p></li>
</ol>
<p>At this point, a user session is active, allowing the user to freely
navigate the system. A user can leave a session either by disconnecting
or logging out. If the user disconnects, the session remains active and
available for reconnecting to; if the user logs out, the session
terminates.</p>
</section>
</section>
<span id="document-obtaining"></span><section id="obtaining-thinlinc">
<span id="id1"></span><h2>Obtaining ThinLinc<a class="headerlink" href="#obtaining-thinlinc" title="Permalink to this headline">¶</a></h2>
<p>The ThinLinc client and server software is available for download, free
of charge, from <a class="reference external" href="https://www.cendio.com">https://www.cendio.com</a>. The software may also be
downloaded from various third-party sources.</p>
<section id="verifying-the-software-packages">
<span id="verifying-thinlinc"></span><h3>Verifying the software packages<a class="headerlink" href="#verifying-the-software-packages" title="Permalink to this headline">¶</a></h3>
<p>For RPM-based systems, the software packages have been signed by Cendio.
This signature can be verified using the public key available from
<a class="reference external" href="https://www.cendio.com/thinlinc/download">https://www.cendio.com/thinlinc/download</a>.</p>
<p>The key is also available from <a class="reference external" href="https://keys.openpgp.org">https://keys.openpgp.org</a> and
<a class="reference external" href="https://keyserver.ubuntu.com">https://keyserver.ubuntu.com</a>, by searching for the fingerprint provided
on the downloads page.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound" id="toc-install">
<span id="document-requirements_server"></span><section id="server-requirements">
<span id="requirements-server"></span><h2>Server requirements<a class="headerlink" href="#server-requirements" title="Permalink to this headline">¶</a></h2>
<section id="thinlinc-system-and-software-requirements">
<h3>ThinLinc system and software requirements<a class="headerlink" href="#thinlinc-system-and-software-requirements" title="Permalink to this headline">¶</a></h3>
<p>Minimum requirements:</p>
<ul class="simple">
<li><p>An x86_64 (or compatible) CPU</p></li>
<li><p>glibc 2.12, or newer</p></li>
<li><p>Python 3.4.4, or newer</p></li>
<li><p>Support for .rpm or .deb package formats</p></li>
<li><p>An SSH (secure shell) server</p></li>
</ul>
<p>As long as your platform fulfills the requirements above, ThinLinc
should work as expected. If any additional packages are required,
ThinLinc will offer to install these automatically during setup.</p>
</section>
<section id="a-note-on-server-sizing">
<span id="requirements-server-sizing"></span><h3>A note on server sizing<a class="headerlink" href="#a-note-on-server-sizing" title="Permalink to this headline">¶</a></h3>
<p>Since each use-case is different, it is hard to provide estimates in
advance of the amount of compute resources (CPU, RAM, storage, etc.)
required by a ThinLinc installation. However, there are several
guidelines which can help you establish these requirements early on:</p>
<ul class="simple">
<li><p>ThinLinc has very modest resource requirements. Check the requirements
for your operating system and applications, and use these as a
baseline instead.</p></li>
<li><p>Set up a proof-of-concept installation, and monitor resources under
typical usage scenarios. If you need extra temporary licenses for
testing purposes, let us know.</p></li>
<li><p>If you are likely to have a lot of users all logging in at the same
time, make sure to size your master server accordingly.</p></li>
<li><p>In cluster configurations, try to find a balance between a small
number of powerful servers, and a large number of weaker ones.</p></li>
<li><p>Adding and removing agent servers from a cluster is trivial. So if
resource requirements change, or you don’t quite get it right first
time, it is easy to adjust your ThinLinc installation to suit.</p></li>
</ul>
</section>
</section>
<span id="document-network"></span><section id="network-requirements">
<span id="network"></span><h2>Network requirements<a class="headerlink" href="#network-requirements" title="Permalink to this headline">¶</a></h2>
<p>Naturally, the network at the site where ThinLinc is to be installed
needs to be prepared for the installation. This section aims to help in
understanding the requirements of the network for a successful ThinLinc
installation.</p>
<p>We will start by describing a simple setup, where all ThinLinc servers
are directly accessible by the client. We will then explain how a site
with NAT can use a NAT/split-DNS setup to access ThinLinc efficiently
both from the inside network and from the Internet.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Regardless of network configuration, each server in a ThinLinc
cluster must be reachable by the client, either directly or
indirectly.</p>
</div>
<section id="a-simple-thinlinc-setup">
<span id="network-simple"></span><h3>A simple ThinLinc setup<a class="headerlink" href="#a-simple-thinlinc-setup" title="Permalink to this headline">¶</a></h3>
<figure class="align-default" id="id1">
<span id="network-simple-fig"></span><img alt="_images/network-simple.svg" src="_images/network-simple.svg" /><figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">A simple ThinLinc setup</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#network-simple-fig"><span class="std std-numref">Fig. 1</span></a>, a simple ThinLinc setup is shown. In
this setup, clients are configured to connect to
<strong>thinlinc.example.com</strong>, DNS is configured with information about what
IP addresses correspond to the hostnames <strong>thinlinc.example.com</strong>,
<strong>tlagent1.example.com</strong> and <strong>tlagent2.example.com</strong> and no firewalls
are in the path between the clients and the servers.</p>
<p>The number of agents will range from 1 (possibly on the same host as the
master) to a larger number, based on the number of users who are using the
system. In this example, there is one host running both master (the process
controlling the whole ThinLinc cluster) and agent services, and two dedicated
agent hosts running only sessions.</p>
<p>Native clients will communicate with the servers solely via SSH (port 22
by default). Browser clients will connect via TLS at port 300.</p>
</section>
<section id="thinlinc-in-a-nat-split-dns-environment">
<span id="network-nat"></span><h3>ThinLinc in a NAT/split-DNS environment<a class="headerlink" href="#thinlinc-in-a-nat-split-dns-environment" title="Permalink to this headline">¶</a></h3>
<figure class="align-default" id="id2">
<span id="network-nat-fig"></span><img alt="_images/network-NAT.svg" src="_images/network-NAT.svg" /><figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">ThinLinc in a NAT/Split-DNS environment</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>At many sites, the internal network is behind a firewall doing Network
Address Translation (NAT). This means that the IP addresses on the
internal network are private, and not accessible from the Internet.</p>
<p>As long as ThinLinc servers are only meant to be accessed from the
internal network, this is no problem, and the situation will be like the
one described in <a class="reference internal" href="#network-simple"><span class="std std-ref">A simple ThinLinc setup</span></a>. However, if the ThinLinc servers
are meant to be accessed from the Internet as well, some network
configuration is required.</p>
<section id="relays">
<span id="network-nat-relays"></span><h4>Relays<a class="headerlink" href="#relays" title="Permalink to this headline">¶</a></h4>
<p>First, relays must be configured in the firewall. One IP address
reachable from the outside network per ThinLinc server needs to be
available, and each should be equipped with a relay forwarding traffic
from TCP port 22 on the outside to TCP port 22 on one specific ThinLinc
server. In our example, as shown in <a class="reference internal" href="#network-nat-fig"><span class="std std-numref">Fig. 2</span></a>, there is
one relay listening to TCP port 22 on the externally reachable IP
address <strong>x.12.253.1</strong> forwarding traffic to the ThinLinc server on the
internal network with IP address <strong>10.0.0.12</strong>, one relay listening on
TCP port 22 on the externally reachable IP address <strong>x.12.253.2</strong>
forwarding traffic to the ThinLinc server on the internal network with
IP address <strong>10.0.0.13</strong>, and so on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For single-node ThinLinc clusters where master and agent services are
running on the same host, it is possible to use port forwarding
instead of NAT. In this instance, a single port may be forwarded from
the public interface to the host, and the ThinLinc client configured
to use this port.</p>
</div>
</section>
<section id="dns">
<span id="network-nat-dns"></span><h4>DNS<a class="headerlink" href="#dns" title="Permalink to this headline">¶</a></h4>
<p>After configuring the relays, DNS must be configured so DNS queries for
the hostnames of the ThinLinc servers get different answers depending on
the origin of the query. DNS queries originating from the internal
network should be answered with the real IP addresses of the servers,
and DNS queries originating from the outside network should be answered
with the IP addresses on the firewall, where the relays are listening.</p>
<p>In our example, if a host on the internal network is asking for the IP
address of the hostname <strong>thinlinc.example.com</strong> it should get the IP
address <strong>10.0.0.12</strong> as the answer. If an outside host is asking for
the IP address of the same hostname it should instead get the IP address
<strong>x.12.253.1</strong> as the answer.</p>
<p>When configured this way, a client connecting from the internal network
will communicate directly with the ThinLinc servers, without the need to
pass the firewall, while clients connecting from the outside will pass
through the firewall and the relays to communicate with the ThinLinc
servers. This will ensure optimal performance for clients from the
internal network, at the same time lowering the load on the firewall.</p>
</section>
<section id="configuring-the-agents">
<span id="network-nat-vsmagent"></span><h4>Configuring the agents<a class="headerlink" href="#configuring-the-agents" title="Permalink to this headline">¶</a></h4>
<p>Finally, after configuring relays and DNS, the agents must be configured
to respond with the correct hostname when asked by the master what
hostname the clients should connect to. The default behavior is to
respond with the IP address of the host, but that will not work in this
case since clients connecting from the external network won’t have any
route to for example <strong>10.0.0.13</strong>. Instead, the agents should be
configured to respond with the hostnames that can be found in both the
internal and the external DNS.</p>
<p>For information on performing this configuration, see
<a class="reference internal" href="index.html#install-agent-hostname"><span class="std std-ref">External access behind NAT</span></a>.</p>
</section>
</section>
</section>
<span id="document-install_install"></span><section id="installing-the-thinlinc-server">
<span id="install-install"></span><h2>Installing the ThinLinc server<a class="headerlink" href="#installing-the-thinlinc-server" title="Permalink to this headline">¶</a></h2>
<p>For information on where to find the ThinLinc server software, see
<a class="reference internal" href="index.html#obtaining-thinlinc"><span class="std std-ref">Obtaining ThinLinc</span></a>. For instructions on how to upgrade a
pre-existing ThinLinc installation, see <a class="reference internal" href="index.html#install-upgrade"><span class="std std-ref">Upgrading ThinLinc</span></a>.</p>
<p>Start by downloading the ThinLinc server, extracting the ZIP file and
running the <strong class="program">install-server</strong> script in the extracted archive’s
root directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>unzip tl-x.y.z-server.zip
<span class="gp">$ </span><span class="nb">cd</span> tl-x.y.z-server
<span class="gp">$ </span>sh ./install-server
</pre></div>
</div>
<p><strong class="program">install-server</strong> will install the ThinLinc server package
suitable for your system from the <code class="file docutils literal notranslate"><span class="pre">packages</span></code> subdirectory. It
will then ask if you want to run ThinLinc setup. Answer yes to this
prompt or start ThinLinc setup manually by running
<strong class="program">/opt/thinlinc/sbin/tl-setup</strong>.</p>
<p>Moreover, remember to review the platform-specific notes that apply
to your server platform: <a class="reference external" href="https://www.cendio.com/thinlinc/docs/platforms/">https://www.cendio.com/thinlinc/docs/platforms/</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ThinLinc server can also be installed and configured
non-interactively, see <a class="reference internal" href="index.html#install-automatic"><span class="std std-ref">Automated installation</span></a> for more information.</p>
</div>
<section id="thinlinc-setup">
<span id="install-tl-setup"></span><h3>ThinLinc setup<a class="headerlink" href="#thinlinc-setup" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc setup is responsible for configuring ThinLinc and installing
any missing dependencies. When installing ThinLinc on a new machine,
ThinLinc setup always needs to be run.</p>
<p>ThinLinc setup will give you the choice to configure ThinLinc as a
master or an agent. Selecting master will configure the system as a
standalone ThinLinc server, while selecting agent will configure it as
an agent node that is part of a load-balanced ThinLinc cluster. If this
is the first ThinLinc system you are configuring, select master.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case you want to redo any of the configuration steps done by
ThinLinc setup, you can always re-run it by running
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/sbin/tl-setup</span></code>.</p>
</div>
<p>On SELinux enabled distributions, ThinLinc setup will optionally modify
the local system policy. See <a class="reference internal" href="index.html#install-selinux"><span class="std std-ref">SELinux enabled distributions</span></a> for more
information.</p>
</section>
<section id="sudo-configuration">
<span id="install-sudo-configuration"></span><h3>Sudo configuration<a class="headerlink" href="#sudo-configuration" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc ships with an array of administration commands. Some of these
needs root privileges to run. To use these commands with <strong class="command">sudo</strong>
and not have to specify the entire path to the command, <strong class="command">sudo</strong>
needs to be configured to trust ThinLinc paths. This is achieved by
editing <strong class="command">sudo</strong>’s <code class="docutils literal notranslate"><span class="pre">secure_path</span></code> in <code class="file docutils literal notranslate"><span class="pre">/etc/sudoers</span></code> using
<strong class="command">visudo</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo visudo
</pre></div>
</div>
<p>Add <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/bin</span></code> and <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/sbin</span></code> to
<code class="docutils literal notranslate"><span class="pre">secure_path</span></code> and save the file.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>If this was in <code class="file docutils literal notranslate"><span class="pre">/etc/sudoers</span></code> before:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin
</pre></div>
</div>
<p>Then after you add the ThinLinc paths it should be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin:/opt/thinlinc/bin:/opt/thinlinc/sbin
</pre></div>
</div>
</div>
</section>
<section id="external-access-behind-nat">
<span id="install-agent-hostname"></span><h3>External access behind NAT<a class="headerlink" href="#external-access-behind-nat" title="Permalink to this headline">¶</a></h3>
<p>As described in <a class="reference internal" href="index.html#architecture"><span class="std std-ref">ThinLinc architecture</span></a>, the ThinLinc client first connects
to the master machine. The master responds with the IP or domain name of
the agent machine assigned to host the session. The client will then
directly connect to this agent machine. This is true in all cases, even
when you have a standalone ThinLinc server (where a single machine acts
both as the master and agent).</p>
<p>By default, the master will respond with the IP address assigned to the
agent machine. As this IP will generally only be reachable from within
the local area network, ThinLinc requires you to specify the public IP
or domain name through which the agent machine in question is externally
reachable.</p>
<p>This is done by selecting one of the external connections options in
tl-setup or by setting the parameter
<a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a> to the machine’s publicly reachable
IP or domain name and restarting the agent service:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /vsmagent/agent_hostname<span class="o">=</span>thinlinc.example.com
<span class="gp">$ </span>sudo systemctl restart vsmagent
</pre></div>
</div>
<p>As described in <a class="reference internal" href="index.html#network"><span class="std std-ref">Network requirements</span></a>, each ThinLinc machine should have its
own publicly reachable IP. <a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a> will
thus be unique for each individual machine.</p>
</section>
<section id="next-steps">
<span id="install-next-steps"></span><h3>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h3>
<p>Assuming you have a desktop environment installed alongside the ThinLinc
server, you should now be able to connect using either the <a class="reference internal" href="index.html#client"><span class="std std-ref">Native
Client</span></a> or the browser based <a class="reference internal" href="index.html#tlwebaccess"><span class="std std-ref">ThinLinc Web
Access</span></a> using the same credentials as when logging in to
your server over SSH. See <a class="reference internal" href="index.html#clientcomparison"><span class="std std-ref">Choosing a client</span></a> and
<a class="reference internal" href="index.html#authentication"><span class="std std-ref">Authentication in ThinLinc</span></a> for further information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Having issues connecting to your ThinLinc server? Take a look at the
<a class="reference internal" href="index.html#troubleshoot"><span class="std std-ref">Troubleshooting ThinLinc</span></a> chapter.</p>
</div>
<p>You should now have a fully functioning ThinLinc setup. If you want to
make additional tweaks to your setup, a few starting points are listed
below:</p>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#licensehandling"><span class="std std-ref">Installing license files to accommodate more than 10 concurrent
users</span></a></p></li>
<li><p><a class="reference internal" href="index.html#install-cluster"><span class="std std-ref">Spreading the session load over multiple
machines</span></a></p></li>
<li><p><a class="reference internal" href="index.html#ha"><span class="std std-ref">Configuring high availability</span></a></p></li>
<li><p><a class="reference internal" href="index.html#virtualgl"><span class="std std-ref">Enabling hardware accelerated 3D graphics with
VirtualGL</span></a></p></li>
</ul>
</section>
</section>
</div>
<div class="toctree-wrapper compound" id="toc-optional">
<span id="document-authentication"></span><section id="authentication-in-thinlinc">
<span id="authentication"></span><h2>Authentication in ThinLinc<a class="headerlink" href="#authentication-in-thinlinc" title="Permalink to this headline">¶</a></h2>
<p>In this chapter we will describe how authentication of users is
performed in ThinLinc</p>
<div class="toctree-wrapper compound">
<span id="document-authentication_pam"></span><section id="pluggable-authentication-modules">
<span id="authentication-pam"></span><h3>Pluggable Authentication Modules<a class="headerlink" href="#pluggable-authentication-modules" title="Permalink to this headline">¶</a></h3>
<p>Authentication of users in ThinLinc is performed using the <em>Pluggable
Authentication Modules</em> (PAM). This means ThinLinc can authenticate
users using any system for which there is a PAM module. Examples of PAM
modules are <strong>pam_ldap</strong> for accessing LDAP directories (including
Novell NDS/eDirectory) and <strong>pam_winbind</strong> for authenticating against a
Windows Domain. Of course, authentication using the standard plaintext
password files of Linux is also possible using the PAM module
<strong>pam_unix</strong>.</p>
<section id="configuration-files-for-pam">
<span id="authentication-pam-files"></span><h4>Configuration files for PAM<a class="headerlink" href="#configuration-files-for-pam" title="Permalink to this headline">¶</a></h4>
<p>PAM is configured by editing the files located in the directory
<code class="file docutils literal notranslate"><span class="pre">/etc/pam.d/</span></code>.</p>
<p>Different Linux distributions have slightly different ways of
configuring PAM. The ThinLinc installation program will set up ThinLinc
to authenticate using the same PAM setup as the Secure Shell Daemon, by
creating a symbolic link from <code class="file docutils literal notranslate"><span class="pre">/etc/pam.d/thinlinc</span></code> to either
<code class="file docutils literal notranslate"><span class="pre">/etc/pam.d/sshd</span></code> or <code class="file docutils literal notranslate"><span class="pre">/etc/pam.d/ssh</span></code>, depending on which of
the latter files that exists at installation. This seems to work on most
distributions. Be aware that the PAM settings for the Secure Shell
Daemon might really be somewhere else. For example, on Red Hat
distributions, the file <code class="file docutils literal notranslate"><span class="pre">/etc/pam.d/system-auth</span></code> is included by
all other PAM files, so in most cases, that is the file that should be
modified instead of the file used by sshd.</p>
</section>
</section>
<span id="document-authentication_limitations"></span><section id="limitations">
<span id="authentication-limitations"></span><h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<p>Some PAM modules and authentication mechanisms are case-sensitive, while
others are not. Usernames in the ThinLinc client are case-sensitive by
default, however this behavior can be changed. See
<a class="reference internal" href="index.html#client-config-LOWERCASE_LOGIN_NAME"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">LOWERCASE_LOGIN_NAME</span></code></a> in <a class="reference internal" href="index.html#clientconf-params"><span class="std std-ref">Client configuration parameters</span></a> for
details.</p>
<p>The SSH server should be configured to allow “keyboard-interactive”
authentication for full functionality. The “password” authentication
method does not allow multiple interactive prompts, which are required
for things such as password changes during login.</p>
</section>
<span id="document-authentication_publickey"></span><section id="using-public-key-authentication">
<span id="publickey-authentication"></span><h3>Using public key authentication<a class="headerlink" href="#using-public-key-authentication" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>Public key authentication is a more secure alternative to passwords. It
uses a challenge/response mechanism that prevents even the server from
gaining access to the authentication information. This section will
describe how to configure ThinLinc to use it.</p>
</section>
<section id="key-generation">
<h4>Key generation<a class="headerlink" href="#key-generation" title="Permalink to this headline">¶</a></h4>
<p>In order to use public key authentication, a pair of encryption keys
must be generated. Tools to accomplish this should be included with the
SSH server. On Linux, that server is normally OpenSSH and the tool to
generate keys is called <strong class="command">ssh-keygen</strong>.</p>
<p>Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh-keygen
<span class="go">Generating public/private rsa key pair.</span>
<span class="go">Enter file in which to save the key (/home/johndoe/.ssh/id_rsa):</span>
<span class="go">Enter passphrase (empty for no passphrase):</span>
<span class="go">Enter same passphrase again:</span>
<span class="go">Your identification has been saved in /home/johndoe/.ssh/id_rsa.</span>
<span class="go">Your public key has been saved in /home/johndoe/.ssh/id_rsa.pub.</span>
<span class="go">The key fingerprint is:</span>
<span class="go">e1:87:0d:82:71:df:e9:4a:b0:a8:e3:cd:e8:79:58:32 johndoe@example.com</span>
</pre></div>
</div>
<p>Remember that the private key (<code class="file docutils literal notranslate"><span class="pre">id_rsa</span></code> in the example) is a
password equivalent and should be handled with care. The public key
(<code class="file docutils literal notranslate"><span class="pre">id_rsa.pub</span></code> in the example) does not need to be kept secret.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SSH key format is not standardized, so it may be required to
convert the keys depending on which servers you will be using.</p>
</div>
</section>
<section id="server-configuration">
<h4>Server configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h4>
<p>All SSH servers must support public key authentication, so any SSH
server will work. It is important, however, to verify that public key
authentication is not disabled. Refer to the documentation for your SSH
server for instructions on how to do this.</p>
<p>Next, the public keys need to be associated with the correct users. For
OpenSSH, you must store a copy of the public key in the users’ home
directory, specifically in the file <code class="file docutils literal notranslate"><span class="pre">~/.ssh/authorized_keys</span></code>. This
file can contain multiple keys, each on a separate line.</p>
</section>
<section id="client-configuration">
<h4>Client configuration<a class="headerlink" href="#client-configuration" title="Permalink to this headline">¶</a></h4>
<p>The client must have a copy of the private key associated with the
public key stored on the server. The key can be stored anywhere,
although on Linux it is commonly stored as <code class="file docutils literal notranslate"><span class="pre">~/.ssh/id_rsa</span></code>. The
user will be able to specify where the key is located in the ThinLinc
client interface.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The client currently only supports the OpenSSH key format. If your
keys are in another format, e.g. for PuTTY, then they must first be
converted before they can be used with ThinLinc.</p>
</div>
</section>
</section>
<span id="document-authentication_scpublickey"></span><section id="using-smart-card-public-key-authentication">
<span id="scpublickey-authentication"></span><h3>Using smart card public key authentication<a class="headerlink" href="#using-smart-card-public-key-authentication" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>Smart card public key authentication is an advanced version of the
method described in <a class="reference internal" href="index.html#publickey-authentication"><span class="std std-ref">Using public key authentication</span></a>. It uses the same
basic principle but stores the private key on a smart card, where it can
never be extracted. This section will describe how to configure ThinLinc
to use it.</p>
</section>
<section id="general-requirements">
<h4>General requirements<a class="headerlink" href="#general-requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Smart cards with an appropriate PKCS#11 library. The library included
with ThinLinc requires PKCS#15 compliant smart cards and PC/SC
libraries on the client system.</p></li>
</ul>
</section>
<section id="key-generation">
<h4>Key generation<a class="headerlink" href="#key-generation" title="Permalink to this headline">¶</a></h4>
<p>The keys on the smart card are generated when the smart card is issued.
How this is done is not covered by this guide.</p>
</section>
<section id="server-configuration">
<h4>Server configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h4>
<p>To use a smart card with ThinLinc, the public key must be extracted off
the card and associated with a user on the ThinLinc server. The method
for doing this depends on your smart card and your SSH server.</p>
<p>On Linux, with the OpenSSH server and an PKCS#15 compliant smart card,
the tool <strong class="command">pkcs15-tool</strong> (part of the OpenSC suite) is able to
extract the public key.</p>
<p>The first step is identifying the certificate on the card:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pkcs15-tool --list-certificates
<span class="go">X.509 Certificate [identification]</span>
<span class="go">        Flags    : 0</span>
<span class="go">        Authority: no</span>
<span class="go">        Path     : 3f0050154331</span>
<span class="go">        ID       : 45</span>
</pre></div>
</div>
<p>The second step is to extract the key, based on the ID number:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pkcs15-tool --read-ssh-key <span class="m">45</span>
<span class="go">1024 65537 918282501237151981353694684191630174855276113858858644490084487922635</span>
<span class="go">27407657612671471887563630990149686313179737831148878256058532261207121307761545</span>
<span class="go">37226554073750496652425001832055579758510787971892507619849564722087378266977930</span>
<span class="go">9875752082163453335538210518946058646748977963861144645730357512544251473818679</span>
<span class="go">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQCCxIx/xtVoDR2qwY4Pym7F6yKmdJsB26MUbbTiGT7o</span>
<span class="go">6M6G4A2l5Go1kdQRNjOWDJE9HZWToaApSkVprNeiQLeOkbELz2yND2Te/Oyl3u44YeIUImT1v4t7q9jC</span>
<span class="go">MTpfZ+TpxLf0sd3DAk2So8EBAtUkhib/ugKqfTCqB7WNoHf0Nw==</span>
</pre></div>
</div>
<p>The second line, starting with <code class="docutils literal notranslate"><span class="pre">ssh-rsa</span></code>, is the one needed for SSH
version 2 authentication. For instructions on how to associate this key
with a user, see <a class="reference internal" href="index.html#publickey-authentication"><span class="std std-ref">Using public key authentication</span></a>.</p>
</section>
<section id="client-configuration">
<h4>Client configuration<a class="headerlink" href="#client-configuration" title="Permalink to this headline">¶</a></h4>
<p>The ThinLinc client requires no special configuration to use the smart
card.</p>
</section>
<section id="automatic-connection">
<span id="smartcard-auto"></span><h4>Automatic connection<a class="headerlink" href="#automatic-connection" title="Permalink to this headline">¶</a></h4>
<p>The client is able to automatically connect to the server when a smart
card is inserted (see <a class="reference internal" href="index.html#client-security-tab"><span class="std std-ref">Security tab</span></a>). It does, however,
require that the user is able to log in using the subject name on the
card. As that is rarely a valid username, ThinLinc ships with a special
NSS module, called <strong>nss-passwdaliases</strong>, that enables alternate names
for users.</p>
<p>The module is configured by editing the file <code class="file docutils literal notranslate"><span class="pre">/etc/passwdaliases</span></code>.
The file is a colon-delimited table of alternate names and their
corresponding user ids. Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>givenname=John,sn=Doe,c=us:572
</pre></div>
</div>
<p>To activate the nss-passwdaliases module, it must be added to the list
of NSS modules for the <strong>passwd</strong> database. This is specified in the
file <code class="file docutils literal notranslate"><span class="pre">/etc/nsswitch.conf</span></code>. For example, replace the following
line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>passwd: files ldap
</pre></div>
</div>
<p>with this line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>passwd: files ldap passwdaliases
</pre></div>
</div>
</section>
<section id="ldap-automatic-update-tl-ldap-certalias">
<span id="certalias"></span><h4>LDAP automatic update (tl-ldap-certalias)<a class="headerlink" href="#ldap-automatic-update-tl-ldap-certalias" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc includes the tool <strong class="program">tl-ldap-certalias</strong> that can
automatically update the local databases needed for smart card public
key authentication, provided the system uses the OpenSSH server (or any
SSH server that uses a compatible format and location for authorized
public keys) and standards compliant LDAP servers where users and
certificates are stored.</p>
<p>For details about using this command, see the full documentation for
<a class="reference internal" href="index.html#document-man/tl-ldap-certalias.8"><span class="doc">tl-ldap-certalias</span></a>.</p>
</section>
</section>
<span id="document-authentication_otp"></span><section id="using-one-time-passwords">
<span id="otp-authentication"></span><h3>Using one-time passwords<a class="headerlink" href="#using-one-time-passwords" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>In this section, we will describe how to configure ThinLinc for
authentication against one-time password (OTP) servers, such as the RSA
SecurID. By using OTPs, you can increase the system security.</p>
</section>
<section id="general-requirements">
<h4>General requirements<a class="headerlink" href="#general-requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>An OTP server which accepts the OTP twice. This is due to the
ThinLinc architecture: The client first contacts the master machine,
and then the agent host. When using RSA SecurID, we recommend using
the Steel-Belted Radius server as a “Token Caching Server”.</p></li>
<li><p>An user database (directory server) that is supported both by the
operating system on the ThinLinc servers, and the OTP server. We
recommend using an LDAP directory server.</p></li>
<li><p>The operating systems on the ThinLinc servers must support the OTP
servers authentication protocol. We recommend using the RADIUS
protocol, by using the <strong>pam_radius_auth</strong> PAM module from the
<a class="reference external" href="https://freeradius.org">FreeRADIUS project</a>.</p></li>
<li><p>The SSH server on the ThinLinc servers must accept
“keyboard-interactive” authentication. It’s recommended to disable
“password” authentication.</p></li>
</ul>
</section>
<section id="configuration-for-rsa-securid">
<span id="authentication-securid"></span><h4>Configuration for RSA SecurID<a class="headerlink" href="#configuration-for-rsa-securid" title="Permalink to this headline">¶</a></h4>
<p>This section describes how to deploy an OTP solution based on RSA
SecurID with ThinLinc. When using this solution, the SecurID PASSCODEs
are used instead of normal passwords. The PASSCODE should be entered in
the ThinLinc client password input field. Please observe the following
limitations:</p>
<ul>
<li><p>When SecurID requests additional information, in addition to the
PASSCODE initially entered, a popup dialog will be used. This
happens, for example, in Next Token or New PIN mode. After finishing
the dialog, the ThinLinc client will display a “Login failed!” error
message. This happens since the SBR server clears the token cache
when additional information is requested. When this happens, wait
until the token changes once more, and log in again.</p></li>
<li><p>The ThinLinc Single Sign-On mechanism will store the string entered
in the client’s password input field. When using SecurID, this is the
PASSCODE, which cannot be used for further logins. To use the Single
Sign-On mechanism, the user must be prompted for their real password.
This can be done with the program <strong class="program">tl-sso-update-password</strong>.
To configure ThinLinc so that this program is executed during login,
execute this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /opt/thinlinc/bin/tl-sso-update-password <span class="se">\</span>
  /opt/thinlinc/etc/xstartup.d/05-tl-sso-update-password
</pre></div>
</div>
</li>
</ul>
<p>The configuration example below assumes that you are using LDAP and
RADIUS, and the Steel-Belted Radius (SBR) server. Step 8 through 11
should be repeated on all ThinLinc servers.</p>
<ol class="arabic">
<li><p>Install and configure RSA Authentication Manager (ACE server). For
basic configuration tasks such as creating users and assigning
tokens, we refer to the RSA documentation.</p></li>
<li><p>Create a new Agent Host for the SBR server, with type <span class="guilabel">Net
OS Agent</span>. Select which users should be able to log in through
ThinLinc. To allow all users, check the <span class="guilabel">Open to All
Locally Known Users</span> checkbox.</p></li>
<li><p>Generate a configuration file for the SBR server, by selecting
<span class="menuselection">Agent ‣ Host ‣ Generate Configuration File</span>.
Copy this file to <code class="file docutils literal notranslate"><span class="pre">c:\windows\system32</span></code> on the machine
running SBR.</p></li>
<li><p>Open the SBR Administrator. Create clients for all ThinLinc servers,
using default settings. Make sure you enter a shared secret.</p></li>
<li><p>Use SBR Administrator to create a SecurID user. The user should
typically be of type <span class="guilabel">&lt;ANY&gt;</span>.</p></li>
<li><p>Modify the SBR Authentication Policy, so that the only active method
is <span class="guilabel">SecurID User</span>. Exit SBR Administrator.</p></li>
<li><p>Enable ACE authentication caching by editing the configuration file
<code class="file docutils literal notranslate"><span class="pre">c:\radius\service\radius.ini</span></code> and set:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[SecurID]</span>
<span class="na">CachePasscodes</span>          <span class="o">=</span> <span class="s">yes</span>
<span class="na">SecondsToCachePasscodes</span> <span class="o">=</span> <span class="s">60</span>
</pre></div>
</div>
<p>Restart SBR after changing the configuration file. For more
information about ACE authentication caching, refer to the
Steel-Belted Radius Tech Note RD310.</p>
</li>
<li><p>Install <strong>pam_radius_auth</strong>. Some distributions, such as SUSE,
include this module.</p></li>
<li><p>Configure <strong>pam_radius_auth</strong>, by creating
<code class="file docutils literal notranslate"><span class="pre">/etc/raddb/server</span></code>. It should contain the SBR server name,
port, and a shared secret. Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>myotpserver.example.com:1812 mysecret
</pre></div>
</div>
</li>
<li><p>Configure the ThinLinc servers for RADIUS authentication by
modifying its PAM configuration. The exact procedure depends on the
system, but typically, this can be done by modifying
<code class="file docutils literal notranslate"><span class="pre">/etc/pam.d/system-auth</span></code>, by inserting the line</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>auth        sufficient    /lib/security/pam_radius_auth.so use_first_pass
</pre></div>
</div>
<p>after the line containing <code class="docutils literal notranslate"><span class="pre">pam_unix.so</span></code>.</p>
</li>
<li><p>Restart the VSM and SSH server.</p></li>
<li><p>Log in to the system with an SSH client, and verify that an OTP is
required and accepted.</p></li>
<li><p>Log in to the system with a ThinLinc client, and verify that an OTP
is required and accepted.</p></li>
</ol>
</section>
</section>
</div>
</section>
<span id="document-licensehandling"></span><section id="license-handling">
<span id="licensehandling"></span><h2>License handling<a class="headerlink" href="#license-handling" title="Permalink to this headline">¶</a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>To run a session against a ThinLinc cluster, the server must be equipped
with license files. The license files specify the number of concurrent
users the cluster is allowed to run.</p>
<p>If no license files are installed on the cluster, a maximum of ten
concurrent users are allowed.</p>
<p>Each cluster can have one or several license files. Each file contains
licenses for a specific number of concurrent users. When the VSM Server
starts up, it reads all license files and creates a sum of the number of
concurrent users allowed based on the licenses from all files.</p>
<p>License files have one soft and one hard limit. When the soft limit is
reached, new sessions can still be started, but a license violation will
be logged and sent to the administrator (see
<a class="reference internal" href="#licensekeys-logemail"><span class="std std-ref">Log files and e-mail messages</span></a>). If however the hard limit has been
reached, new sessions cannot be started. The purpose of this system is
to allow growing organizations some time to adapt the number of licenses
to a growing number of concurrent sessions, avoiding loss of production.</p>
</section>
<section id="license-counting">
<h3>License counting<a class="headerlink" href="#license-counting" title="Permalink to this headline">¶</a></h3>
<p>One license is required for each pair of (<strong>username</strong>,
<strong>client hardware</strong>). This means that if a user runs several sessions
from the same client, only one license is used. If the same user runs
multiple concurrent sessions from different client hardware, multiple
licenses are required by the user.</p>
</section>
<section id="location-and-format-of-license-files">
<h3>Location and format of license files<a class="headerlink" href="#location-and-format-of-license-files" title="Permalink to this headline">¶</a></h3>
<p>License files are delivered either in the form of text files (filename
extension <code class="file docutils literal notranslate"><span class="pre">.license</span></code>) or ZIP files (filename extension
<code class="file docutils literal notranslate"><span class="pre">.zip</span></code>). Transfer each file to your ThinLinc master server and
place it in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/licenses</span></code>. Make sure that the
transfer of the files uses binary mode, or the license file might not be
verifiable. We recommend transferring via SCP or SFTP.</p>
<p>After adding new license files, either restart VSM Server by running
<strong class="command">/bin/systemctl restart vsmserver</strong> or wait until the VSM Server
automatically reads in the new licenses, something that happens once
every 12 hours.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When running VSM Server in a high availability setup (see <a class="reference internal" href="index.html#ha"><span class="std std-ref">High availability</span></a>),
license files should be copied to <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/licenses</span></code>
on both nodes.</p>
</div>
</section>
<section id="log-files-and-e-mail-messages">
<span id="licensekeys-logemail"></span><h3>Log files and e-mail messages<a class="headerlink" href="#log-files-and-e-mail-messages" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc logs user license violations to the file
<code class="file docutils literal notranslate"><span class="pre">/var/log/thinlinc-user-licenses</span></code>. Other license-related messages
are logged to <code class="file docutils literal notranslate"><span class="pre">/var/log/vsmserver.log</span></code>.</p>
<p>If license violations occur, ThinLinc sends email to the person defined
as system administrator in the parameter
<a class="reference internal" href="index.html#server-config-vsmserver-admin_email"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/admin_email</span></code></a> in <code class="file docutils literal notranslate"><span class="pre">vsmserver.hconf</span></code>. E-mail
messages warning about license violations are sent every 12 hours if any
license violations have occurred.</p>
</section>
<section id="checking-the-number-of-valid-licenses">
<h3>Checking the number of valid licenses<a class="headerlink" href="#checking-the-number-of-valid-licenses" title="Permalink to this headline">¶</a></h3>
<p>You can use the program <strong class="program">/opt/thinlinc/sbin/tl-show-licenses</strong>
to verify the number of valid user licenses. There is also a graph
available in the administrative interface. See <a class="reference internal" href="index.html#tlwebadm-status"><span class="std std-ref">The status module</span></a>
for more information.</p>
</section>
</section>
<span id="document-install_cluster"></span><section id="cluster-installation">
<span id="install-cluster"></span><h2>Cluster installation<a class="headerlink" href="#cluster-installation" title="Permalink to this headline">¶</a></h2>
<p>In this section, we will describe how to add agent servers to form a
ThinLinc cluster; allowing session load balancing and redundancy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section does <em>not</em> address configuration of high
availability. For information on configuring your ThinLinc cluster
for high availability, see <a class="reference internal" href="index.html#ha"><span class="std std-ref">High availability</span></a>.</p>
</div>
<p>A ThinLinc cluster consists of one master server (or two master servers
in a <a class="reference internal" href="index.html#ha"><span class="std std-ref">high availability configuration</span></a>) with multiple agent
servers. While ThinLinc in its simplest configuration may be run with
both the master and agent installed on the same machine, running
ThinLinc in a cluster configuration conveys numerous advantages:</p>
<ol class="arabic simple">
<li><p>A cluster configuration allows load balancing of sessions across
multiple agents</p></li>
<li><p>Having multiple agents offers redundancy; for example, if one agent
goes down or is taken out of service for maintenance, other agents
are still available to handle user sessions</p></li>
<li><p>A cluster configuration is scalable. Since most of the workload is
taken up by the agents and not the master, adding more capacity to
your ThinLinc installation is generally as easy as installing one or
more new agent servers</p></li>
</ol>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>This chapter assumes you already have a ThinLinc master server running,
installed according to <a class="reference internal" href="index.html#install-install"><span class="std std-ref">Installing the ThinLinc server</span></a>. It also assumes you can
authenticate using the same system credentials on all nodes in the
ThinLinc cluster.</p>
</section>
<section id="new-agent-configuration">
<span id="install-cluster-agent"></span><h3>New agent configuration<a class="headerlink" href="#new-agent-configuration" title="Permalink to this headline">¶</a></h3>
<p>Firstly, ThinLinc needs to be installed and configured on the new node
that is to be part of the agent pool:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended that all agent nodes in the cluster are kept
consistent in terms of configuration and software installed. This way
the user gets the same experience regardless of agent node.</p>
<p>Similarly, keeping user home directories on a central file server is
recommended for a consistent experience over all agent nodes.</p>
</div>
<ol class="arabic">
<li><p>Install ThinLinc on the new agent node according to
<a class="reference internal" href="index.html#install-install"><span class="std std-ref">Installing the ThinLinc server</span></a>. Select <span class="guilabel">Agent</span> when asked for the
type of ThinLinc server to configure.</p></li>
<li><p>Set <a class="reference internal" href="index.html#server-config-vsmagent-master_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/master_hostname</span></code></a> to the domain name or IP of
the pre-existing machine running the master service (<strong>vsmserver</strong>),
for example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /vsmagent/master_hostname<span class="o">=</span>master.example.com
</pre></div>
</div>
</li>
<li><p>For the browser client <a class="reference internal" href="index.html#tlwebaccess"><span class="std std-ref">Web Access</span></a> to work as
intended, set <a class="reference internal" href="index.html#server-config-webaccess-login_page"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/login_page</span></code></a> to the URL of the Web
Access login page on the master server, for example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /webaccess/login_page<span class="o">=</span>https://master.example.com:300/
</pre></div>
</div>
</li>
<li><p>Restart the agent and Web Access service (<strong>vsmagent</strong> and
<strong>tlwebaccess</strong>) on the new agent node:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl restart vsmagent tlwebaccess
</pre></div>
</div>
</li>
</ol>
</section>
<section id="master-configuration">
<span id="install-cluster-master"></span><h3>Master configuration<a class="headerlink" href="#master-configuration" title="Permalink to this headline">¶</a></h3>
<p>The machine running the master service then need to be made aware of the
agent node configured in the last step:</p>
<ol class="arabic">
<li><p>Add the newly created agent to <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/agents</span></code></a> of the subcluster where the
extra capacity is needed. If you are not using the <a class="reference internal" href="index.html#configuration-subcluster"><span class="std std-ref">subcluster
features</span></a> of ThinLinc, add it to the
<strong>Default</strong> subcluster:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="c1"># Get the current list of agents in the Default subcluster</span>
<span class="gp">$ </span>tl-config /vsmserver/subclusters/Default/agents
<span class="go">127.0.0.1</span>
<span class="gp">$ </span><span class="c1"># Add the new agent (new-agent.example.com) to the agent list</span>
<span class="gp">$ </span>sudo tl-config /vsmserver/subclusters/Default/agents<span class="o">=</span><span class="se">\</span>
<span class="s2">&quot;127.0.0.1 new-agent.example.com&quot;</span>
</pre></div>
</div>
</li>
<li><p>Restart the master service:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl restart vsmserver
</pre></div>
</div>
</li>
</ol>
</section>
<section id="next-steps">
<span id="install-cluster-next-steps"></span><h3>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h3>
<p>Your new agent node is now ready to accept new sessions. For further
information about further configuring and maintaining your ThinLinc
cluster, see <a class="reference internal" href="index.html#configuration-cluster"><span class="std std-ref">Cluster configuration</span></a>.</p>
</section>
</section>
<span id="document-HA"></span><section id="high-availability">
<span id="ha"></span><h2>High availability<a class="headerlink" href="#high-availability" title="Permalink to this headline">¶</a></h2>
<p>This chapter describes how to set up ThinLinc with High Availability
(from now on referred to as “HA”) for the VSM server. Since the VSM
server service handles load-balancing and the session database, it can
be problematic if the machine fails. ThinLinc HA provides protection for
this service against the single point of failure that the hardware
running the VSM server normally is.</p>
<p>The basic principle behind this setup is to have two equal machines,
both capable of running VSM server. If one of the machines goes down for
some reason, the other machine will take over and serve VSM server
requests with no or short interruption of service.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The HA functionality provided by ThinLinc provides synchronization of
the ThinLinc session database across two VSM servers. The software
used by these machines to implement failover is not part of ThinLinc,
and must be installed and configured according to your requirements.
The industry standard for doing so on Linux is provided by Pacemaker
and Corosync, see <a class="reference external" href="https://clusterlabs.org">https://clusterlabs.org</a> for more information.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-HA-overview"></span><section id="high-availability-overview">
<h3>High availability overview<a class="headerlink" href="#high-availability-overview" title="Permalink to this headline">¶</a></h3>
<section id="background-reasons-for-a-ha-setup">
<h4>Background — reasons for a HA setup<a class="headerlink" href="#background-reasons-for-a-ha-setup" title="Permalink to this headline">¶</a></h4>
<p>In a standard ThinLinc setup, there is a single point of failure — the
machine running the VSM server. If the VSM server is down, no new
ThinLinc connections can be made, and reconnections to existing sessions
can’t be established. Existing connections to VSM agent machines still
running will however continue to work. A ThinLinc cluster of medium size
with one machine running as VSM server and three VSM agent machines is
illustrated in <a class="reference internal" href="#vsm-server-agent-arch"><span class="std std-numref">Fig. 3</span></a>.</p>
<figure class="align-default" id="id1">
<span id="vsm-server-agent-arch"></span><img alt="_images/vsm-server-agent-arch.svg" src="_images/vsm-server-agent-arch.svg" /><figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">A non-HA ThinLinc cluster setup</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Here the incoming connections are handled by the VSM server which
distributes the connections to the three VSM agent machines. If the VSM
server goes down, no new connections can occur. The VSM server is a
single point of failure in your ThinLinc setup.</p>
</section>
<section id="solution-elimination-of-single-point-of-failure">
<h4>Solution — elimination of single point of failure<a class="headerlink" href="#solution-elimination-of-single-point-of-failure" title="Permalink to this headline">¶</a></h4>
<p>In order to eliminate the single point of failure, we configure the VSM
server in a HA configuration where two machines share the responsibility
for keeping the service running. Note that ThinLinc’s HA functionality
only handles the parts of your HA setup that keeps the ThinLinc session
database synchronized between the two machines. Supplementary software
is required, read more about this in <a class="reference internal" href="#ha-theory-of-operation"><span class="std std-ref">Theory of operation</span></a>.</p>
<p>When ThinLinc as well as your systems are configured this way, the two
machines are in constant contact with each other, each checking if the
other one is up and running. If one of the machines goes down for some
reason, for example hardware failure, the other machine detects the
failure and automatically takes over the service with only a short
interruption for the users. No action is needed from the system
administrator.</p>
</section>
<section id="theory-of-operation">
<span id="ha-theory-of-operation"></span><h4>Theory of operation<a class="headerlink" href="#theory-of-operation" title="Permalink to this headline">¶</a></h4>
<figure class="align-default" id="id2">
<span id="vsm-server-agent-ha-arch"></span><img alt="_images/vsm-server-agent-HA-arch.svg" src="_images/vsm-server-agent-HA-arch.svg" /><figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">A ThinLinc HA cluster setup</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>In a HA setup, as illustrated in <a class="reference internal" href="#vsm-server-agent-ha-arch"><span class="std std-numref">Fig. 4</span></a> two
equal machines are used to keep the VSM server running. One of the
machines is primary, the other one is secondary. The primary machine is
normally handling VSM server requests, but if it fails, the secondary
machine kicks in. When the primary machine comes online, it takes over
again. That is, in normal operation, it’s always the primary machine
that’s working, the secondary is in standby, receiving information from
the primary about new and deleted sessions, maintaining its own copy of
the session database.</p>
<p>Both machines have a unique hostname and a unique IP address, but
there is also a third IP address that is active only on the node
currently responsible for the VSM server service. This is usually
referred to as a resource IP address, which the clients are connecting
to. ThinLinc does not move this resource IP address between servers,
supplementary software is required for this purpose.</p>
</section>
</section>
<span id="document-HA-configuration"></span><section id="configuration-of-thinlinc-for-ha-operations">
<span id="ha-install"></span><h3>Configuration of ThinLinc for HA operations<a class="headerlink" href="#configuration-of-thinlinc-for-ha-operations" title="Permalink to this headline">¶</a></h3>
<p>In this section, we describe how ThinLinc is configured for high
availability.</p>
<section id="installation-of-a-new-ha-cluster">
<h4>Installation of a new HA cluster<a class="headerlink" href="#installation-of-a-new-ha-cluster" title="Permalink to this headline">¶</a></h4>
<p>In this section, we will describe how to set up a new HA cluster. In the
examples we will use a primary node with the hostname <strong>tlha-primary</strong>
and IP address <strong>10.0.0.2</strong>, a secondary node with the hostname
<strong>tlha-secondary</strong> and IP address <strong>10.0.0.3</strong>, and a resource IP
address of <strong>10.0.0.4</strong> with the DNS name <strong>tlha</strong>.</p>
<ol class="arabic">
<li><p>Begin by installing ThinLinc as described in <a class="reference internal" href="index.html#install-install"><span class="std std-ref">Installing the ThinLinc server</span></a>
on both nodes.</p></li>
<li><p>Both nodes in the HA cluster must have the same SSH host key. Copy
<code class="file docutils literal notranslate"><span class="pre">/etc/ssh/ssh_host_*</span></code> from the primary host to the secondary
host, and restart ssh on the secondary host.</p></li>
<li><p>Install and configure the system-level high-availability software,
for example the software provided by the ClusterLabs project, which
can be found at <a class="reference external" href="https://clusterlabs.org">https://clusterlabs.org</a>. This and other
high-availability software may also be provided as part of your
distribution, so check for the solution which best fits your
requirements before proceeding.</p></li>
<li><p>Configure the system’s high-availability software to watch the status
of the other machine via the network, and to enable the resource IP
address <strong>10.0.0.4</strong> on the active node. The machine with the
hostname <strong>tlha-primary</strong> should normally be active.</p></li>
<li><p>Configure each VSM agent to allow privileged operations both from
<strong>tlha-primary</strong> and <strong>tlha-secondary</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config <span class="s1">&#39;/vsmagent/allowed_clients=tlha-primary tlha-secondary&#39;</span>
</pre></div>
</div>
<p>Also, set the <a class="reference internal" href="index.html#server-config-vsmagent-master_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/master_hostname</span></code></a> to the DNS name
of the HA interface:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /vsmagent/master_hostname<span class="o">=</span>tlha
</pre></div>
</div>
<p>Restart all VSM agents after changing the configuration values.</p>
</li>
<li><p>Verify operations of VSM Server on both nodes. Make sure you can
start the VSM server properly on both hosts, and connect to the
respective hosts when VSM server is running (i.e., it should be
possible to connect, using <strong class="program">tlclient</strong>, to both
<strong>tlha-primary</strong> and to <strong>tlha-secondary</strong>).</p>
<p>Both nodes should be configured with the same subcluster
configuration.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is <strong>very important</strong> that 127.0.0.1 is not in the list of
agent servers of any subcluster. If the machines running VSM
server are also VSM agents, their unique hostnames or IP addresses
must be added to <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/agents</span></code></a>
instead of 127.0.0.1. The reason for this is that 127.0.0.1 will
be a different server based on which VSM server is currently
active.</p>
</div>
</li>
<li><p>After verifying that normal ThinLinc connections work as intended
when using both the primary and the secondary VSM server’s hostname,
it is time to enable HA in the VSM servers. This is done by setting
<a class="reference internal" href="index.html#server-config-vsmserver-HA-enabled"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/HA/enabled</span></code></a> to <code class="docutils literal notranslate"><span class="pre">1</span></code>, and by specifying the
nodes in the cluster in <a class="reference internal" href="index.html#server-config-vsmserver-HA-nodes"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/HA/nodes</span></code></a>. For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /vsmserver/HA/enabled<span class="o">=</span><span class="m">1</span>
<span class="gp">$ </span>sudo tl-config <span class="s1">&#39;/vsmserver/HA/nodes=tlha-primary.example.com tlha-secondary.example.com&#39;</span>
</pre></div>
</div>
<p>Configuration should be identical on both nodes. Restart the VSM
server on both nodes after configuration.</p>
</li>
<li><p>If vsmserver can’t safely determine which of the two nodes in
<a class="reference internal" href="index.html#server-config-vsmserver-HA-nodes"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/HA/nodes</span></code></a> is the remote node, and which is the
local node, it will start without HA enabled, and log a message. If
this happens, validate your hostname and DNS setup. One of the
entries of <a class="reference internal" href="index.html#server-config-vsmserver-HA-nodes"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/HA/nodes</span></code></a> must match the local
machine. Either the resolved IP of one of the entries in
<a class="reference internal" href="index.html#server-config-vsmserver-HA-nodes"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/HA/nodes</span></code></a> must match the local IP, or one entry
must exactly match the local hostname as returned by
<strong class="command">uname -n</strong>.</p></li>
<li><p>Once HA has been configured, tests should be performed in order to
confirm that the failover works as expected. This can normally be
done by simply removing the network cable from the primary node, and
ensuring that the secondary node then takes over. Check also that any
active ThinLinc sessions have been synchronized from the primary to
the secondary node, and that logging in to such a session on the
secondary node succeeds once the primary node has been disabled.</p></li>
</ol>
<p>Your ThinLinc HA cluster is now configured! When sessions are created,
changed or deleted on the currently active node, the information about
them will be transferred to the other node using an inter-VSM server
protocol. If the other node has to take over service, its copy of the
session data will be up-to-date, and it can start serving new requests
instantly. When the primary node comes up again, the secondary node will
resynchronize with the master.</p>
</section>
<section id="reconfiguring-an-existing-thinlinc-installation-into-ha-mode">
<h4>Reconfiguring an existing ThinLinc installation into HA mode<a class="headerlink" href="#reconfiguring-an-existing-thinlinc-installation-into-ha-mode" title="Permalink to this headline">¶</a></h4>
<p>If you have an existing ThinLinc installation and want to eliminate the
single point of failure (the VSM server), the procedure is very much
like the procedure for installing a new HA cluster.</p>
</section>
</section>
<span id="document-HA-recover"></span><section id="recovering-from-hardware-failures">
<span id="ha-recover"></span><h3>Recovering from hardware failures<a class="headerlink" href="#recovering-from-hardware-failures" title="Permalink to this headline">¶</a></h3>
<p>If situations occur where the secondary node has been forced to take
over service because the primary node failed for some reason, it’s
important to know how to recover.</p>
<section id="recovering-from-minor-failures">
<h4>Recovering from minor failures<a class="headerlink" href="#recovering-from-minor-failures" title="Permalink to this headline">¶</a></h4>
<p>If the primary went down because of a minor failure (overheating
trouble, faulty processor, faulty memory etc.) and the contents of the
files in <code class="file docutils literal notranslate"><span class="pre">/var/lib/vsm</span></code> are untouched, recovery is very simple and
fully automatic. Simply start the server and let the two VSM servers
resynchronize with each other.</p>
</section>
<section id="recovering-from-catastrophic-failure">
<h4>Recovering from catastrophic failure<a class="headerlink" href="#recovering-from-catastrophic-failure" title="Permalink to this headline">¶</a></h4>
<p>If a catastrophic failure has occurred, and no data on the disks of the
primary can be recovered, ThinLinc needs to be reinstalled and HA must
be reinitialized.</p>
<p>Install ThinLinc as described in <a class="reference internal" href="index.html#ha-install"><span class="std std-ref">Configuration of ThinLinc for HA operations</span></a>, but before starting
the VSM server after enabling HA in the configuration file, copy the
file <code class="file docutils literal notranslate"><span class="pre">/var/lib/vsm/sessions</span></code> from the secondary to the primary.
That will preload the database of active sessions with more current
values on the primary.</p>
</section>
</section>
</div>
</section>
<span id="document-printing"></span><section id="printer-features">
<span id="printing"></span><h2>Printer features<a class="headerlink" href="#printer-features" title="Permalink to this headline">¶</a></h2>
<p>ThinLinc has several printer-related features that aim to provide the
user with maximum flexibility while making the administrator’s work
easier. A ThinLinc system normally uses CUPS (Common Unix Printing
System) to provide normal printing services. By integrating with CUPS,
ThinLinc also provides the following features:</p>
<ul>
<li><p><strong>Local printer support</strong> allows users to print documents on a
printer that is connected to their terminal from applications running
on the ThinLinc server.</p>
<p>See <a class="reference internal" href="index.html#thinlocal"><span class="std std-ref">Local printer support</span></a> for documentation on this feature.</p>
</li>
<li><p><strong>Nearest printer</strong> is a feature that simplifies the printing process
for the user by automatically printing to a printer that is located
at the terminal the user is currently using. Users only need to know
that they should always print to the <strong>nearest</strong> printer — the
system will figure out the rest based on a database of terminals,
printers and locations, eliminating the need to learn the names of
printers at different locations. This decreases the need for support.</p>
<p>See <a class="reference internal" href="index.html#nearestprinter"><span class="std std-ref">Nearest printer support</span></a> for documentation on this feature.</p>
</li>
<li><p><strong>Printer access control</strong> uses the same database of terminals,
locations and printers as the Nearest Printer feature to dynamically
limit which printers a user may print to based on the terminal the
user is currently using. This feature also limits the list of
printers seen by each user to the printers the user is allowed to
use, simplifying choice of printer for the user by only showing the
printers that are relevant at the current location.</p>
<p>See <a class="reference internal" href="index.html#printeraccesscontrol"><span class="std std-ref">Printer access control</span></a> for documentation on this
feature.</p>
</li>
</ul>
<div class="toctree-wrapper compound">
<span id="document-printing_config_overview"></span><section id="printer-configuration-overview">
<span id="printing-config-overview"></span><h3>Printer configuration overview<a class="headerlink" href="#printer-configuration-overview" title="Permalink to this headline">¶</a></h3>
<p>This section provides an overview of how printing is configured in a
ThinLinc cluster.</p>
<figure class="align-default" id="id1">
<img alt="_images/printer_config_overview.svg" src="_images/printer_config_overview.svg" /><figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">Printer configuration overview</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="cups-browsing">
<h4>CUPS browsing<a class="headerlink" href="#cups-browsing" title="Permalink to this headline">¶</a></h4>
<p>It is important that the CUPS Browsing feature is <strong>turned off</strong> on all
machines in the cluster, or problems with duplicate <strong>thinlocal</strong>
printers will occur.</p>
</section>
<section id="cups-configuration-on-the-master-machine">
<h4>CUPS configuration on the master machine<a class="headerlink" href="#cups-configuration-on-the-master-machine" title="Permalink to this headline">¶</a></h4>
<p>Configure all printers that need to be available in the CUPS
configuration on the machine running VSM Server. Either use
distribution-specific tools, or the built-in administration interface in
CUPS which can usually be reached by using a web browser, connecting to
port 631 on the machine, i.e. <a class="reference external" href="http://tl.example.com:631/">http://tl.example.com:631/</a>.</p>
<p>The <strong>nearest</strong> and <strong>thinlocal</strong> queues, used by the nearest printer
and the local printer features respectively, are added by ThinLinc
setup.</p>
<p>Printers, with one exception (see below) only need to be configured on
the machine running VSM Server. Agent nodes will use the CUPS daemon
(cupsd) on the VSM Server machine for printing.</p>
</section>
<section id="cups-configuration-on-the-agent-machines-s">
<h4>CUPS configuration on the agent machines(s)<a class="headerlink" href="#cups-configuration-on-the-agent-machines-s" title="Permalink to this headline">¶</a></h4>
<p>The machines in the cluster that run VSM Agent, i.e., the machines that
host user sessions, need a running CUPS daemon (cupsd), but this cupsd
only needs one printer defined — the <strong>thinlocal</strong> queue.</p>
<p>The <strong>thinlocal</strong> queue is added by ThinLinc setup when installing the
agent.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CUPS daemon on each agent must listen to requests on the network
interface, and allow printer jobs from the machine running VSM Server
to be submitted to the <strong>thinlocal</strong> queue.</p>
</div>
<p>When a user submits a job to the local printer, i.e. to the
<strong>thinlocal</strong> queue, the printer job will be submitted to the CUPS
daemon running on the VSM Server host. It will then be respooled to the
cupsd on the agent server hosting the session. This is to make central
configuration of all other printers possible.</p>
</section>
</section>
<span id="document-thinlocal"></span><section id="local-printer-support">
<span id="thinlocal"></span><h3>Local printer support<a class="headerlink" href="#local-printer-support" title="Permalink to this headline">¶</a></h3>
<section id="theory-of-operation">
<h4>Theory of operation<a class="headerlink" href="#theory-of-operation" title="Permalink to this headline">¶</a></h4>
<p>With ThinLinc, it is possible to print to a printer attached to the
client computer. Two primary modes of operation available: device
independent and device dependent. Both modes can be used at the same
time. See below for details about the two modes.</p>
<p>The thinlocal printer is cluster-aware. If a user submits a print job on
a node in a ThinLinc cluster which does not host the user’s session, the
print job will automatically be respooled to the correct node. This is
used in the recommended setup (see <a class="reference internal" href="index.html#printing-config-overview"><span class="std std-ref">Printer configuration overview</span></a>).</p>
<p>If a user has more than one session, print jobs submitted to the local
printer will be redirected to the client that made the last connection.</p>
<p>The local printer features are implemented as a backend to CUPS (<em>Common
Unix Printing System</em>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using local printers, we recommend that you activate the
parameter <a class="reference internal" href="index.html#server-config-vsmserver-unbind_ports_at_login"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/unbind_ports_at_login</span></code></a>.</p>
</div>
</section>
<section id="device-independent-mode">
<h4>Device-independent mode<a class="headerlink" href="#device-independent-mode" title="Permalink to this headline">¶</a></h4>
<p>The device-independent mode is designed to provide universal access to
any local printer without having to install drivers on the ThinLinc
server. This is achieved by converting the print job to the Adobe
Portable Document Format (PDF) on the remote desktop server, and then
sending it through an encrypted tunnel to the client. The client
subsequently prints the job on the local printer using a built-in PDF
renderer.</p>
<p>Because the driver on the ThinLinc server is device independent, it has
no way to know what capabilities (duplex ability, trays, paper size,
etc.) the printer connected to the client has. At the same time,
applications that want to print needs to know about these capabilities
to print correctly.</p>
<p>As a compromise, the universal printer is configured with a PPD
(<em>Postscript Printer Definition</em>) that covers a broad range of printer
capabilities — it’s a <em>Generic Postscript Printer</em> driver. This makes
it possible for CUPS to convert input formats to the correct format
before sending them to the local printer. It also means that default
values can be set for some of the configuration parameters, for example
paper size, using the CUPS configuration interface.</p>
</section>
<section id="device-dependent-mode">
<h4>Device dependent mode<a class="headerlink" href="#device-dependent-mode" title="Permalink to this headline">¶</a></h4>
<p>The device dependent mode is to be used when it is necessary to access
all options on the printer, or when the communication with the printer
cannot be expressed in terms of normal pages (e.g. a label printer). In
this mode the printer driver is installed on the ThinLinc server and the
data is sent unmodified to the local printer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ThinLinc has no way of verifying that the connected printer is the
correct one, so it is up to the user to make sure that a device
dependent queue is not used with a different printer.</p>
</div>
</section>
<section id="installation-and-configuration">
<h4>Installation and configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">¶</a></h4>
<p>Use ThinLinc setup to install the PDF conversion filter, the backend and
queue in CUPS on all machines running VSM Agent. This adds a new queue
named <strong>thinlocal</strong> to CUPS and makes it available to your users. This
queue is the one to use for device independent mode described above.</p>
<p>After installation, the local printer is ready for use. Make sure your
ThinLinc client is configured to allow redirection of printers, then
print to the <strong>thinlocal</strong> queue, and the job will be rerouted to the
default printer of the client you’re currently using.</p>
<p>Device dependent queues are installed as if installing the printer
locally on the ThinLinc server. The only difference is that the URI
shall be specified as <code class="docutils literal notranslate"><span class="pre">thinlocal:/</span></code>. Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo lpadmin -p thinlocal-label -v <span class="s1">&#39;thinlocal:/&#39;</span> <span class="se">\</span>
   -P /media/cd/label-printer.ppd
</pre></div>
</div>
</section>
<section id="parallel-port-emulation">
<h4>Parallel port emulation<a class="headerlink" href="#parallel-port-emulation" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc also includes a very basic form of parallel port emulation that
gives legacy application access to the local printer. It is built on top
of the <strong>thinlocal</strong> queue, which means it only works if certain
requirements are satisfied:</p>
<ul class="simple">
<li><p>The application must only write to the port. Reading is not
supported, neither is monitoring nor altering the port status pins.</p></li>
<li><p>After a print job is completed, the application must close the port.
As the emulation is unaware of the printer protocol, closing the port
is the only way it can determine where one job ends and another
begins.</p></li>
</ul>
<p>To access the emulated parallel port, configure the application to use
the port <code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/dev/lp0</span></code>.</p>
</section>
</section>
<span id="document-nearestprinter"></span><section id="nearest-printer-support">
<span id="nearestprinter"></span><h3>Nearest printer support<a class="headerlink" href="#nearest-printer-support" title="Permalink to this headline">¶</a></h3>
<p>With the ThinLinc <em>nearest printer</em> feature, printer jobs are sent to
a printer selected based on the physical address of the users terminal.
This is typically used to implement printer queues based on physical
proximity.</p>
<p>The nearest printer is implemented as an extra printer queue, on top of
the real printers. Printer jobs sent to the <strong>nearest</strong> queue will be
sent to the <em>nearest printer backend</em>. The backend is a program which is
called by CUPS together with all needed information. The backend will
look at the username requesting the printout and ask the ThinLinc VSM
server for more information about this user. The information includes
which terminal the user is currently using. The backend then queries the
information stored in Hiveconf for a list of printers that are
considered near the terminal used by the printing user. When a printer
is known the backend will place the job in that printer queue.</p>
<p>The <strong>nearest</strong> queue is added to the VSM master server by ThinLinc
setup. The recommended setup is to configure one <strong>nearest</strong> printer
queue in the CUPS daemon on the VSM Server host, and then let all agents
use this CUPS daemon. See <a class="reference internal" href="index.html#printing-config-overview"><span class="std std-ref">Printer configuration overview</span></a> for an
overview of printer setup in a ThinLinc cluster.</p>
<section id="administration-of-the-nearest-printer-feature-in-thinlinc">
<h4>Administration of the nearest printer feature in ThinLinc<a class="headerlink" href="#administration-of-the-nearest-printer-feature-in-thinlinc" title="Permalink to this headline">¶</a></h4>
<p>The nearest printer system needs information about groups of terminals,
known as <em>locations</em>, which typically represents some physical layout.
The information connects terminals to locations and also links printers
to the locations. Available printers are automatically fetched from the
underlying printing system and are available for assignment to locations
and/or terminals.</p>
<p>Information about terminals, locations and their associated printers can
be administrated using the ThinLinc Web Administration, see
<a class="reference internal" href="index.html#tlwebadm-locations"><span class="std std-ref">The locations module</span></a>.</p>
<p>Each location should be entered with a name, and may have an optional
description. A location can for example represent a classroom, a
department, a house, and so on. Each location can be associated with one
or more printers, including the special <strong>nearest</strong> and <strong>thinlocal</strong>
printers. Typically it will include all printers available near that
physical location the location represents. If the location is so big
that different printers are close to different parts of the location,
then you should probably divide the location into smaller parts, each
represented by a separate location.</p>
<p>A location can be set to handle clients which are not defined using a
terminal definition (“unknown terminals”).</p>
<p>Each terminal in the ThinLinc Web Administration represents one physical
terminal in the installation and is defined by its terminal network
interface hardware (MAC) address. The hardware address can be entered in
many formats, but will be converted to all uppercase hexadecimal form
separated by a colon, i.e. <code class="docutils literal notranslate"><span class="pre">01:23:45:67:89:AB</span></code>.</p>
<p>A terminal must be associated with a location.</p>
</section>
<section id="nearest-printer-selection-algorithm">
<h4>Nearest printer selection algorithm<a class="headerlink" href="#nearest-printer-selection-algorithm" title="Permalink to this headline">¶</a></h4>
<p>If a terminal has a printer directly assigned to it in the terminals
module in tlwebadm, that printer will be the nearest printer for that
terminal. For terminals without a printer directly assigned (the normal
situation), the first printer in the list of printers for the terminal’s
location is selected when the user submits a printer job to the
<strong>nearest</strong> queue.</p>
<p>If the client is not a known terminal, i.e. its hardware address was not
found, it will use the printer for the location marked as handling
unknown terminals. If not, there will be no printer available.</p>
<p>If a user is using multiple sessions, print jobs submitted via
<strong>nearest</strong> printer will be redirected to the printer that is found
starting from the client that made the last connection.</p>
</section>
<section id="printer-drivers">
<h4>Printer drivers<a class="headerlink" href="#printer-drivers" title="Permalink to this headline">¶</a></h4>
<p>When printing via the <strong>nearest</strong> printer, the CUPS client can’t get
hold of all information about the real printer where the job will
actually be printed because it doesn’t know that the printer job will be
rerouted by the <strong>nearest</strong> driver. Therefore, the printing application
has no way to know about the number of trays, the paper sizes available
etc. This is a problem for some applications, and it also adds to the
number of applications that will be misconfigured, for example selecting
the wrong paper size.</p>
<p>As a compromise, the <strong>nearest</strong> printer is configured with a PPD
(<em>Postscript Printer Definition</em>) that covers a broad range of printer
capabilities — it’s a <em>Generic Postscript Printer</em> driver. This makes
it possible to configure default values for some of the settings, for
example paper size, using the CUPS configuration interface.</p>
<p>If all the printers in your organization are of the same type, it may be
a good idea to replace the Generic Postscript PPD installed for the
<strong>nearest</strong> queue with a PPD for the specific printer in use. That will
let CUPS-aware applications select between the specific set of features
available for the specific printer model.</p>
</section>
</section>
<span id="document-printeraccesscontrol"></span><section id="printer-access-control">
<span id="printeraccesscontrol"></span><h3>Printer access control<a class="headerlink" href="#printer-access-control" title="Permalink to this headline">¶</a></h3>
<p>In a ThinLinc cluster, all printers that any user of the cluster needs
to be able to print to must be defined centrally, or the user will not
be able to print from applications that run in a ThinLinc session. For
large installations, this leads to a very long list of available
printers.</p>
<p>A long list of printers leads to usability problems — having to a
select printer from a long list can be troublesome. Also, it opens for
problems with printer jobs being printed at remote locations by mistake
(or on purpose, by users finding it amusing to send “messages” to other
locations).</p>
<p>The solution to this problem is the printer access control feature of
ThinLinc. By integrating with CUPS (the Common Unix Printing System),
the list of printers a user is presented with and allowed to print to is
limited to the printers that should be available to a specific terminal,
based on information in a database of printers, terminals and locations.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The printer access control feature will affect all users on the
ThinLinc cluster. The only user excepted from limitations of the
printer list is the superuser (root) — all other users will only
see and be able to use printers based on the location of their
terminals, when the printer access control feature is enabled.</p>
</div>
<section id="theory-of-operation">
<h4>Theory of operation<a class="headerlink" href="#theory-of-operation" title="Permalink to this headline">¶</a></h4>
<p>Each time a user requests a new session or reconnects to an existing
session, the hardware (MAC) address of the terminal is sent along with
the request from the ThinLinc client. Using the same database as the
<em>nearest printer</em> feature used to find which printer is closest to the
user, the printer access control feature calculates which printers the
user is allowed to use, and then configures the access control of the
printing system (CUPS).</p>
<p>This way, the user is presented with a list of printers that only
contains the printers relevant for the location where the terminal the
user is currently using is located. In a situation where a user has
multiple sessions running from multiple clients, all printers associated
with the different terminals will be made available.</p>
</section>
<section id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>CUPS v1.2 or higher.</p></li>
</ul>
</section>
<section id="activating-the-printer-access-control-feature">
<h4>Activating the printer access control feature<a class="headerlink" href="#activating-the-printer-access-control-feature" title="Permalink to this headline">¶</a></h4>
<p>First, make sure you have configured the printers in your ThinLinc
cluster as documented in <a class="reference internal" href="index.html#printing-config-overview"><span class="std std-ref">Printer configuration overview</span></a>. For the
printer access control feature, a central CUPS daemon on the VSM Server
host is required, and all agent hosts must have a correctly configured
<code class="file docutils literal notranslate"><span class="pre">/etc/cups/client.conf</span></code>.</p>
<p>To activate the printer access feature, create two symlinks on the host
running VSM Server, as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /opt/thinlinc/sbin/tl-limit-printers <span class="se">\</span>
   /opt/thinlinc/etc/sessionstartup.d
<span class="gp">$ </span>sudo ln -s /opt/thinlinc/sbin/tl-limit-printers <span class="se">\</span>
   /opt/thinlinc/etc/sessionreconnect.d
</pre></div>
</div>
<p>The first symlink makes sure <strong class="program">tl-limit-printers</strong> is run when
sessions are started. The second makes sure it is run at reconnects to
existing sessions. More details about the session startup can be found
in <a class="reference internal" href="index.html#configuration-customizing-user-session"><span class="std std-ref">Customizing the user’s session</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With the above configuration (symlinking <strong class="program">tl-limit-printers</strong>
into <code class="file docutils literal notranslate"><span class="pre">sessionstartup.d</span></code> and <code class="file docutils literal notranslate"><span class="pre">sessionreconnect.d</span></code>), the
client will not get an answer back from the server until
<strong class="program">tl-limit-printers</strong> has finished its execution. This is the
desired behavior if it is strictly necessary that printer access
rights are correct when the user connects to the session. In
environments where it is acceptable that the final list of printers
shown to the user may not be finished when the user connects to the
session, place the execution of <strong class="program">tl-limit-printers</strong> in the
background, as detailed in
<a class="reference internal" href="index.html#configuration-scripts-startup-reconnect"><span class="std std-ref">Scripts run at session startup/reconnect</span></a>, as that will decrease
the time the user has to wait for the session to appear on his client.</p>
</div>
<p>After creating the symlinks, try connecting to your ThinLinc cluster
with a ThinLinc client and bring up an application that lists the
available printers. The list of printers should now be limited according
to configuration.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The printer list limitation doesn’t work for applications that use
the deprecated “cupsGetPrinters” library call. This means that older
applications might show the whole list of printers. The access
control is still enforced, which means that even if a disallowed
printer is shown in the list of printers, users can’t submit jobs to
it.</p>
<p>Most applications in a modern Linux distribution doesn’t have this
problem.</p>
</div>
</section>
<section id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>Configuration of the printer access control feature is mostly a matter
of using tlwebadm (see <a class="reference internal" href="index.html#tlwebadm-locations"><span class="std std-ref">The locations module</span></a> for details) to add the
hardware address of all terminals as well as information about where
they are located and which printers are to be available for each
location.</p>
<section id="unknown-terminals-terminals-without-hardware-address">
<h5>Unknown terminals / terminals without hardware address<a class="headerlink" href="#unknown-terminals-terminals-without-hardware-address" title="Permalink to this headline">¶</a></h5>
<p>When a client reports a hardware address that is not present in the
database of terminals, or when no hardware address is reported, the
default behavior is to disallow access to all printers, rendering an
empty printer list for the user.</p>
<p>There is however a way to give even unknown terminals access to one or
more printers — define a special location and enable the
<span class="guilabel">Use for unknown terminals</span> switch. Then add the printers that
should be available for the unknown terminals.</p>
<p>One common configuration is to add such a location and then add the
<strong>thinlocal</strong> printer to this location. This way, unknown terminals, for
example people working from their home computers, will be able to user
their locally connected printer, but no other printer will be available.</p>
</section>
</section>
</section>
</div>
</section>
<span id="document-virtualgl"></span><section id="d-acceleration">
<span id="virtualgl"></span><h2>3D acceleration<a class="headerlink" href="#d-acceleration" title="Permalink to this headline">¶</a></h2>
<section id="overview">
<span id="virtualgl-overview"></span><h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>VirtualGL is used to provide server-side hardware 3D acceleration to
applications displayed on a remote client. VirtualGL can be used with
ThinLinc to provide accelerated graphics for OpenGL applications running
in a Linux environment.</p>
<p>Although ThinLinc is designed to work in combination with VirtualGL,
VirtualGL is not developed or maintained directly by Cendio AB, and as
such is not shipped as a part of the ThinLinc product.</p>
</section>
<section id="installation-and-configuration">
<span id="virtualgl-installation"></span><h3>Installation and configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">¶</a></h3>
<p>Full documentation regarding the installation and configuration of
VirtualGL can be found online at
<a class="reference external" href="https://virtualgl.org/Documentation/Documentation">https://virtualgl.org/Documentation/Documentation</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following section numbers references the VirtualGL 2.3.3
documentation. Documentation for past or future VirtualGL releases
may have different section numbers.</p>
</div>
<p>For the general case, it should be sufficient to consult the following
sections:</p>
<ul class="simple">
<li><p>5.1 — Installing VirtualGL on Linux</p></li>
<li><p>6.1 — Granting Access to the 3D X Server</p></li>
</ul>
<p>And see also:</p>
<ul class="simple">
<li><p>9.1 — Using VirtualGL with an X Proxy on the Same Server</p></li>
</ul>
<p>For more advanced configuration, such as using a remote application
server with VGL Transport, see the following sections:</p>
<ul class="simple">
<li><p>6.3 — SSH Server Configuration</p></li>
<li><p>8 — Using VirtualGL with the VGL Transport</p></li>
</ul>
</section>
</section>
<span id="document-install_automatic"></span><section id="automated-installation">
<span id="install-automatic"></span><h2>Automated installation<a class="headerlink" href="#automated-installation" title="Permalink to this headline">¶</a></h2>
<p>ThinLinc’s server installation can be automated to simplify large-scale
deployments.</p>
<p>ThinLinc also allows for non-interactive installation, useful for
scripting and integration with other configuration management tools.</p>
<p>Start by installing the server package suitable for your system, using
your distribution’s package manager. The packages are found in the
<code class="file docutils literal notranslate"><span class="pre">packages</span></code> subdirectory of the ThinLinc server ZIP.</p>
<p>To configure ThinLinc, you need to run ThinLinc setup. You can automate
this process by providing it with an answer file. Begin by generating an
answer template by running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>/opt/thinlinc/sbin/tl-setup -g OUTPUT-FILE
</pre></div>
</div>
<p>A list of questions which the interactive ThinLinc setup would ask is
written to <code class="file docutils literal notranslate"><span class="pre">ANSWER-FILE</span></code>. Edit this file with answers suitable
for your system. The file uses the same Hiveconf syntax also used for
the ThinLinc configuration files, described in <a class="reference internal" href="index.html#hiveconf"><span class="std std-ref">Hiveconf</span></a>.</p>
<p>You can then use the <code class="docutils literal notranslate"><span class="pre">-a</span></code> option for ThinLinc setup to make it
read answers specified in the previously generated file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo /opt/thinlinc/sbin/tl-setup -a ANSWER-FILE
</pre></div>
</div>
</section>
<span id="document-uninstalling"></span><section id="uninstalling-the-thinlinc-server">
<span id="uninstalling"></span><h2>Uninstalling the ThinLinc server<a class="headerlink" href="#uninstalling-the-thinlinc-server" title="Permalink to this headline">¶</a></h2>
<p>Contrary to the installation process, there is no formal server
uninstall script. As a substitute, the ThinLinc server may readily be
uninstalled via command line by referring to the package
‘thinlinc-server’, using the package manager native to the system. For
instance, on an RPM-based system that would entail</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo dnf remove thinlinc-server
</pre></div>
</div>
<p>Depending on the Linux distribution, it is possible that some
server-related files may linger in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/</span></code> after
uninstall. To completely purge these, one may freely remove this
directory.</p>
<p>However, note that client-related files are distributed in parallel with
server-related files in this directory tree. Hence, in the presence of a
client installation, it is ill-advised to remove <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/</span></code>
indiscriminately.</p>
</section>
</div>
<div class="toctree-wrapper compound" id="toc-clients">
<span id="document-clientcomparison"></span><section id="choosing-a-client">
<span id="clientcomparison"></span><h2>Choosing a client<a class="headerlink" href="#choosing-a-client" title="Permalink to this headline">¶</a></h2>
<p>There are two separate clients that can be used to connect to your
ThinLinc server or cluster: <a class="reference internal" href="index.html#client"><span class="std std-ref">The native client</span></a> and the web client
<a class="reference internal" href="index.html#tlwebaccess"><span class="std std-ref">ThinLinc Web Access</span></a>. In this chapter, we cover the differences between
the two.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As an administrator, you have the option to let your users choose
which client to use, or only allow access to your ThinLinc server or
cluster using one of them.</p>
</div>
<p>Compared to Web Access, the native ThinLinc client offers a wider range
of features, including full-screen over multiple monitors, sound
redirection, and access to client-side hardware such as printers and
smart card readers. It is also capable of providing server-side access
to your client-side file system. It supports authentication using
passwords, public keys, smart cards, one-time passwords, and
Kerberos. The native client is available on all major desktop and thin
client operating systems. See <a class="reference internal" href="index.html#clientplatforms"><span class="std std-ref">Installation</span></a> for a list of all
supported platforms.</p>
<p>On the other hand, Web Access offers the flexibility of being available
on all platforms with a modern web browser, including mobile devices. It
supports authentication using passwords and one-time passwords.</p>
</section>
<span id="document-client"></span><section id="the-native-client">
<span id="client"></span><h2>The native client<a class="headerlink" href="#the-native-client" title="Permalink to this headline">¶</a></h2>
<p>This chapter describes the native ThinLinc client and how it is
installed, used, and configured.</p>
<div class="toctree-wrapper compound">
<span id="document-clientplatforms"></span><section id="installation">
<span id="clientplatforms"></span><h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>In this chapter we will document how to install, configure and run the
ThinLinc client on all different platforms including dedicated thin
terminals.</p>
<p>For information on where to find the ThinLinc client software, see
<a class="reference internal" href="index.html#obtaining-thinlinc"><span class="std std-ref">Obtaining ThinLinc</span></a>.</p>
<div class="toctree-wrapper compound">
<span id="document-client_windows"></span><section id="windows">
<span id="windowsclients"></span><h4>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h4>
<section id="requirements">
<span id="windowsclientsreq"></span><h5>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h5>
<p>The supported Windows versions are Windows 10 or later, and Windows
Server 2016 or later.</p>
</section>
<section id="installing-the-windows-client">
<span id="windowsclientsinstall"></span><h5>Installing the Windows client<a class="headerlink" href="#installing-the-windows-client" title="Permalink to this headline">¶</a></h5>
<p>To install the client on a Windows machine, unpack the client bundle and
enter the <code class="file docutils literal notranslate"><span class="pre">client-windows</span></code> directory. Then click on the file
<code class="file docutils literal notranslate"><span class="pre">tl-x.y.z-client-windows.exe</span></code> and follow the instructions.</p>
<p>You will also find unpacked versions of the ThinLinc Windows client,
both 32-bit and 64-bit, under the <code class="file docutils literal notranslate"><span class="pre">tl-x.y.z-client-windows-x86</span></code>
and <code class="file docutils literal notranslate"><span class="pre">tl-x.y.z-client-windows-x64</span></code> directories. It makes it
possible to run the client directly from the bundle or other media, like
a portable application, without the requirement of installing the
client.</p>
<p>For more information about how to configure the client, read
<a class="reference internal" href="index.html#clientconf"><span class="std std-ref">Configuration storage</span></a>.</p>
</section>
<section id="running-the-windows-client">
<span id="windowsclientsrun"></span><h5>Running the Windows client<a class="headerlink" href="#running-the-windows-client" title="Permalink to this headline">¶</a></h5>
<p>During installation the ThinLinc client will be added to the Start menu.
To start the client you select it from the Start menu.</p>
</section>
</section>
<span id="document-client_macos"></span><section id="macos">
<span id="macosclients"></span><h4>macOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h4>
<section id="requirements">
<span id="macosclientsreq"></span><h5>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>macOS (formerly OS X) version newer than 10.6 running on 64-bit Intel
hardware</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>macOS (formerly OS X) versions newer than 10.9 comes with a
default setting that breaks the multi monitor functionality of the
ThinLinc client. A workaround to this problem is to disable setting
<span class="guilabel">Displays have separate Spaces</span> in settings for
<span class="guilabel">Mission Control</span> found in <span class="guilabel">System Preferences</span>.</p>
</div>
</section>
<section id="installing-the-macos-client">
<span id="macosclientsinstall"></span><h5>Installing the macOS client<a class="headerlink" href="#installing-the-macos-client" title="Permalink to this headline">¶</a></h5>
<p>The client for macOS can be found in the directory <code class="file docutils literal notranslate"><span class="pre">client-macos</span></code>
in the client bundle. To install the client, follow these steps:</p>
<ol class="arabic simple">
<li><p>Double-click on the file <code class="file docutils literal notranslate"><span class="pre">tl-x.y.z_rel-client-macos.iso</span></code>.</p></li>
<li><p>Double-click on the <span class="guilabel">ThinLinc client</span> volume that just
appeared on your desktop.</p></li>
<li><p>Drag the <span class="guilabel">ThinLinc client</span> application to an application
folder of your choice.</p></li>
<li><p>Eject the <span class="guilabel">ThinLinc client</span> volume.</p></li>
</ol>
</section>
<section id="running-the-macos-client">
<span id="macosclientsrun"></span><h5>Running the macOS client<a class="headerlink" href="#running-the-macos-client" title="Permalink to this headline">¶</a></h5>
<p>To start the ThinLinc client, double-click on the client application.
The client can also be added to and started from the Dock.</p>
</section>
<section id="command-and-alt-keys-on-macos">
<span id="macosalt"></span><h5>Command and Alt keys on macOS<a class="headerlink" href="#command-and-alt-keys-on-macos" title="Permalink to this headline">¶</a></h5>
<p>The <kbd class="kbd docutils literal notranslate">Alt</kbd> key (also known as the <kbd class="kbd docutils literal notranslate">Option</kbd> key) behaves very
differently on macOS compared to its behavior on other platforms. It
closely resembles the PC <kbd class="kbd docutils literal notranslate">AltGr</kbd> key, found on international
keyboards. ThinLinc therefore treats these keys in a special manner on
macOS in order to provide a good integration between the client and the
remote ThinLinc system.</p>
<p>Whenever either of the <kbd class="kbd docutils literal notranslate">Alt</kbd> keys are pressed, ThinLinc will behave
as if <kbd class="kbd docutils literal notranslate">AltGr</kbd> was pressed. The left <kbd class="kbd docutils literal notranslate">Command</kbd> key is used as
a replacement for <kbd class="kbd docutils literal notranslate">Alt</kbd> to use shortcuts like <kbd class="kbd docutils literal notranslate">Alt+F</kbd>. The
right <kbd class="kbd docutils literal notranslate">Command</kbd> key retains its behavior of acting like the
<kbd class="kbd docutils literal notranslate">Super</kbd>/<kbd class="kbd docutils literal notranslate">Windows</kbd> key.</p>
</section>
</section>
<span id="document-client_linux"></span><section id="linux-pc">
<span id="linuxclients"></span><h4>Linux PC<a class="headerlink" href="#linux-pc" title="Permalink to this headline">¶</a></h4>
<section id="requirements">
<span id="linuxclientsreq"></span><h5>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>A compatible CPU architecture:</p>
<ul>
<li><p>An x86_64 (or compatible) CPU</p></li>
<li><p>An ARMv7 (or compatible) CPU with Thumb-2 and VFP3D16</p></li>
</ul>
</li>
<li><p>GLIBC 2.12, or newer</p></li>
<li><p>A working Fontconfig configuration, or basic fonts available in
<code class="file docutils literal notranslate"><span class="pre">/usr/share/fonts</span></code> or <code class="file docutils literal notranslate"><span class="pre">/usr/X11R6/lib/X11/fonts</span></code>.</p></li>
<li><p>32 MiB RAM</p></li>
</ul>
</section>
<section id="installing-the-linux-client">
<span id="linuxclientsinstall"></span><h5>Installing the Linux client<a class="headerlink" href="#installing-the-linux-client" title="Permalink to this headline">¶</a></h5>
<p>The Linux client is distributed in three different kinds of packages.
One that can be installed using the RPM package system, one in the DEB
package format, and one in compressed tar archive form for any Linux
distribution.</p>
<p>If you need more information than mentioned here, read
<a class="reference internal" href="index.html#clientconf"><span class="std std-ref">Configuration storage</span></a>.</p>
<p>In the instructions below, we will assume that you have unpacked your
client bundle to <code class="file docutils literal notranslate"><span class="pre">~/tl-x.y.z-clients</span></code>.</p>
<section id="installation-on-rpm-based-distributions">
<h6>Installation on RPM-based distributions<a class="headerlink" href="#installation-on-rpm-based-distributions" title="Permalink to this headline">¶</a></h6>
<p>The RPM-based client can be found in the directory
<code class="file docutils literal notranslate"><span class="pre">client-linux-rpm</span></code> in the client bundle. It is suitable for
systems such as Red Hat, Fedora, SUSE, and Mandrake. Perform the
following steps to install it on a 64-bit system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/tl-x.y.z-clients/client-linux-rpm
<span class="gp">$ </span>sudo rpm -Uvh thinlinc-client-x.y.z-rel.x86_64.rpm
</pre></div>
</div>
<p>or the following steps on a 32-bit ARM hard-float system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/tl-x.y.z-clients/client-linux-rpm
<span class="gp">$ </span>sudo rpm -Uvh thinlinc-client-x.y.z-rel.armv7hl.rpm
</pre></div>
</div>
</section>
<section id="installation-on-deb-based-distributions">
<h6>Installation on DEB-based distributions<a class="headerlink" href="#installation-on-deb-based-distributions" title="Permalink to this headline">¶</a></h6>
<p>The DEB-based client can be found in the directory
<code class="file docutils literal notranslate"><span class="pre">client-linux-deb</span></code> in the client bundle. It is suitable for
systems such as Debian and Ubuntu. Perform the following step to install
it on a 64-bit system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/tl-x.y.z-clients/client-linux-deb
<span class="gp">$ </span>sudo dpkg -i thinlinc-client_x.y.z-rel_amd64.deb
</pre></div>
</div>
<p>or the following steps on a 32-bit ARM hard-float system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/tl-x.y.z-clients/client-linux-deb
<span class="gp">$ </span>sudo dpkg -i thinlinc-client_x.y.z-rel_armhf.deb
</pre></div>
</div>
</section>
<section id="installation-on-other-linux-distributions">
<h6>Installation on other Linux distributions<a class="headerlink" href="#installation-on-other-linux-distributions" title="Permalink to this headline">¶</a></h6>
<p>A client without any specific package format can be found in the
directory <code class="file docutils literal notranslate"><span class="pre">client-linux-dynamic</span></code> in the client bundle. It is
possible to run this client from any directory, even from the unpacked
client bundle. We generally recommend installing it in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc</span></code>. Perform the following steps to install the client
to <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc</span></code> on a 64-bit system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/tl-x.y.z-clients/client-linux-dynamic
<span class="gp">$ </span>sudo mkdir -p /opt/thinlinc
<span class="gp">$ </span>sudo cp -a tl-x.y.z-rel-client-linux-dynamic-x86_64/* /opt/thinlinc/
</pre></div>
</div>
<p>or the following steps on a 32-bit ARM hard-float system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/tl-x.y.z-clients/client-linux-dynamic
<span class="gp">$ </span>sudo mkdir -p /opt/thinlinc
<span class="gp">$ </span>sudo cp -a tl-x.y.z-rel-client-linux-dynamic-armhf/* /opt/thinlinc/
</pre></div>
</div>
<p>The client is also available as tar archives for easy transfer to other
systems without having to copy the entire client bundle.</p>
</section>
</section>
<section id="running-the-linux-client">
<span id="linuxclientsrun"></span><h5>Running the Linux client<a class="headerlink" href="#running-the-linux-client" title="Permalink to this headline">¶</a></h5>
<p>On Linux systems the client will be installed as
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/bin/tlclient</span></code>. The client package contains settings
that add <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/bin</span></code> to <span class="sig sig-inline environ">PATH</span>.</p>
<p>To run the client, click on the <span class="guilabel">ThinLinc client</span> icon in your
desktop environment. Typically, the icon is found in the Internet
category. You can also run the client by executing
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/bin/tlclient</span></code>.</p>
</section>
</section>
<span id="document-client_terminals"></span><section id="thin-terminals">
<span id="thinterminals"></span><h4>Thin terminals<a class="headerlink" href="#thin-terminals" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc has support for several thin terminals, i.e. hardware built
with the task of providing a thin client as a primary design goal.</p>
<section id="hp-thinpro-terminals">
<span id="clientplatforms-hp-terminals"></span><h5>HP ThinPro terminals<a class="headerlink" href="#hp-thinpro-terminals" title="Permalink to this headline">¶</a></h5>
<p>HP ThinPro terminals are based on Ubuntu, and therefore one can use the
DEB package provided in our ThinLinc client bundle for this terminal.</p>
<section id="manual-installation-upgrade-of-thinlinc-client">
<h6>Manual installation/upgrade of ThinLinc client<a class="headerlink" href="#manual-installation-upgrade-of-thinlinc-client" title="Permalink to this headline">¶</a></h6>
<p>Below we will describe the process of manually installing the ThinLinc
client on Ubuntu-based HP ThinPro Linux terminals.</p>
<ol class="arabic">
<li><p>Use the tool <span class="guilabel">Administrator/User mode switch</span> to
authenticate as administrator.</p></li>
<li><p>Start an X terminal from the advanced tab in the control panel.</p></li>
<li><p>Unlock the file system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>fsunlock
</pre></div>
</div>
</li>
<li><p>Copy the ThinLinc client .deb package from ThinLinc client bundle
onto a USB memory stick, and connect it to the terminal. Go into the
directory which represents your connected USB device with command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span><span class="nb">cd</span> /tmp/tmpfs/media/my_usb_storage
</pre></div>
</div>
<p>As an alternative, it is also possible to download the client package
from a web server using the <strong class="command">wget</strong> command.</p>
</li>
<li><p>Install the ThinLinc client package using Debian package manager
command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>dpkg -i thinlinc-client*.deb
</pre></div>
</div>
</li>
<li><p>Lock down the file system before closing the X terminal window:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>fslock
</pre></div>
</div>
</li>
<li><p>Reboot.</p></li>
<li><p>Add a ThinLinc connection in the connection manager.</p></li>
</ol>
<p>The HP <span class="guilabel">Connection Wizard</span> does not include an entry for
ThinLinc. Press <span class="guilabel">Skip</span>, then add a ThinLinc connection in the
<span class="guilabel">Connection Manager</span>.</p>
<p>The default user and administrator share the same home directory, and it
is therefore important to NOT start the ThinLinc client as administrator
the first time. This will make the ThinLinc client configuration only
accessible by administrator and not the default user.</p>
<p>On “zero” clients, the default server name is set when the ThinLinc
connection type is selected. To change server name, temporarily switch
to another connection type, then switch back to ThinLinc. Also, to
configure the ThinLinc client, enter an invalid username/password
combination in the HP login dialog. Acknowledge the error. It is then
possible to access the full ThinLinc client interface.</p>
</section>
</section>
<section id="igel-universal-desktop">
<span id="igel"></span><h5>IGEL Universal Desktop<a class="headerlink" href="#igel-universal-desktop" title="Permalink to this headline">¶</a></h5>
<p>A client package for IGEL Universal Desktop terminals is provided. It is
included in the directory <code class="file docutils literal notranslate"><span class="pre">client-igel</span></code> in the client bundle. IGEL
Universal Desktop is a modern embedded operating system which works
well. Some editions include a bundled ThinLinc client. We do not
recommend this client. Instead, install the client as described below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Installation of our client package is only possible on IGEL terminals
with the <span class="guilabel">Custom Partition</span> feature. Please ask your IGEL
representative for more information.</p>
</div>
<section id="installing-upgrading-the-thinlinc-client-on-igel-terminals">
<h6>Installing/Upgrading the ThinLinc client on IGEL terminals<a class="headerlink" href="#installing-upgrading-the-thinlinc-client-on-igel-terminals" title="Permalink to this headline">¶</a></h6>
<p>Below we will describe how to install and configure the ThinLinc client
on IGEL terminals, using the <span class="guilabel">Custom partition</span>. You can use
either the Universal Management Suite software running on a separate
workstation, or the setup software installed on the terminal. You will
need access to a web server which allows you to publish the client
files.</p>
<ol class="arabic">
<li><p>Edit the configuration of the terminal. Select
<span class="menuselection">System ‣ Firmware ‣ Customization ‣ Custom
Partition</span>.</p></li>
<li><p>Under the <span class="guilabel">Partition</span> option, make sure that
<span class="guilabel">Enable Partition</span> is checked. Enter a size, such as
<code class="docutils literal notranslate"><span class="pre">100M</span></code>. The partition must be at least 25 MiB. The upper limit
depends on the hardware used. Make sure that the mount point is
<code class="docutils literal notranslate"><span class="pre">/custom</span></code>.</p></li>
<li><p>Under the <span class="guilabel">Download</span> option, press the star to create a new
data source. Enter the URL to the web server where the ThinLinc
client package definition is located. Example:
<code class="samp docutils literal notranslate"><span class="pre">http://</span><em><span class="pre">www.example.com</span></em><span class="pre">/client-igel/thinlinc-amd64.inf</span></code></p></li>
<li><p>Under <span class="guilabel">Custom Application</span>, press the star to create a new
application entry. Use a <span class="guilabel">Session name</span> such as
<code class="docutils literal notranslate"><span class="pre">ThinLinc</span></code>.</p></li>
<li><p>Click on <span class="guilabel">Settings</span>. Enter the <span class="guilabel">Icon name</span>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/custom/thinlinc/icon.png
</pre></div>
</div>
<p>To set up the client to use the terminal’s normal language, enter this
<span class="guilabel">Command</span>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/custom/thinlinc/bin/tlclient
</pre></div>
</div>
<p>To setup the client to use Swedish, use this <span class="guilabel">Command</span>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>env LC_ALL=sv_SE.UTF-8 /custom/thinlinc/bin/tlclient
</pre></div>
</div>
</li>
<li><p>Press <span class="guilabel">OK</span> to save the configuration.</p></li>
</ol>
</section>
</section>
<section id="other-thin-terminals">
<h5>Other thin terminals<a class="headerlink" href="#other-thin-terminals" title="Permalink to this headline">¶</a></h5>
<p>The ThinLinc client can be made to run on almost any Linux-based thin
terminal as well as on some Windows-based appliances. Contact Cendio if
you need help on a consultancy basis.</p>
</section>
</section>
<span id="document-client_thinstation"></span><section id="running-thinlinc-on-a-thinstation-terminal">
<span id="thinstation"></span><h4>Running ThinLinc on a ThinStation terminal<a class="headerlink" href="#running-thinlinc-on-a-thinstation-terminal" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="https://thinstation.org/">ThinStation project</a> is an open source thin client Linux
distribution that can be booted in many different ways, including
entirely over the network on diskless machines and via a LiveCD.</p>
<p>A client package for ThinStation is shipped as part of the ThinLinc
client distribution. In this section, we will document how to use and
configure this package with ThinStation.</p>
<section id="installing-and-building-the-package">
<h5>Installing and building the package<a class="headerlink" href="#installing-and-building-the-package" title="Permalink to this headline">¶</a></h5>
<p>Begin by downloading and unpacking the ThinStation main distribution
available from the <a class="reference external" href="https://thinstation.org/">ThinStation webpages</a>.</p>
<p>Enter the ThinStation directory created while unpacking, and replace the
ThinLinc package included with ThinStation with the updated package from
the <code class="file docutils literal notranslate"><span class="pre">client-thinstation</span></code> directory in the client-bundle:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>rm -rf packages/thinlinc/
<span class="gp">$ </span>tar zxvf tl-x.y.z-rel-client-thinstation.tar.gz
</pre></div>
</div>
<p>Edit the <code class="file docutils literal notranslate"><span class="pre">build.conf</span></code> and uncomment the line <code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">thinlinc</span></code>
in the <code class="docutils literal notranslate"><span class="pre">Applications</span></code> section.</p>
<p>Run the <code class="file docutils literal notranslate"><span class="pre">build</span></code> script and wait for its completion.</p>
<p>If everything went well, there will now be ThinStation images available
in the <code class="file docutils literal notranslate"><span class="pre">boot-images</span></code> directory. Use the appropriate boot image for
your preferred boot method.</p>
</section>
<section id="configuring-the-thinlinc-client-when-running-on-a-thinstation-terminal">
<h5>Configuring the ThinLinc client when running on a ThinStation terminal<a class="headerlink" href="#configuring-the-thinlinc-client-when-running-on-a-thinstation-terminal" title="Permalink to this headline">¶</a></h5>
<p>When running on a network-booted ThinStation terminal, the client is
configured by adding statements to the configuration file that is
downloaded at boot by ThinStation. The default name of this file is
<code class="file docutils literal notranslate"><span class="pre">thinstation.conf.network</span></code>, located in your tftproot. There can
also be other filenames that configure specific terminals based on their
IP or hardware (MAC) addresses.</p>
<section id="basic-configuration">
<h6>Basic configuration<a class="headerlink" href="#basic-configuration" title="Permalink to this headline">¶</a></h6>
<p>For the ThinLinc client to appear at all, a ThinStation “session” must
be created. This is done by adding a few lines to the
<code class="file docutils literal notranslate"><span class="pre">thinstation.conf.network</span></code> file. Here’s an example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SESSION_0_TYPE=thinlinc
SESSION_0_THINLINC_SERVER=tl.example.com
SESSION_0_THINLINC_OPTIONS=&quot;-u johndoe&quot;
SESSION_0_THINLINC_CONFIG_NFS_SERVER_ENABLED=0
</pre></div>
</div>
<p>The above example will make ThinLinc appear on the display of the client
after boot. It will set the server name to <code class="docutils literal notranslate"><span class="pre">tl.example.com</span></code>, and it
will reset the username field. It will also disable export of local
drives. See below for information on enabling local drives on
ThinStation.</p>
<p>All standard client options can be added to the
<code class="docutils literal notranslate"><span class="pre">SESSION_0_THINLINC_OPTIONS</span></code> variable. For example, to lock down the
server field, add <code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">server</span></code>.</p>
</section>
<section id="configuration-using-the-client-configuration-file">
<h6>Configuration using the client configuration file<a class="headerlink" href="#configuration-using-the-client-configuration-file" title="Permalink to this headline">¶</a></h6>
<p>Some of the features of the ThinLinc client can’t be configured via
command-line options. Instead, the configuration file must be altered.
To allow features such as local drive and sound redirection to work when
running on ThinStation, the ThinLinc client package for ThinStation has
features for altering the configuration file on the client.</p>
<p>To alter the configuration file, add statements on the form
<code class="samp docutils literal notranslate"><span class="pre">SESSION_0_THINLINC_CONFIG_</span><em><span class="pre">&lt;configuration</span> <span class="pre">file</span> <span class="pre">variable</span> <span class="pre">name&gt;</span></em>
<span class="pre">=</span> <em><span class="pre">&lt;value&gt;</span></em></code> to <code class="file docutils literal notranslate"><span class="pre">thinstation.conf.network</span></code>. An example follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SESSION_0_THINLINC_CONFIG_NFS_SERVER_ENABLED=1
SESSION_0_THINLINC_CONFIG_SOUND_ENABLED=1
</pre></div>
</div>
<p>The above example will set the <a class="reference internal" href="index.html#client-config-NFS_SERVER_ENABLED"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">NFS_SERVER_ENABLED</span></code></a> to <code class="docutils literal notranslate"><span class="pre">1</span></code>
and the <a class="reference internal" href="index.html#client-config-SOUND_ENABLED"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">SOUND_ENABLED</span></code></a> to <code class="docutils literal notranslate"><span class="pre">1</span></code>, and so on.</p>
</section>
<section id="enabling-sound-and-local-drive-redirection">
<h6>Enabling sound and local drive redirection<a class="headerlink" href="#enabling-sound-and-local-drive-redirection" title="Permalink to this headline">¶</a></h6>
<p>If the hardware running ThinStation has support for it and the correct
sound and disk device modules has been loaded, the ThinLinc client will
be able to support sound and local drive redirection. The following
configuration lines in <code class="file docutils literal notranslate"><span class="pre">thinstation.conf.network</span></code> will enable
sound redirection and local drive redirection for USB storage devices:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SESSION_0_THINLINC_CONFIG_NFS_EXPORTS=/mnt/usbdevice,rw,/mnt/cdrom,ro
SESSION_0_THINLINC_CONFIG_NFS_SERVER_ENABLED=1
SESSION_0_THINLINC_CONFIG_SOUND_ENABLED=1
SESSION_0_THINLINC_CONFIG_NFS_ROOT_WARNING=0
</pre></div>
</div>
</section>
<section id="avoiding-question-about-server-host-key">
<h6>Avoiding question about server host key<a class="headerlink" href="#avoiding-question-about-server-host-key" title="Permalink to this headline">¶</a></h6>
<p>When running on a device with non-volatile storage, such as a hard disk,
the ThinLinc client stores the public part of the ssh host key of the
ThinLinc client the first time it connects to the server after asking
the user to verify the fingerprint of the key. At subsequent connects,
this copy is used to verify that the client is connecting to the correct
server.</p>
<p>When running on a diskless ThinStation host, the key can be stored only
in volatile memory (on a RAM disk), so the client will ask the user to
verify the fingerprint once each time the client has been rebooted.
Since it is normal behavior to reboot a ThinStation terminal once a day,
this will lead to a confusing situation for users, not to mention that
it will decrease security.</p>
<p>To solve this problem, the ThinLinc client package for ThinStation tries
to download a file name <code class="file docutils literal notranslate"><span class="pre">ssh_known_hosts</span></code> from the tftproot. If it
exists, it will be used as a database of known host keys on the client.</p>
<p>To create this file, log in with the client to the ThinLinc server,
using the same server name as the one that will be configured on the
clients. Then copy the file <code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/known_hosts</span></code> to
<code class="file docutils literal notranslate"><em><span class="pre">&lt;tftproot&gt;</span></em><span class="pre">/ssh_known_hosts</span></code>.</p>
</section>
</section>
</section>
</div>
</section>
<span id="document-client_usage"></span><section id="client-usage">
<span id="id1"></span><h3>Client usage<a class="headerlink" href="#client-usage" title="Permalink to this headline">¶</a></h3>
<p>Starting the ThinLinc client is normally easy, but the method can differ
somewhat between the available operating systems. See
<a class="reference internal" href="index.html#clientplatforms"><span class="std std-ref">Installation</span></a> for instructions on how to
start the client on different platforms.</p>
<section id="the-started-thinlinc-client">
<span id="client-started"></span><h4>The started ThinLinc client<a class="headerlink" href="#the-started-thinlinc-client" title="Permalink to this headline">¶</a></h4>
<p>When the ThinLinc client is started it will show the login window. This
window contains a ThinLinc logo, text fields where needed information
can be entered, buttons for control and at the very bottom a status
field that gives information about the login procedure.</p>
<figure class="align-default" id="id2">
<img alt="_images/client-main.png" src="_images/client-main.png" />
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">The ThinLinc client login window</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="logging-in-to-a-thinlinc-server">
<span id="client-login"></span><h4>Logging in to a ThinLinc server<a class="headerlink" href="#logging-in-to-a-thinlinc-server" title="Permalink to this headline">¶</a></h4>
<p>To log in to a ThinLinc server, the client needs to do a successful user
authentication. This means that it needs to tell the ThinLinc server a
username and a corresponding authentication information (a password or
an encryption key). The ThinLinc server controls that the information is
valid and accepts or denies the login attempt.</p>
<p>The information the client must know to successfully log in the user to
a ThinLinc server is a server address, a username and the corresponding
authentication information. When the client is started it will display
two text fields labeled <span class="guilabel">Server</span> and <span class="guilabel">Name</span>, and one
text field labeled <span class="guilabel">Password</span>, <span class="guilabel">Key</span> or
<span class="guilabel">Certificate</span>. This may differ depending on command-line
arguments.</p>
<p>Accepted values for the server field is the hostname or the IP address
of the server. The name field should be filled in with the ThinLinc
username. The authentication information needed depends on the type of
authentication used:</p>
<ul class="simple">
<li><p>For password authentication, a plain text password should be entered.
The password won’t be shown as clear text when entered.</p></li>
<li><p>For public key authentication, the path to an encryption key must be
entered or browsed to using the <span class="guilabel">…</span> button.</p></li>
<li><p>For smart card authentication, a certificate must be selected in the
dropdown menu.</p></li>
</ul>
<p>The server name, username, key path and certificate name are saved when
the user tries to start the session, so they don’t have to be entered
again each time a new session is wanted.</p>
<p>When the user has entered the server address, username and
authentication information, it is possible to log in. This is done by
pressing the <span class="guilabel">Connect</span> button or the <kbd class="kbd docutils literal notranslate">Enter</kbd> key on the
keyboard. The client will then try to establish a connection with the
ThinLinc server. If any of the fields has a bad value that prevents the
client from successfully logging in, for example if the username or
password is incorrect, there will be a response message shown as a
message box with the relevant information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, usernames are case-sensitive when logging in via the
ThinLinc client. This behavior may be changed using an option in the
client configuration file — see <a class="reference internal" href="index.html#client-config-LOWERCASE_LOGIN_NAME"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">LOWERCASE_LOGIN_NAME</span></code></a>
in <a class="reference internal" href="index.html#clientconf-params"><span class="std std-ref">Client configuration parameters</span></a> for details.</p>
</div>
<p>If the login attempt is successful a ThinLinc session will start, an old
one will be reused or a session selection box might be presented, all
depending on the client’s settings and how many sessions the user has
running. See <a class="reference internal" href="index.html#client-advanced-tab"><span class="std std-ref">Advanced tab</span></a> for more information on how the
choice is made.</p>
<figure class="align-default" id="id3">
<img alt="_images/client-sessions.png" src="_images/client-sessions.png" />
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">The ThinLinc client session selection window</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The session selection window presents the user with a list of relevant
sessions and several buttons to act on those sessions:</p>
<dl class="simple">
<dt><span class="guilabel">Connect</span></dt><dd><p>Connect to the selected session, or create a new session if the
current selection is <span class="guilabel">Create new session…</span>.</p>
</dd>
<dt><span class="guilabel">End session</span></dt><dd><p>Forcefully terminate the selected session and restart the connection
procedure.</p>
</dd>
<dt><span class="guilabel">Cancel</span></dt><dd><p>Abort the connection and return to the main window.</p>
</dd>
</dl>
<p>The server will then prepare a graphical session on a ThinLinc server.
The client then connects to this session and displays it. Normally the
user now sees a dialog with different session options. The user can
there select for example to run a Linux session or a Windows session.
Depending on the choice the server at the other end will start that kind
of session.</p>
</section>
<section id="language-settings">
<span id="client-language-settings"></span><h4>Language settings<a class="headerlink" href="#language-settings" title="Permalink to this headline">¶</a></h4>
<p>The ThinLinc client gets all its strings from a database. This way it
can be easily translated, by just providing a new database for a new
language.</p>
<p>On Linux-based systems, the client picks up which language to use by
reading the standard POSIX locale environment variables:</p>
<dl class="environ">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">LC_ALL</span></span></dt>
<dd><p>If this environment variable is set, it takes precedence over all
other locale variables. It will affect all locale settings, including
message strings, sorting order, money representation, decimal
numbers, etc.</p>
</dd></dl>

<dl class="environ">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">LC_MESSAGES</span></span></dt>
<dd><p>If <span class="sig sig-inline environ">LC_ALL</span> is not set but this one is, it will make the
messages of the client adhere to the language in question, in effect
making the client use that language. There are several other
variables of this kind, but they do not affect the ThinLinc client.</p>
</dd></dl>

<dl class="environ">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">LANG</span></span></dt>
<dd><p>If <span class="sig sig-inline environ">LC_ALL</span> is not set then the value of this variable will
be used for all locale categories that are not explicitly set, e.g.
<span class="sig sig-inline environ">LC_MESSAGES</span>.</p>
</dd></dl>

<p>There is also a variable called <span class="sig sig-inline environ">LANGUAGE</span> on some systems, but
it is non-standard, and we do not recommend the use of it.</p>
<p>If none of these variables are set, the locale defaults to <code class="docutils literal notranslate"><span class="pre">C</span></code>, which
in practice means American English. The value of the variables should be
of the form <code class="samp docutils literal notranslate"><em><span class="pre">language</span></em><span class="pre">_</span><em><span class="pre">country</span></em></code>, where <em>language</em> and <em>country</em>
are 2-letter codes. Currently, the languages delivered with the client
are Brazilian Portuguese (<code class="docutils literal notranslate"><span class="pre">pt_BR</span></code>), English (<code class="docutils literal notranslate"><span class="pre">en_US</span></code>), Dutch
(<code class="docutils literal notranslate"><span class="pre">nl_NL</span></code>), French (<code class="docutils literal notranslate"><span class="pre">fr_FR</span></code>), German (<code class="docutils literal notranslate"><span class="pre">de_DE</span></code>), Italian
(<code class="docutils literal notranslate"><span class="pre">it_IT</span></code>), Russian (<code class="docutils literal notranslate"><span class="pre">ru_RU</span></code>), Spanish (<code class="docutils literal notranslate"><span class="pre">es_ES</span></code>), Swedish
(<code class="docutils literal notranslate"><span class="pre">sv_SE</span></code>), and Turkish (<code class="docutils literal notranslate"><span class="pre">tr_TR</span></code>).</p>
<p>On Windows, the same environment variables can be set in a script that
also starts the ThinLinc client. An example script called
<code class="file docutils literal notranslate"><span class="pre">altlang.cmd</span></code> is installed with the ThinLinc client for Windows.
If nothing is set, the Windows client will use the language setting that
was given with the control panel.</p>
</section>
<section id="the-thinlinc-session-life-cycle">
<span id="client-session-lifecycle"></span><h4>The ThinLinc session life cycle<a class="headerlink" href="#the-thinlinc-session-life-cycle" title="Permalink to this headline">¶</a></h4>
<p>When the user has started a ThinLinc session the client login interface
disappears from the desktop. The client program continues to run in the
background as long as the ThinLinc session is running. The client enters
a service mode where it handles services needed to fulfill the requested
features. For example the client handles the export of local printers,
serial ports, and so on. When the ThinLinc session quits the client
service engine quits as well.</p>
<p>There are several ways a session can end. The most common one is that
the user chooses to log out from the session. That causes the session to
finish on the server side. The ThinLinc server finds out that the
session has finished and disconnects the client. Another possibility is
to intentionally disconnect the client, without finishing the session on
the server. This can be done by using the session menu. See
<a class="reference internal" href="#client-session-menu"><span class="std std-ref">The session menu</span></a> below for information about how to do
this. When the client disconnects before the session running on the
server is told to end, then the session will continue to run on the
server. The next time the user logs in the server will reconnect the
user to the very same session. This way it’s possible to, for example,
disconnect a session at work, go home, reconnect to that session and
continue to work.</p>
<p>If the user knows that there already is a session running on the server,
but still wants to start a new fresh session, then it’s possible to
check the <span class="guilabel">End existing session</span> check box that exists in the
client login interface (advanced mode only). The client will then tell
the server that it wants to end the existing session (if it exists) and
get a new one.</p>
<p>Network issues or problems with ThinLinc services can sometimes prevent
the servers from checking the status of a session. Such a session will
be considered unreachable and the client will not be able to reconnect
to it. The user can choose to abandon the session or wait for the
problem to be resolved. However, abandoning the session causes the
ThinLinc server to stop tracking it and can leave applications running
without any way of reaching them.</p>
</section>
<section id="the-session-menu">
<span id="client-session-menu"></span><h4>The session menu<a class="headerlink" href="#the-session-menu" title="Permalink to this headline">¶</a></h4>
<p>When the ThinLinc session is authenticated and the ThinLinc session is
running it’s possible to control the session. For example it’s possible
to change between full-screen mode and window mode, and to disconnect
the ThinLinc client from the server.</p>
<p>To switch to windowed mode there is a session menu that pops up when the
user presses a predefined key. The default key for this is <kbd class="kbd docutils literal notranslate">F8</kbd>,
but the key is configurable from the client options. See
<a class="reference internal" href="index.html#client-advanced-tab"><span class="std std-ref">Advanced tab</span></a> for more information about how to change this
key. In the session menu you should select <span class="guilabel">Full screen</span> to
toggle full-screen mode.</p>
</section>
</section>
<span id="document-client_cmdline"></span><section id="client-command-line-usage">
<span id="client-cmdline"></span><h3>Client command line usage<a class="headerlink" href="#client-command-line-usage" title="Permalink to this headline">¶</a></h3>
<p>To run the ThinLinc client from the command line you run the program
tlclient, optionally followed by options and a server name. The correct
program syntax is as follows.</p>
<p><strong>tlclient</strong> [<em>options</em>] [<em>server</em>][:<em>port</em>]</p>
<p>The optional <em>server</em> field can be used to specify a ThinLinc server
that should be predefined in the server field when the client is
started. The optional <em>port</em> parameter causes the client to try to
connect another TCP/IP port number than the normal SSH port when
establishing its secure connection to the ThinLinc server. More
information about custom SSH settings is available at
<a class="reference internal" href="index.html#client-security-tab"><span class="std std-ref">Security tab</span></a>.</p>
<p>The ThinLinc client is highly controllable from the command line by the
use of command-line arguments. Many parts of the client can be
controlled this way, including the server address and username. It is
possible to force settings and lock tabs and fields in the config
interface to prevent them from being changed.</p>
<p>All arguments written on the command line override the settings saved
from previous sessions. The options window will show the current
settings, including the settings from the command line. The client
settings are only stored to file when the user presses the
<span class="guilabel">OK</span> button in the options window. This means that options
from the command line normally don’t affect the saved settings. But if
the user opens the options window and accepts the settings by pressing
the <span class="guilabel">OK</span> button, then the settings, including the one from the
command line, will be saved.</p>
<p>For a complete list of arguments supported by your client you can run
the client with the argument <code class="docutils literal notranslate"><span class="pre">-?</span></code>.</p>
<section id="description-of-available-command-line-arguments">
<h4>Description of available command-line arguments<a class="headerlink" href="#description-of-available-command-line-arguments" title="Permalink to this headline">¶</a></h4>
<p>Here follows a description for all available command-line arguments.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-0">
<span id="cmdoption"></span><span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-?</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-0" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a help summary.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Display client version information and exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-a">
<span id="cmdoption-advanced"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--advanced</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Start client in advanced mode. Advanced mode means that the client
will show the <span class="guilabel">Server field</span>, <span class="guilabel">Options…</span> button
and the <span class="guilabel">End existing session</span> checkbox. The advanced mode
is the normal mode used when you start the ThinLinc client. A simpler
mode, where those interface components are hidden, is used
automatically when you enter a server name as a command-line
argument. By adding this argument you override that and always use
the advanced mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-C">
<span id="cmdoption-c"></span><span id="cmdoption-configfile"></span><span class="sig-name descname"><span class="pre">-C</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;FILE&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--configfile</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;FILE&gt;</span></span><a class="headerlink" href="#cmdoption-C" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies an additional configuration file. Parameter values in this
configuration file overrides the values specified by the system-wide
and user configuration file. Settings changed from the GUI will be
stored in this configuration file, instead of the user’s
configuration file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-d">
<span id="cmdoption-debug"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;LEVEL&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--debug</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;LEVEL&gt;</span></span><a class="headerlink" href="#cmdoption-d" title="Permalink to this definition">¶</a></dt>
<dd><p>The ThinLinc client logs information about the current session to the
file <code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/tlclient.log</span></code> on Linux systems and
<code class="file docutils literal notranslate"><span class="pre">%TMP%\tlclient.log</span></code> on Windows systems. The amount of
information to log can be configured with this option followed by a
number from 1 to 5. A low number gives less logging than a higher
number. The default is a log level of 3. For more information about
log file placement, see <a class="reference internal" href="index.html#client-logfile-placement"><span class="std std-ref">Log file placement</span></a> below.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-u">
<span id="cmdoption-user"></span><span class="sig-name descname"><span class="pre">-u</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;USER&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;USER&gt;</span></span><a class="headerlink" href="#cmdoption-u" title="Permalink to this definition">¶</a></dt>
<dd><p>This option sets the username that should be filled in into the
<span class="guilabel">Username</span> field. This can be used to override the name
that is automatically saved from the last session. If, for example,
you in a school classroom want it to always start with an empty
<span class="guilabel">Username</span> field, then you can use this parameter with the
empty string <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-p">
<span id="cmdoption-password"></span><span class="sig-name descname"><span class="pre">-p</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;PASSWORD&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--password</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;PASSWORD&gt;</span></span><a class="headerlink" href="#cmdoption-p" title="Permalink to this definition">¶</a></dt>
<dd><p>This option sets the password that should be filled in into the
<span class="guilabel">Password</span> field. When this option is used and a username
exists (either saved from a previous session or entered with the
<code class="docutils literal notranslate"><span class="pre">-u</span></code> parameter) the client will automatically try to log in,
directly after start. If the login attempt fails, it will return
focus to the client interface, making it possible to adjust the
values. Note that the command line of tlclient, and therefore the
password, will be visible to other processes running on the client
operating system. If this is a problem in your environment, consider
using the <code class="docutils literal notranslate"><span class="pre">-P</span></code> option documented below.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-P">
<span id="cmdoption-askpass"></span><span class="sig-name descname"><span class="pre">-P</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;PROGRAM&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--askpass</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;PROGRAM&gt;</span></span><a class="headerlink" href="#cmdoption-P" title="Permalink to this definition">¶</a></dt>
<dd><p>This option makes it possible to specify an askpass program that
should be used to achieve the password. This program should in some
way ask the user for a password and then return that password
together with an exit code. This triggers the auto login (see
argument <code class="docutils literal notranslate"><span class="pre">-p</span></code> above).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-e">
<span id="cmdoption-encodings"></span><span class="sig-name descname"><span class="pre">-e</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ENCODING&gt;[,ENCODING...]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--encodings</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ENCODING&gt;[,ENCODING...]</span></span><a class="headerlink" href="#cmdoption-e" title="Permalink to this definition">¶</a></dt>
<dd><p>This option makes it possible to select which VNC encoding you want
to use (see <a class="reference internal" href="index.html#client-optimization-tab"><span class="std std-ref">Optimization tab</span></a> for more information about
VNC encodings). Valid encodings for this option are: <code class="docutils literal notranslate"><span class="pre">Tight</span></code>,
<code class="docutils literal notranslate"><span class="pre">ZRLE</span></code>, <code class="docutils literal notranslate"><span class="pre">Hextile</span></code> and <code class="docutils literal notranslate"><span class="pre">Raw</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-l">
<span id="cmdoption-lock"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ITEM&gt;[,ITEM...]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--lock</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ITEM&gt;[,ITEM...]</span></span><a class="headerlink" href="#cmdoption-l" title="Permalink to this definition">¶</a></dt>
<dd><p>This option makes it possible to lock different parts of the client
interface. This can be used to prevent things from being changed.
Locked parts will still be shown, but will be “grayed out”, which
means that they can’t be made active for change. The items that
should be locked should follow this option as a comma separated list.
The following items are possible to lock.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">server</span></code>: Server entry field</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code>: Username entry field</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display</span></code>: Display tab</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">localdevices</span></code>: Local Devices tab</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optimization</span></code>: Optimization tab</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security</span></code>: Security tab</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">advanced</span></code>: Advanced tab</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-hide"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ITEM&gt;[,ITEM...]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--hide</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ITEM&gt;[,ITEM...]</span></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>This option makes it possible to hide different parts of the client
interface. This can be used to remove parts of the interface that can
confuse novice users, or to prevent them from reaching parts of the
interface. The following items are possible to hide.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code>: options button</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-f">
<span id="cmdoption-force"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;SETTING&gt;[,SETTING...]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--force</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;SETTING&gt;[,SETTING...]</span></span><a class="headerlink" href="#cmdoption-f" title="Permalink to this definition">¶</a></dt>
<dd><p>This option makes it possible to force a setting to a value. This can
be used to preset a client with values and to force them to reset to
those values each time, even if the users make changes. When an
option is forced it is turned on. The following items are possible to
force.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">terminate</span></code>: terminate session</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fullscreen</span></code>: full screen on all monitors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sound</span></code>: sound mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sshcomp</span></code>: ssh compression</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-M">
<span id="cmdoption-m"></span><span id="cmdoption-minimize"></span><span class="sig-name descname"><span class="pre">-M</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--minimize</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-M" title="Permalink to this definition">¶</a></dt>
<dd><p>This option causes all other applications to be minimized when the
ThinLinc client starts.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-s">
<span id="cmdoption-startprogram"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;PROGRAM&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--startprogram</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;PROGRAM&gt;</span></span><a class="headerlink" href="#cmdoption-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the program to start in the session. Overrides the
<a class="reference internal" href="index.html#client-config-START_PROGRAM_ENABLED"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">START_PROGRAM_ENABLED</span></code></a> and
<a class="reference internal" href="index.html#client-config-START_PROGRAM_COMMAND"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">START_PROGRAM_COMMAND</span></code></a> configuration parameters.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-loop">
<span class="sig-name descname"><span class="pre">--loop</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-loop" title="Permalink to this definition">¶</a></dt>
<dd><p>This option causes the client to run forever. The exit button is
removed, and when a session has ended, a new client process is
automatically started.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The only way to stop the client from restarting is to terminate
the <strong class="program">tlclient</strong> process.</p>
</div>
</dd></dl>

</section>
</section>
<span id="document-client_export_local_device"></span><section id="local-device-export">
<span id="client-export-local-device"></span><h3>Local device export<a class="headerlink" href="#local-device-export" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc supports export of different local devices. This means that a
device that exists on your client computer or terminal can be reached
from the ThinLinc session that runs on the server. The types of devices
that can be exported varies depending on which operating system the
ThinLinc client runs on. The export is, very generalized, done by
establishing secure tunnels for the data transmission and services that
connect both ends. Here follows more information about each type of
possible export; for detailed information about how to enable each type
of export in the client, see <a class="reference internal" href="index.html#client-local-devices-tab"><span class="std std-ref">Local devices tab</span></a> below.</p>
<section id="sound-device">
<span id="client-export-sound"></span><h4>Sound device<a class="headerlink" href="#sound-device" title="Permalink to this headline">¶</a></h4>
<p>This feature makes it possible to hear sound from applications that runs
on the ThinLinc server. Sound will be sent from the ThinLinc server to
your local client through a secure connection. A small local sound
daemon will be automatically started by the ThinLinc client. A secure
tunnel for sound will be established during the ThinLinc session setup.</p>
<p>All programs that support PulseAudio should automatically be aware of
this tunnel and send their sound to the client. See also
<a class="reference internal" href="index.html#sound-redirection"><span class="std std-ref">Using sound device redirection</span></a> for information about supporting other
applications.</p>
<p>The sound data that is sent from the server session to the local client
is uncompressed audio data. This means that it can be relatively large
and may use relatively much network bandwidth. This feature should not
be used if you plan to use ThinLinc over low bandwidth connections such
as modems or ISDN connections.</p>
</section>
<section id="serial-ports-windows-and-linux-only">
<span id="client-export-serial"></span><h4>Serial ports (Windows and Linux only)<a class="headerlink" href="#serial-ports-windows-and-linux-only" title="Permalink to this headline">¶</a></h4>
<p>This feature makes it possible to export two local serial ports to the
ThinLinc session. When serial port redirection is enabled, a small
redirection daemon will be automatically started by the ThinLinc client
during session startup. A secure tunnel for serial port data will be
established.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When activating serial port redirection, all users on the terminal
server can access the serial port of the client machine.</p>
</div>
</section>
<section id="drives">
<span id="client-export-drives"></span><h4>Drives<a class="headerlink" href="#drives" title="Permalink to this headline">¶</a></h4>
<p>This feature makes it possible to, in a secure way, export one or many
local drives from the client machine to the server session. This can be
local hard disk volumes, local CD-ROM drives, and so on. The local drive
will be made available on the ThinLinc server session.</p>
<p>Each exported device can have individual permission settings. All export
settings are made in the ThinLinc client options interface.</p>
</section>
<section id="printer">
<span id="client-export-printer"></span><h4>Printer<a class="headerlink" href="#printer" title="Permalink to this headline">¶</a></h4>
<p>This feature makes it possible to export a local printer to make it
available from the ThinLinc session. When enabled, the client will set
up a secure tunnel for printer jobs. The client will also activate a
small built-in print server that listens for printer jobs on this
tunnel.</p>
<p>When you print to the special printer queue <strong>thinlocal</strong> in your
ThinLinc session, then the job will be sent through this tunnel and then
printed on the client machine. On Linux platforms, the print job will
always be sent to the default printer. On Windows and macOS, it is
possible to select whether the print job should be sent to the default
printer or if the printer selection dialog should be used every print.
Note that device dependent print jobs will always go to the default
printer.</p>
<p>For more information about printer redirection in ThinLinc, see
<a class="reference internal" href="index.html#thinlocal"><span class="std std-ref">Local printer support</span></a>.</p>
</section>
<section id="smart-card-readers">
<span id="client-export-smartcard"></span><h4>Smart card readers<a class="headerlink" href="#smart-card-readers" title="Permalink to this headline">¶</a></h4>
<p>This feature makes it possible to export all local smart cards and smart
card readers to make them available from the ThinLinc session. All smart
card readers available to the system will be exported to the session so
there is nothing to configure except an activation switch.</p>
<p>The ThinLinc client relies on the PC/SC interface present on the system
to communicate with the smart card readers. If you have a reader that
uses another system, then that reader will not be exported.</p>
</section>
</section>
<span id="document-client_options"></span><section id="client-configuration">
<h3>Client configuration<a class="headerlink" href="#client-configuration" title="Permalink to this headline">¶</a></h3>
<p>To configure the ThinLinc client you press the button labeled
<span class="guilabel">Options…</span> in the client window. That brings up the client
options window. This window contains several pages of settings, ordered
in tab sets. The following sections will describe each of these pages
and all individual settings.</p>
<p>When a user presses the <span class="guilabel">OK</span> button, all the current settings
in the options window is saved. For more information about the config
file format, see <a class="reference internal" href="index.html#clientconf"><span class="std std-ref">Configuration storage</span></a>.</p>
<div class="toctree-wrapper compound">
<span id="document-client_options_display"></span><section id="display-tab">
<span id="client-display-tab"></span><h4>Display tab<a class="headerlink" href="#display-tab" title="Permalink to this headline">¶</a></h4>
<p>The <span class="guilabel">Display</span> tab contains options regarding how the session
should be displayed by the client.</p>
<figure class="align-default" id="id1">
<img alt="_images/client-options-display.png" src="_images/client-options-display.png" />
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">Client settings display tab</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="description-of-display-tab-settings">
<h5>Description of display tab settings<a class="headerlink" href="#description-of-display-tab-settings" title="Permalink to this headline">¶</a></h5>
<p>Here follows a detailed description of the settings available in the
display tab.</p>
<dl>
<dt><span class="guilabel">Windowed</span></dt><dd><p>This option makes the ThinLinc session appear as a normal window on
the desktop that can be moved and resized.</p>
</dd>
<dt><span class="guilabel">Full screen on current monitor</span></dt><dd><p>This option makes the ThinLinc session cover the entire screen area
of the monitor that the client is current on. If you run in
full-screen mode and want to reach the native session that is hidden
by the ThinLinc session then you can switch out from full-screen
mode. To do this you press the key assigned to bring up the session
pop-up menu. Normally this menu is bound to the <kbd class="kbd docutils literal notranslate">F8</kbd> key, but
can be manually changed. See the <span class="guilabel">Popup menu key</span> setting
on the <span class="guilabel">Options</span> tab above for more information on this. In
the session menu you should select <span class="guilabel">Full screen</span> to toggle
full-screen mode.</p>
</dd>
<dt><span class="guilabel">Full screen on all monitors</span></dt><dd><p>This option makes the ThinLinc session cover the entire screen area
of all the monitors that are connected to the local client. Leaving
full-screen mode to access the native session is done the same way
as for full screen on the current monitor.</p>
</dd>
<dt><span class="guilabel">Full screen on selected monitor(s)</span></dt><dd><p>This option makes the ThinLinc session cover the entire screen area
of the monitors that have been selected in the monitor selection box
below this option. Leaving full-screen mode to access the native
session is done the same way as for the other full-screen modes.</p>
<p>More monitors may be included than have been selected in the
selection box in order to create a rectangular session size. These
extra monitors will be indicated with a checkered pattern.</p>
</dd>
</dl>
</section>
</section>
<span id="document-client_options_local_devices"></span><section id="local-devices-tab">
<span id="client-local-devices-tab"></span><h4>Local devices tab<a class="headerlink" href="#local-devices-tab" title="Permalink to this headline">¶</a></h4>
<p>The local devices tab contains options for which local devices should be
exported to the server and in what manner.</p>
<figure class="align-default" id="id1">
<img alt="_images/client-options-local-devices.png" src="_images/client-options-local-devices.png" />
<figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">Client settings local devices tab</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="description-of-local-devices-tab-settings">
<h5>Description of local devices tab settings<a class="headerlink" href="#description-of-local-devices-tab-settings" title="Permalink to this headline">¶</a></h5>
<p>Here follows a detailed description of the settings available in the
local devices tab.</p>
<dl>
<dt><span class="guilabel">Export — Sound</span></dt><dd><p>When enabled, sound will be sent from the ThinLinc server to your
local client. A small local sound daemon will be started by the
client, which connects to a secure tunnel to the server. See
<a class="reference internal" href="index.html#sound-redirection"><span class="std std-ref">Using sound device redirection</span></a> for more information about this
topic.</p>
<figure class="align-default" id="id2">
<img alt="_images/client-options-graphic-options-sound.png" src="_images/client-options-graphic-options-sound.png" />
<figcaption>
<p><span class="caption-number">Fig. 10 </span><span class="caption-text">Sound system selection interface</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>On Linux there is a <span class="guilabel">Details…</span> button next to the
<span class="guilabel">Sound</span> check box that will allow you to choose between
PulseAudio, ALSA and OSS for the local sound system. You can also let
the ThinLinc client select the correct system automatically.</p>
</dd>
<dt><span class="guilabel">Export — Serial ports</span></dt><dd><p>It is possible to forward two serial ports from the client to make it
available to programs you run on the server. To select which of your
local serial devices to export you can press the
<span class="guilabel">Details…</span> button next to the <span class="guilabel">Serial port</span>
check box. This will bring up a dialog where you can select which two
serial ports should be exported.</p>
<figure class="align-default" id="id3">
<img alt="_images/client-options-graphic-options-serial.png" src="_images/client-options-graphic-options-serial.png" />
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Serial port selection interface</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The <span class="guilabel">Device</span> should be a path to a Linux serial device
(such as <code class="file docutils literal notranslate"><span class="pre">/dev/ttyS0</span></code>) or a Windows COM port name (such as
<code class="docutils literal notranslate"><span class="pre">COM1</span></code>). Enter the device to export in the text field or press the
<span class="guilabel">…</span> button to browse to the wanted device.</p>
</dd>
<dt><span class="guilabel">Export — Drives</span></dt><dd><p>This check box turns on export of local devices from your terminal
top the ThinLinc server. This makes your local drives available from
your ThinLinc session. To select which drives to export you press the
<span class="guilabel">Details…</span> button next to <span class="guilabel">Drives</span> check box.
That presents a dialog where you can build a list of drives to export
and set export permissions.</p>
<figure class="align-default" id="id4">
<img alt="_images/client-options-graphic-options-drives.png" src="_images/client-options-graphic-options-drives.png" />
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Local drive export selection interface</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The <span class="guilabel">Export local drives</span> window consists of two parts. At
the top there is a list containing exported paths, with two control
buttons below. The lower half contains settings fields for the
currently selected path. When you select a path listed in the upper
list you will see its corresponding settings in the drive options
field below. You can then change the selected path by changing the
values on the options field.</p>
<p>To add a new path to the list you press the <span class="guilabel">Add</span> button.
That creates a new empty land in the path list. The new path will be
automatically selected. You can then modify the settings in the lower
half. Set the path and export permission for the new export. To set
the export path you can either write it manually in the path text
field or press the <span class="guilabel">…</span> button to bring up a file
navigation window.</p>
<p>To remove a path you simply select a path and press the
<span class="guilabel">Remove</span> button.</p>
<p>The Windows client features a mechanism that makes it easy to export
the <code class="file docutils literal notranslate"><span class="pre">My</span> <span class="pre">Documents</span></code> folder. This feature is activated by
pressing the <span class="guilabel">My Documents</span> button. Regardless of the local
folder name, this folder will be mounted as <code class="file docutils literal notranslate"><span class="pre">MyDocuments</span></code> on
the server.</p>
<p>The export permissions can be one of the following three options,
<span class="guilabel">Not exported</span>, <span class="guilabel">Read only</span> and <span class="guilabel">Read
and write</span>. The <span class="guilabel">Not exported</span> option can be used to
temporarily turn off an export without having to delete it. The
<span class="guilabel">Read only</span> option means that you from the ThinLinc session
will be able to read from the export, but not write. The
<span class="guilabel">Read and write</span> option means that you from the ThinLinc
session will be able to both read and write.</p>
</dd>
<dt><span class="guilabel">Export — Printer</span></dt><dd><p>By checking this check box the client will export your local printer
to make it available from the ThinLinc session. For more information
about this feature, see <a class="reference internal" href="index.html#client-export-printer"><span class="std std-ref">Printer</span></a> and
<a class="reference internal" href="index.html#thinlocal"><span class="std std-ref">Local printer support</span></a>.</p>
<figure class="align-default" id="id5">
<img alt="_images/client-options-printer-options.png" src="_images/client-options-printer-options.png" />
<figcaption>
<p><span class="caption-number">Fig. 13 </span><span class="caption-text">Printer options dialogue</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>On Windows and macOS there is a <span class="guilabel">Details…</span> button next to
the <span class="guilabel">Printer</span> check box that will allow you to select if
the print job should be sent to the default printer or if the printer
selection dialog should be used on every print.</p>
</dd>
<dt><span class="guilabel">Export — Smart card readers</span></dt><dd><p>This check box makes all local smart card readers and smart cards
available to applications on the ThinLinc server. It is not necessary
to check this box to authenticate using smart cards, but it is needed
if you also wish to authenticate using smart cards to a Windows
Remote Desktop Server.</p>
</dd>
</dl>
</section>
</section>
<span id="document-client_options_optimization"></span><section id="optimization-tab">
<span id="client-optimization-tab"></span><h4>Optimization tab<a class="headerlink" href="#optimization-tab" title="Permalink to this headline">¶</a></h4>
<p>The <span class="guilabel">Optimization</span> tab contains various settings that affect
the protocols used to transfer the graphic information. This includes
the algorithm used for the graphic encoding. The best choices may differ
from case to case. Factors that affect the algorithm choices can for
example be network bandwidth, network latency, and client computer
performance.</p>
<p>The default setting is to use the <span class="guilabel">Auto select</span> mode, to
automatically select the best suited algorithms.</p>
<figure class="align-default" id="id1">
<img alt="_images/client-options-optimization.png" src="_images/client-options-optimization.png" />
<figcaption>
<p><span class="caption-number">Fig. 14 </span><span class="caption-text">Client settings optimization tab</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="description-of-optimization-tab-settings">
<h5>Description of optimization tab settings<a class="headerlink" href="#description-of-optimization-tab-settings" title="Permalink to this headline">¶</a></h5>
<p>Here follows a detailed description of the settings available in the
optimization tab.</p>
<dl>
<dt><span class="guilabel">Auto select</span></dt><dd><p>This option makes the ThinLinc system try to automatically select the
best suited encoding algorithm. The network performance is measured
during the life of the connection and the encoding options are
adjusted based on the results. This means that the encoding options
can be changed automatically during the connection, if the network
performance changes. Activating this option will “gray out” the
<span class="guilabel">Preferred encoding</span> and <span class="guilabel">Color level</span> options,
to show that they aren’t manually controlled.</p>
</dd>
<dt><span class="guilabel">Preferred encoding</span></dt><dd><p>This block of settings affects the VNC protocol encoding. There are
several different ways to compress and encode the graphic data that
is sent from the server to your client. In this box you select one of
four possible encodings. The methods differ much: Some try to use
smart algorithms to select and compress the areas to send, which
means slightly higher CPU usage, but most likely less bandwidth usage
and faster sessions where the bandwidth is limited. Other methods use
less CPU capacity but more network bandwidth. The best choice can
vary much depending on place and situation. A safe choice is to let
the system automatically select the best encoding by checking the
<span class="guilabel">Auto select</span> checkbox above.</p>
</dd>
<dt><span class="guilabel">Encoding: Tight</span></dt><dd><p>This choice selects the Tight encoding method. With this encoding the
zlib compression library is used to compress the pixel data. It
pre-processes the data to maximize compression ratios, and to
minimize CPU usage on compression. Also, JPEG compression may be used
to encode color-rich screen areas. The zlib compression level and the
JPEG compression ratio can be manually changed. See <span class="guilabel">Custom
compression level</span> and <span class="guilabel">Allow JPEG compression</span> below.
Tight encoding is usually the best choice for low-bandwidth network
environments (e.g. slow modem connections).</p>
</dd>
<dt><span class="guilabel">Encoding: ZRLE</span></dt><dd><p>This choice selects the ZRLE encoding method.</p>
</dd>
<dt><span class="guilabel">Encoding: Hextile</span></dt><dd><p>This choice selects the Hextile encoding method. With Hextile the
screen is divided into rectangles, split up into tiles of 16×16
pixels and sent in a predetermined order. Hextile encoding is often
the best choice for using in high-speed network environments (e.g.
Ethernet local-area networks).</p>
</dd>
<dt><span class="guilabel">Encoding: Raw</span></dt><dd><p>This choice selects the Raw encoding method. This is the simplest of
the encoding methods. It simply sends all the graphic data of the
screen, raw and uncompressed. Since this method use the least
processing power among the possible methods this is normally the best
choice if the server and client runs on the same machine.</p>
</dd>
<dt><span class="guilabel">Custom compression level</span></dt><dd><p>By selecting this option you choose to override the standard
compression level used when compressing data with the Tight encoding.
You can manually select the wanted compression level by entering a
number between 0 and 9. Level 0 means no compression. Level 1 uses a
minimum of CPU performance and achieves weak compression ratios,
while level 9 offers best compression but is slow in terms of CPU
consumption on the server side. Use high levels with very slow
network connections, and low levels when working over high-speed
network connections. <strong>This applies to the Tight encoding only!</strong></p>
</dd>
<dt><span class="guilabel">Allow JPEG compression</span></dt><dd><p>By selecting this option you choose to override the standard JPEG
compression quality of color-rich parts of the screen. JPEG is a
“lossy” compression method for images that helps the Tight encoding
to significantly reduce the size of the image data. The drawback is
that the resulting image, depending on the selected compression
ratio, can be blurred and grainy. You can manually select the image
quality by entering a number between 0 and 9. Quality level 0 gives
bad image quality but very impressive compression ratios, while level
9 offers very good image quality at lower compression ratios. Note
that the Tight encoder uses JPEG to encode only those screen areas
that look suitable for lossy compression, so quality level 0 does not
always mean unacceptable image quality.</p>
</dd>
<dt><span class="guilabel">Color level</span></dt><dd><p>This block of choices selects the number of colors to be used for the
graphic data sent from the server to the client. The setting has four
levels, <span class="guilabel">Full</span>, <span class="guilabel">Medium</span>, <span class="guilabel">Low</span> and
<span class="guilabel">Very low</span>. The default and normal is to use the
<span class="guilabel">Full</span> setting. Selecting a lower number of colors will
highly affect the resulting image to the worse, but may also speed up
the transfer significantly when using slow network connections.</p>
<p>In this context, <span class="guilabel">Full</span> means the number of colors
supported by the client’s graphics hardware.</p>
</dd>
<dt><span class="guilabel">SSH compression</span></dt><dd><p>This choice selects whether or not to use SSH compression for all the
data sent between ThinLinc server and client. This is normally not
used since an extra compression step, above a compressing graphic
encoding normally doesn’t help making it smaller, only use more CPU
performance. There can still be occasions where this is worth trying
though. It is possible that this can help speed up printing or other
exports over slow connections.</p>
</dd>
</dl>
</section>
</section>
<span id="document-client_options_security"></span><section id="security-tab">
<span id="client-security-tab"></span><h4>Security tab<a class="headerlink" href="#security-tab" title="Permalink to this headline">¶</a></h4>
<p>The <span class="guilabel">Security</span> tab controls how the client authenticates
against the ThinLinc server. The main interface of the client will be
different depending on the choices made here.</p>
<figure class="align-default" id="id1">
<img alt="_images/client-options-security.png" src="_images/client-options-security.png" />
<figcaption>
<p><span class="caption-number">Fig. 15 </span><span class="caption-text">Client settings security tab</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="description-of-security-tab-settings">
<h5>Description of security tab settings<a class="headerlink" href="#description-of-security-tab-settings" title="Permalink to this headline">¶</a></h5>
<p>Here follows a detailed description of the settings available in the
security tab.</p>
<p><span class="guilabel">SSH port</span></p>
<blockquote>
<div><p>This option selects the TCP/IP port to use when the client tries to
establish an SSH connection with the ThinLinc server. The normal SSH
port is 22, which also is the default selection for this option.
There can be reasons to use another port on some occasions. If you
for example need to use ThinLinc over the Internet, from a location
where port 22 is blocked by a firewall. Then you can select a port
that is open. To be able to use a port other than 22 you need to make
sure that the SSH daemon (sshd), which runs on the ThinLinc server,
listens to the port you want to use. The SSH daemon can be told to
listen to any wanted ports. In the client interface you can select
between the default port 22, port 80 and an arbitrary port number
which you can enter by yourself.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the SSH host key on the server changes, e.g. due to an upgrade
of the OS or SSH server software, the client will note this fact.
It will then, at the next login, open a dialog and let the user
confirm that the new host key is valid. If the user clicks OK,
then the host key on the client for this particular server is
updated on disk.</p>
<p>The administrator can disallow this by manually setting the
parameter <a class="reference internal" href="index.html#client-config-ALLOW_HOSTKEY_UPDATE"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">ALLOW_HOSTKEY_UPDATE</span></code></a> to <code class="docutils literal notranslate"><span class="pre">0</span></code>. See
<a class="reference internal" href="index.html#clientconf-params"><span class="std std-ref">Client configuration parameters</span></a> for more information.</p>
</div>
</div></blockquote>
<dl>
<dt><span class="guilabel">Password</span></dt><dd><p>This option makes the client try to authenticate using a regular
password.</p>
</dd>
<dt><span class="guilabel">Public key</span></dt><dd><p>This option makes the client try to authenticate using public key
encryption. The user will be asked to provide a private encryption
key instead of a text password.</p>
</dd>
<dt><span class="guilabel">Smart card</span></dt><dd><p>This option makes the client try to authenticate using public key
encryption, but with the private key securely stored on a smart card.
The user will be asked to select a certificate on the smart card and
to provide the passphrase for it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Smart card authentication requires that the smart card is readable
by your PKCS#11 library. The library included by default supports
PKCS#15 compliant smart cards and relies on the PC/SC interface.
This is always present on Windows systems and is usually installed
by default on Linux systems.</p>
</div>
<p>The <span class="guilabel">Details…</span> button lets you change the options for
smart card usage and managing the certificate filters which are used
to match accepted certificates for authentication.</p>
<figure class="align-default" id="id2">
<span id="smart-card-options-dialog"></span><img alt="_images/client-options-security-smart-card-options.png" src="_images/client-options-security-smart-card-options.png" />
<figcaption>
<p><span class="caption-number">Fig. 16 </span><span class="caption-text">Smart card authentication settings</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<dl>
<dt><span class="guilabel">Use certificate subject as login name</span></dt><dd><p>Enable this options if you want to enable automatic login. This
will also hide the <span class="guilabel">Username</span> field.</p>
</dd>
<dt><span class="guilabel">Connect when smart card is inserted</span></dt><dd><p>This option will try to automatically connect on card
insertion. It is dependent on certificate filters, automatic
connect will only occur if only one certificate is available after
the filtration.</p>
<p>Read more about automatic connection below where certificate
filters are discussed.</p>
<p>See <a class="reference internal" href="index.html#smartcard-auto"><span class="std std-ref">Automatic connection</span></a> for information on how to
configure the server for automatic smart card connection.</p>
</dd>
<dt><span class="guilabel">Disconnect when smart card is removed</span></dt><dd><p>Enabling this options makes the client automatically disconnect
when the smart card used to authenticate is removed.</p>
</dd>
<dt><span class="guilabel">Send smart card passphrase (PIN) to server</span></dt><dd><p>This option makes the client transmit the smart card passphrase,
as entered by the user, over to the ThinLinc server. It is
required to enable smart card single sign-on.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Enabling this option reduces the security of the smart card as
the passphrase would otherwise never leave the client system.
The option should be left disabled if smart card single sign-on
is not used.</p>
</div>
</dd>
<dt><span class="guilabel">Smart card — certificate filter</span></dt><dd><p>A certificate filter is used to present only allowed certificates
for authentication. Certificates that do not match any filter will
be hidden from the user.</p>
<p>When no certificate filters are configured, all available
certificates on the smart card will be available for
authentication and therefore the auto-connect feature will not
work.</p>
<p>If the resulting filtered list of certificates contains only one
certificate for authentication and the auto-connect feature is
enabled, that certificate will be used for authentication.</p>
<p>When the login dialog is displayed and the key shortcut
<kbd class="kbd docutils literal notranslate">Control+Shift+F8</kbd> is pressed, the certificate filtering
functionality is bypassed and gives you access to all certificates
available on the smart card for authentication.</p>
<p>To add a new filter, press the <span class="guilabel">Add</span> button as shown in
dialog <a class="reference internal" href="#smart-card-options-dialog"><span class="std std-numref">Fig. 16</span></a>. You can also select an
available filter item in the list and press <span class="guilabel">Edit</span> to
change the settings for that specific filter. Either way, the
certificate filter settings dialog
<a class="reference internal" href="#smart-card-certificate-filter-settings-dialog"><span class="std std-numref">Fig. 17</span></a> will be
shown where you can modify the settings of the filter.</p>
<figure class="align-default" id="id3">
<span id="smart-card-certificate-filter-settings-dialog"></span><img alt="_images/client-options-security-smart-card-options-certificate-filter.png" src="_images/client-options-security-smart-card-options-certificate-filter.png" />
<figcaption>
<p><span class="caption-number">Fig. 17 </span><span class="caption-text">Certificate filter settings</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<dl class="simple">
<dt><span class="guilabel">Filter name</span></dt><dd><p>Name that will be displayed in the filter list.</p>
</dd>
<dt><span class="guilabel">Issuer</span></dt><dd><p>The certificate issuer field consists of a comma separated list
of attribute-value pairs that all must be present in the
certificate issuer field. Commonly the “common name” of the
issuer is used, e.g. <code class="docutils literal notranslate"><span class="pre">cn=My</span> <span class="pre">CA</span></code>. It is also possible to allow
any issuer who is part of the same organization, e.g. <code class="docutils literal notranslate"><span class="pre">o=My</span>
<span class="pre">Company</span> <span class="pre">Ltd.</span></code>. Any registered object identifier descriptor can
be used as an attribute name (see <a class="reference external" href="https://www.iana.org/assignments/ldap-parameters/ldap-parameters.xhtml">IANA</a> for a full list).</p>
</dd>
<dt><span class="guilabel">Key usage</span></dt><dd><p>The certificate must have all the key usage bits selected in
this window. Having more bits than those selected does not
exclude a certificate.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<dl>
<dt><span class="guilabel">Kerberos ticket</span></dt><dd><p>This option makes the client try to authenticate using an existing
Kerberos ticket.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This requires that a valid Kerberos ticket is available on the
client, and that the SSH daemon on the ThinLinc server is
configured to accept this ticket during authentication. For
information about how to configure Kerberos authentication on your
particular platform(s), please see the relevant vendor
documentation.</p>
</div>
</dd>
</dl>
</section>
</section>
<span id="document-client_options_advanced"></span><section id="advanced-tab">
<span id="client-advanced-tab"></span><h4>Advanced tab<a class="headerlink" href="#advanced-tab" title="Permalink to this headline">¶</a></h4>
<p>The <span class="guilabel">Advanced</span> tab contains advanced options for the ThinLinc
session. This includes settings for which program to execute in the
session, shadowing another user’s session, reassignment of session pop-up
key and how reconnections are handled.</p>
<figure class="align-default" id="id1">
<img alt="_images/client-options-advanced.png" src="_images/client-options-advanced.png" />
<figcaption>
<p><span class="caption-number">Fig. 18 </span><span class="caption-text">Client settings advanced tab</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="description-of-advanced-tab-settings">
<h5>Description of advanced tab settings<a class="headerlink" href="#description-of-advanced-tab-settings" title="Permalink to this headline">¶</a></h5>
<p>Here follows a detailed description of the settings available in the
advanced tab.</p>
<dl>
<dt><span class="guilabel">Start a program</span></dt><dd><p>If enabled, the client requests that the server should start the
session with the command supplied by the client. Otherwise, the
session command is determined by the server configuration.</p>
</dd>
<dt><span class="guilabel">Enable shadowing</span></dt><dd><p>When enabled, an extra text field will be present in the client main
window. This field is used to enter the username of the user whose
session you want to shadow. For more information, see
<a class="reference internal" href="index.html#shadowing"><span class="std std-ref">Shadowing</span></a>.</p>
</dd>
<dt><span class="guilabel">Send system keys</span></dt><dd><p>When this setting is enabled and the client is in full-screen mode,
key combinations such <kbd class="kbd docutils literal notranslate">Alt+Tab</kbd> will be sent to the remote
system instead of being handled locally. To regain access to the
local system without ending the session, the menu key must be used.</p>
</dd>
<dt><span class="guilabel">Emulate middle mouse button</span></dt><dd><p>When enabled, the middle mouse button can be emulated by pressing
the left and right mouse button simultaneously.</p>
</dd>
<dt><span class="guilabel">Popup menu key</span></dt><dd><p>During a ThinLinc session you can press a specific key to bring up
the session control pop-up window. This window can for example be
used to toggle to and from full-screen mode and to disconnect the
session. The default key for this is <kbd class="kbd docutils literal notranslate">F8</kbd>, but other keys can be
configured here. The feature can also be disabled by selecting
<span class="guilabel">None</span>.</p>
</dd>
<dt><span class="guilabel">Reconnect policy</span></dt><dd><p>When the client connects to a ThinLinc server, there might already be
multiple sessions running on it. Some of these sessions might be
connected to another client, and some might be disconnected. The
client can be configured to automatically handle some of these cases,
or always ask the user what to do. This option only affects
connections to servers where multiple sessions per user are allowed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sessions that have been started with a command different from
the one currently used will be ignored.</p>
</div>
<dl class="simple">
<dt><span class="guilabel">Automatically reconnect to a disconnected session</span></dt><dd><ol class="arabic simple">
<li><p>If there is no disconnected session and additional sessions are
allowed, create a new session. The master will attempt to keep
this new session on the same agent as the other sessions for
this user.</p></li>
<li><p>If there is a single disconnected session, or if the server
allows only one session, reconnect to the existing session.</p></li>
<li><p>Otherwise, ask how to proceed.</p></li>
</ol>
</dd>
<dt><span class="guilabel">Always ask how multiple sessions should be handled</span></dt><dd><ol class="arabic simple">
<li><p>If there is no running session, create a new session.</p></li>
<li><p>If the server allows only one session, reconnect to the
existing session.</p></li>
<li><p>Otherwise, ask how to proceed. If there are any running
sessions for this user and the server allows an additional
session, the master will place the new session on the same
agent as the previous sessions of that user.</p></li>
</ol>
</dd>
</dl>
</dd>
<dt><span class="guilabel">Software updates</span></dt><dd><p>If enabled, the client will periodically query the
<a class="reference internal" href="index.html#client-config-UPDATE_URL"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_URL</span></code></a> value specified in <code class="file docutils literal notranslate"><span class="pre">tlclient.conf</span></code> for
updates. If a newer version is available, the user will be asked if
they want to install it.</p>
</dd>
</dl>
</section>
</section>
<span id="document-client_config"></span><section id="configuration-storage">
<span id="clientconf"></span><h4>Configuration storage<a class="headerlink" href="#configuration-storage" title="Permalink to this headline">¶</a></h4>
<p>The Linux and macOS clients uses a plain text format with key/value
pairs to store the configuration while the Windows client stores the
values in the Windows registry. For descriptions of all configuration
parameters, see <a class="reference internal" href="index.html#clientconf-params"><span class="std std-ref">Client configuration parameters</span></a>.</p>
<section id="configuration-file-format">
<h5>Configuration file format<a class="headerlink" href="#configuration-file-format" title="Permalink to this headline">¶</a></h5>
<p>Each parameter is written on one line, followed by an equal sign (<code class="docutils literal notranslate"><span class="pre">=</span></code>)
and the value of the parameter, as in the following example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SOUND_ENABLED = 0
SERVER_NAME = tl.example.com
</pre></div>
</div>
</section>
<section id="alternative-files">
<h5>Alternative files<a class="headerlink" href="#alternative-files" title="Permalink to this headline">¶</a></h5>
<p>By using the command-line option <code class="docutils literal notranslate"><span class="pre">-C</span></code>, additional configuration
files can be specified. Any name is accepted, but the file extension
<code class="file docutils literal notranslate"><span class="pre">.tlclient</span></code> is recommended. The Windows, Linux, and macOS packages
configure the system to automatically recognize such files as
configuration files for the ThinLinc client. Additionally, the Internet
Media Type <em class="mimetype">application/vnd.cendio.thinlinc.clientconf</em> is
linked to such configuration files.</p>
</section>
<section id="linux-client-configuration-files">
<h5>Linux client configuration files<a class="headerlink" href="#linux-client-configuration-files" title="Permalink to this headline">¶</a></h5>
<p>The Linux client first reads the file
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/tlclient.conf</span></code>, if it exists. It then reads the
file <code class="file docutils literal notranslate"><span class="pre">.thinlinc/tlclient.conf</span></code> in the user’s home directory, and
the values there override the values from
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/tlclient.conf</span></code>. This way, a system
administrator can set global defaults for client operations, while each
user can still customize the client to wanted behavior.</p>
</section>
<section id="macos-client-configuration-files">
<h5>macOS client configuration files<a class="headerlink" href="#macos-client-configuration-files" title="Permalink to this headline">¶</a></h5>
<p>The macOS client first reads the file
<code class="file docutils literal notranslate"><span class="pre">/Library/Application</span> <span class="pre">Support/ThinLinc</span> <span class="pre">Client/tlclient.conf</span></code> if it
exists. It then reads the <code class="file docutils literal notranslate"><span class="pre">.thinlinc/tlclient.conf</span></code> in the user’s
home directory, and the values there override the values from
<code class="file docutils literal notranslate"><span class="pre">/Library/Application</span> <span class="pre">Support/ThinLinc</span> <span class="pre">Client/tlclient.conf</span></code>. This
way, a system administrator can set global defaults for client
operations, while each user can still customize the client to wanted
behavior.</p>
</section>
<section id="windows-client-configuration">
<h5>Windows client configuration<a class="headerlink" href="#windows-client-configuration" title="Permalink to this headline">¶</a></h5>
<p>On Windows, the ThinLinc client reads its configuration from the
registry. All ThinLinc client data is stored under
<code class="docutils literal notranslate"><span class="pre">Software\Cendio\ThinLinc\tlclient</span></code> in the HKLM and HKCU hives. The
parameter names are the same as for the Linux client.</p>
<p>The behavior of global and user-specific settings are identical to that
of the Linux client, where settings in HKLM correspond to
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/tlclient.conf</span></code> and those in HKCU correspond to
<code class="file docutils literal notranslate"><span class="pre">.thinlinc/tlclient.conf</span></code>.</p>
</section>
</section>
</div>
</section>
<span id="document-client_gestures"></span><section id="client-touch-gestures">
<span id="client-gestures"></span><h3>Client touch gestures<a class="headerlink" href="#client-touch-gestures" title="Permalink to this headline">¶</a></h3>
<p>The ThinLinc client has support for a number of touch gestures when used
on a touch capable monitor. These gestures allow the user to simulate
certain mouse operations that would otherwise not be possible.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Touch gestures are not available on macOS as it currently lacks
native support for touch capable monitors.</p>
</div>
<table class="colwidths-given table-noborders docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default">
<img alt="_images/gesture-tap.svg" src="_images/gesture-tap.svg" /></figure>
</td>
<td><p><strong>Click</strong></p>
<p>Tap a single finger to simulate a click of the left mouse button.</p>
</td>
</tr>
<tr class="row-even"><td><figure class="align-default">
<img alt="_images/gesture-drag.svg" src="_images/gesture-drag.svg" /></figure>
</td>
<td><p><strong>Drag</strong></p>
<p>Press a single finger and drag it across the screen to simulate
pressing the left mouse button and moving the cursor.</p>
</td>
</tr>
<tr class="row-odd"><td><figure class="align-default">
<img alt="_images/gesture-press.svg" src="_images/gesture-press.svg" /></figure>
</td>
<td><p><strong>Right click</strong></p>
<p>Press and hold a single finger to simulate a press of the right
mouse button.</p>
</td>
</tr>
<tr class="row-even"><td><figure class="align-default">
<img alt="_images/gesture-two-tap.svg" src="_images/gesture-two-tap.svg" /></figure>
</td>
<td><p><strong>Right click, alternative</strong></p>
<p>Tap two fingers to simulate a press of the right mouse button.</p>
</td>
</tr>
<tr class="row-odd"><td><figure class="align-default">
<img alt="_images/gesture-three-tap.svg" src="_images/gesture-three-tap.svg" /></figure>
</td>
<td><p><strong>Middle click</strong> <em>(not available on Windows)</em></p>
<p>Tap three fingers to simulate a press of the middle mouse button
(mouse wheel).</p>
</td>
</tr>
<tr class="row-even"><td><figure class="align-default">
<img alt="_images/gesture-two-drag.svg" src="_images/gesture-two-drag.svg" /></figure>
</td>
<td><p><strong>Pan / Scroll</strong></p>
<p>Press two fingers and drag them across the screen to simulate
rotating the vertical or horizontal mouse wheel.</p>
</td>
</tr>
<tr class="row-odd"><td><figure class="align-default">
<img alt="_images/gesture-pinch.svg" src="_images/gesture-pinch.svg" /></figure>
</td>
<td><p><strong>Zoom</strong></p>
<p>Press two fingers and move them closer or further away from each
other to simulate pressing the <kbd class="kbd docutils literal notranslate">Control</kbd> key and rotating
the mouse wheel. Many applications interpret this combination as
a request to zoom the open document in or out.</p>
</td>
</tr>
</tbody>
</table>
</section>
<span id="document-client_logfile_placement"></span><section id="log-file-placement">
<span id="client-logfile-placement"></span><h3>Log file placement<a class="headerlink" href="#log-file-placement" title="Permalink to this headline">¶</a></h3>
<p>The ThinLinc client logs its activities in human-readable log files. For
the common use case of running one client at a time, the log file is
always called <code class="file docutils literal notranslate"><span class="pre">tlclient.log</span></code>. Once the first client has been
closed and a second client is started, the log file of the first client
is renamed <code class="file docutils literal notranslate"><span class="pre">tlclient.old.log</span></code> and the second client creates its
log file, again called <code class="file docutils literal notranslate"><span class="pre">tlclient.log</span></code>. At most two log files are
kept at a time for this use case — one for the current client and one
for the most recently closed client. If the file
<code class="file docutils literal notranslate"><span class="pre">tlclient.old.log</span></code> exists before starting a client, that file will
be permanently deleted once the client is started.</p>
<p>Another, more rare use case is running two or more clients
simultaneously. The first log file is again called <code class="file docutils literal notranslate"><span class="pre">tlclient.log</span></code>
and the log files of any additional clients are called
<code class="file docutils literal notranslate"><span class="pre">tlclient2.log</span></code>, <code class="file docutils literal notranslate"><span class="pre">tlclient3.log</span></code>, and so on, up to a maximum
of nine active log files. Once the maximum number of active log files is
reached, any additional clients started will not have any log files
associated with them.</p>
<p>If a client with an associated log file is closed, that log file is
considered inactive. If a new client is started when less than nine log
files are active, the client will once again have a log file associated
with it. Note, however, that a client can <em>reuse</em> an inactive log name.
In this context, <em>reuse</em> means that if e.g. the client associated with
log file <code class="file docutils literal notranslate"><span class="pre">tlclient3.log</span></code> is closed and a new client is opened, it
is possible for the log file of the new client to again be named
<code class="file docutils literal notranslate"><span class="pre">tlclient3.log</span></code>.</p>
<p>Every time a new client is opened, all <code class="file docutils literal notranslate"><span class="pre">.old.log</span></code> files will be
permanently deleted and all inactive log files will be renamed from
<code class="file docutils literal notranslate"><span class="pre">.log</span></code> to <code class="file docutils literal notranslate"><span class="pre">.old.log</span></code>. That means that when running multiple
clients simultaneously, there can be several <code class="file docutils literal notranslate"><span class="pre">.log</span></code> files as well
as several <code class="file docutils literal notranslate"><span class="pre">.old.log</span></code> files.</p>
<p>The locations of the log files differ between Linux and Windows systems
and are explained below.</p>
<section id="linux-log-file">
<h4>Linux log file<a class="headerlink" href="#linux-log-file" title="Permalink to this headline">¶</a></h4>
<p>On Linux systems, the log file is located in the user home directory:
<code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/tlclient.log</span></code>.</p>
</section>
<section id="windows-log-file">
<h4>Windows log file<a class="headerlink" href="#windows-log-file" title="Permalink to this headline">¶</a></h4>
<p>On Windows systems the log file is located in the directory referenced
from the <span class="sig sig-inline environ">%TMP%</span> variable. The value of this variable can be
achieved by running any of the following commands in a Windows command
window.</p>
<div class="highlight-doscon notranslate"><div class="highlight"><pre><span></span><span class="gp">C:\&gt;</span> <span class="k">echo</span> <span class="nv">%TMP%</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-doscon notranslate"><div class="highlight"><pre><span></span><span class="gp">C:\&gt;</span> <span class="k">set</span>
</pre></div>
</div>
<p>Observe that some directories in the Windows <span class="sig sig-inline environ">%TMP%</span> path may
be flagged as hidden by the Windows system. This means that you need to
change directory options to display hidden files and directories to
navigate to the log file.</p>
</section>
<section id="macos-log-file">
<h4>macOS log file<a class="headerlink" href="#macos-log-file" title="Permalink to this headline">¶</a></h4>
<p>On macOS systems the log file is located in the home directory for the
user that runs the ThinLinc client. The path is
<code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/tlclient.log</span></code>.</p>
</section>
</section>
<span id="document-client_customizer"></span><section id="client-customizer">
<span id="clientcustomizer"></span><h3>Client customizer<a class="headerlink" href="#client-customizer" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>This software lets you create customized ThinLinc client installation
programs. This means that when users install the customized version,
they will automatically get the default settings you have configured.</p>
<p>One advantage with this is that you can provide, for example, a default
server name. A custom client can also be used to enhance security: You
can distribute SSH host keys with the client itself, so that users don’t
need to be concerned with SSH host key fingerprint verification.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The client customizer only works for the Windows client.</p>
</div>
</section>
<section id="installation">
<h4>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h4>
<p>Before you can start, you have to install the build environment. This is
done by running the command
<strong class="program">tl-x.y.z-client-customizer.exe</strong> located in the client
bundle. This will also create a shortcut to the build directory in the
Start menu.</p>
</section>
<section id="building-a-customized-client">
<h4>Building a customized client<a class="headerlink" href="#building-a-customized-client" title="Permalink to this headline">¶</a></h4>
<p>To create a customized client, do the following:</p>
<ol class="arabic simple">
<li><p>Edit <code class="file docutils literal notranslate"><span class="pre">settings.reg</span></code>. This file contains all the parameter names
and default values that are used in <strong class="program">tlclient</strong>. To customize
the client, edit any of these values, and they will be installed in
the registry when you install the customized client itself. You can
also add your server’s SSH host keys (see below).</p></li>
<li><p>Custom branding can be added to the client by simply dropping a file
called <code class="file docutils literal notranslate"><span class="pre">branding.png</span></code> in the root directory of the client
customizer. See <a class="reference internal" href="index.html#client-branding"><span class="std std-ref">Adding custom branding to the login window</span></a> for more details.</p></li>
<li><p>Run <code class="file docutils literal notranslate"><span class="pre">build.bat</span></code> in the same directory. The file
<code class="file docutils literal notranslate"><span class="pre">setup.exe</span></code> will now be created. This is the installation
program for the customized client.</p></li>
</ol>
</section>
<section id="adding-ssh-host-keys">
<h4>Adding SSH host keys<a class="headerlink" href="#adding-ssh-host-keys" title="Permalink to this headline">¶</a></h4>
<p>To add your server’s SSH host key to <code class="file docutils literal notranslate"><span class="pre">settings.reg</span></code>, do the
following:</p>
<ol class="arabic simple">
<li><p>Use <strong class="program">tlclient</strong> to connect to your server, if you haven’t
already done so. Confirm the server’s host key, if necessary.</p></li>
<li><p>Run the registry editor, and select
<code class="docutils literal notranslate"><span class="pre">HKEY_CURRENT_USER\Software\Cendio\ThinLinc\tlclient\KnownHosts</span></code></p></li>
<li><p>Export this key to an external text file.</p></li>
<li><p>Open the text file from the previous step in an editor.</p></li>
<li><p>Copy the line corresponding to your ThinLinc server. Paste this line
into <code class="file docutils literal notranslate"><span class="pre">settings.reg</span></code>, section
<code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE\Software\Cendio\ThinLinc\tlclient\KnownHosts</span></code></p></li>
<li><p>Save <code class="file docutils literal notranslate"><span class="pre">settings.reg</span></code>, and proceed to create the customized
client as described above.</p></li>
</ol>
</section>
</section>
<span id="document-client_web_integration"></span><section id="launching-the-client-from-a-web-page">
<span id="clientplatforms-web-integration"></span><h3>Launching the client from a web page<a class="headerlink" href="#launching-the-client-from-a-web-page" title="Permalink to this headline">¶</a></h3>
<p>This feature allows a web server, such as an intranet or a web portal,
to initiate a ThinLinc client connection with a given configuration on
behalf of a user.</p>
<section id="requirements">
<span id="clientplatforms-web-integration-requirements"></span><h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<p>Web Integration requires an Apache HTTP Server, configured for TLS, with
the ability to run CGI scripts.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some Linux distributions distributes their Apache HTTP Server with
the mod_cgi module disabled. This module is required for Web
Integration to work. On Ubuntu systems, it can be enabled by running
the <strong class="command">a2enmod cgi</strong> command and restarting the httpd service.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If Web Integration is used over HTTP, an attacker with access to the
network may be able to intercept user passwords. To protect from this
happening, Web Integration automatically redirects to a HTTPS
connection when HTTP is used.</p>
</div>
</section>
<section id="installation">
<span id="clientplatforms-web-integration-installation"></span><h4>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h4>
<p>The Web Integration feature is not enabled by default in a ThinLinc
installation. An installation script,
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/share/web_integration/install-web-integration</span></code>, is
provided for ease of installation.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo /opt/thinlinc/share/web_integration/install-web-integration
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After installing the Apache HTTP configuration file, make sure to
restart the httpd service to load the new configuration.</p>
</div>
<p>While the installation script works as-is on most supported platforms,
two environment variables grants you more control over where the
configuration file is installed. This can be useful if you have httpd
installed at a custom location.</p>
<dl class="environ">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">APACHE_CONF_DIR</span></span></dt>
<dd><p>If your Apache HTTP Server has been installed to a non-standard
location, set this environment variable to tell the installation
script where the configuration directory is located.</p>
<p>If this parameter is unset, the installation script will attempt to
find the configuration directory from a list of known locations.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo env <span class="nv">APACHE_CONF_DIR</span><span class="o">=</span>/usr/local/etc/httpd/conf.d <span class="se">\</span>
    /opt/thinlinc/share/web_integration/install-web-integration
</pre></div>
</div>
</dd></dl>

<dl class="environ">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">APACHE_CONF_NAME</span></span></dt>
<dd><p>The default behavior of the installation script is to install the
configuration file in the configuration directory with the name
<code class="file docutils literal notranslate"><span class="pre">thinlinc.conf</span></code>. If you already have a file with that name in
the configuration directory that you wish to keep, set this
environment variable to a different name.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo env <span class="nv">APACHE_CONF_NAME</span><span class="o">=</span>web-integration.conf <span class="se">\</span>
    /opt/thinlinc/share/web_integration/install-web-integration
</pre></div>
</div>
</dd></dl>

</section>
<section id="usage">
<span id="clientplatforms-web-integration-usage"></span><h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<p>The process works like this:</p>
<ol class="arabic simple">
<li><p>The CGI script is called with the desired parameters.</p></li>
<li><p>The CGI script generates a “launch file”, which is a normal client
configuration file. When the browser receives this file, it launches
the locally installed ThinLinc client.</p></li>
</ol>
<p>The launch file delivered to the client is generated from the template
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/tlclient.conf.webtemplate</span></code>. The CGI script
performs some substitutions on this file, before sending it to the
client. Currently, the following variables are substituted:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">$server_name$</span></code></dt><dd><p>The server name where the CGI script resides.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">$login_name$</span></code></dt><dd><p>The username, specified by the <code class="docutils literal notranslate"><span class="pre">username</span></code> CGI parameter.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">$password$</span></code></dt><dd><p>The password in hexadecimal ASCII notation, specified by the
<code class="docutils literal notranslate"><span class="pre">password</span></code> or <code class="docutils literal notranslate"><span class="pre">hexpassword</span></code> CGI parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">$autologin$</span></code></dt><dd><p>The value of the <code class="docutils literal notranslate"><span class="pre">autologin</span></code> CGI parameter.</p>
</dd>
</dl>
</section>
<section id="the-cgi-script-tlclient-cgi">
<span id="clientplatforms-tlclient-cgi"></span><h4>The CGI script tlclient.cgi<a class="headerlink" href="#the-cgi-script-tlclient-cgi" title="Permalink to this headline">¶</a></h4>
<p>The CGI script <code class="file docutils literal notranslate"><span class="pre">tlclient.cgi</span></code> is used to start the native client,
when launched from a web page. It accepts many parameters which affects
its operation. These are described below:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">server_name</span></code></dt><dd><p>The desired server name.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">username</span></code></dt><dd><p>The desired username. No default.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">password</span></code></dt><dd><p>The desired password, in plain text. No default.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hexpassword</span></code></dt><dd><p>The desired password, in hexadecimal ASCII notation. This parameter
overrides the <code class="docutils literal notranslate"><span class="pre">password</span></code> parameter. No default.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">redirto</span></code></dt><dd><p>After launching the native client, the browser will redirect to the
web page specified by this parameter. Default value: the empty
string.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">loginsubmit</span></code></dt><dd><p>This boolean parameter specifies if a login should be directly
executed, instead of showing a login form. Default value: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">autologin</span></code></dt><dd><p>This boolean parameter specifies if the native client should
automatically connect to the specified server at startup. Default
value: <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">start_program_enabled</span></code></dt><dd><p>This boolean parameter specifies if the native client should request
that the server starts the session with the command supplied by the
client, as indicated by the <code class="docutils literal notranslate"><span class="pre">start_program_command</span></code> parameter.
Default value: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">start_program_command</span></code></dt><dd><p>This parameter specifies the command to use when starting the
session. Default value: <code class="docutils literal notranslate"><span class="pre">&quot;tl-single-app</span> <span class="pre">firefox&quot;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">displayurl</span></code></dt><dd><p>This boolean parameter can be used for debugging and development
purposes. It will display a URL with all submitted parameters, and
do nothing else. Default value: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shadowing_enabled</span></code></dt><dd><p>This boolean parameter specifies if the native client should activate
shadowing. Default value: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shadow_name</span></code></dt><dd><p>This parameter specifies the user to shadow. Default value is the
empty string.</p>
</dd>
</dl>
<p>To make it easier to test various parameters, the HTML file
<code class="file docutils literal notranslate"><span class="pre">cgitest.html</span></code> is included, in the same location as
<code class="file docutils literal notranslate"><span class="pre">tlclient.cgi</span></code>. It also demonstrates how to create icons on web
pages, which launches ThinLinc sessions.</p>
</section>
</section>
<span id="document-client_advanced_topics"></span><section id="advanced-topics">
<span id="client-advanced-topics"></span><h3>Advanced topics<a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h3>
<section id="hardware-address-reporting">
<h4>Hardware address reporting<a class="headerlink" href="#hardware-address-reporting" title="Permalink to this headline">¶</a></h4>
<p>When the client connects to a server, it reports its hardware
address. On Linux, the active interface with the smallest MAC address is
used. On Windows, the address of the first interface (as listed in the
Control Panel) is used.</p>
</section>
<section id="client-update-notifications">
<h4>Client update notifications<a class="headerlink" href="#client-update-notifications" title="Permalink to this headline">¶</a></h4>
<p>The client includes a feature which can periodically check for new
versions. This functionality is affected by the configuration parameters
<a class="reference internal" href="index.html#client-config-UPDATE_ENABLED"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_ENABLED</span></code></a>, <a class="reference internal" href="index.html#client-config-UPDATE_INTERVAL"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_INTERVAL</span></code></a>,
<a class="reference internal" href="index.html#client-config-UPDATE_LASTCHECK"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_LASTCHECK</span></code></a>, <a class="reference internal" href="index.html#client-config-UPDATE_MANDATORY"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_MANDATORY</span></code></a>, and,
<a class="reference internal" href="index.html#client-config-UPDATE_URL"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_URL</span></code></a>. These are described in
<a class="reference internal" href="index.html#clientconf-params"><span class="std std-ref">Client configuration parameters</span></a>. During an update check, the client retrieves
the file specified by <a class="reference internal" href="index.html#client-config-UPDATE_URL"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">UPDATE_URL</span></code></a>. An example follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>WINDOWSINSTALLER = https://www.cendio.com/downloads/clients/tl-latest-client-windows.exe
LINUXINSTALLER = https://www.cendio.com/downloads/clients/thinlinc-client-latest.i686.rpm
DEFAULTINSTALLER = https://www.cendio.com/thinlinc/download
OKVERSIONS = 3.2.0 3.3.0
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">OKVERSIONS</span></code> parameter specifies a list of valid client versions.
If the running client version is different, the client will notify the
user. The <code class="docutils literal notranslate"><span class="pre">WINDOWSINSTALLER</span></code>, <code class="docutils literal notranslate"><span class="pre">LINUXINSTALLER</span></code>, and
<code class="docutils literal notranslate"><span class="pre">DEFAULTINSTALLER</span></code> parameters specifies the updated client packages
for Windows, Linux, and other platforms, respectively.</p>
</section>
<section id="adding-custom-branding-to-the-login-window">
<span id="client-branding"></span><h4>Adding custom branding to the login window<a class="headerlink" href="#adding-custom-branding-to-the-login-window" title="Permalink to this headline">¶</a></h4>
<p>It is possible to add a custom logo to the main ThinLinc client window,
making it easily distinguishable from a generic client. The custom logo
will be placed to the right of the input fields.</p>
<p>Adding the logo is easy. The new logo must be a PNG file with maximum
width and height of 50 pixels. On Windows, just add the file
<code class="file docutils literal notranslate"><span class="pre">branding.png</span></code> in the same directory as the executable with the
custom logo. On Linux, the file name is
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/lib/tlclient/branding.png</span></code>.</p>
</section>
<section id="xdm-mode-linux-only">
<span id="client-xdm-mode"></span><h4>XDM mode (Linux only)<a class="headerlink" href="#xdm-mode-linux-only" title="Permalink to this headline">¶</a></h4>
<p>When installing dedicated clients, for example old PCs or thin terminal
boxes, it’s common to install the client to run in XDM mode. XDM is an
acronym for X Display Manager and is the name of a small graphical
program used for graphical logins in many Linux systems. By using the
ThinLinc client in XDM mode you can make sure that the client appears
automatically when the client hardware is started and that it reappears
directly after a user logs out.</p>
<p>To run the client in XDM mode you need to start it with the <code class="docutils literal notranslate"><span class="pre">-x</span></code>
option. When running in XDM mode the following changes will be made to
the client interface.</p>
<ul class="simple">
<li><p>The <span class="guilabel">Exit</span> button is removed.</p></li>
<li><p>Always use full screen on all monitors.</p></li>
</ul>
</section>
</section>
</div>
</section>
<span id="document-tlwebaccess"></span><section id="thinlinc-web-access">
<span id="tlwebaccess"></span><h2>ThinLinc Web Access<a class="headerlink" href="#thinlinc-web-access" title="Permalink to this headline">¶</a></h2>
<p>ThinLinc Web Access is a ThinLinc client that runs in modern browsers
and allows access to a ThinLinc server or cluster without installing any
extra software on a client device.</p>
<div class="toctree-wrapper compound">
<span id="document-tlwebaccess_server"></span><section id="server-configuration">
<span id="tlwebaccess-server"></span><h3>Server configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc Web Access is served by the service <code class="docutils literal notranslate"><span class="pre">tlwebaccess</span></code>. The
default TCP port number for this HTTP service is 300. It can be changed
to some other port such as 443, assuming this port is free. The
configured port must be allowed in any firewalls.</p>
<p>In a cluster setup, the <code class="docutils literal notranslate"><span class="pre">tlwebaccess</span></code> service must run on all
machines. The same service port should be used, and all machines must be
accessible from the clients.</p>
<p>The setting <a class="reference internal" href="index.html#server-config-webaccess-login_page"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/login_page</span></code></a> will also need to be
configured in a cluster setup. The client first authenticates with the
master. Once the master server has chosen an agent server for the
session, the client will authenticate with that agent server. The
browser will thus present pages from two different servers. First a page
from the master, and then from the agent, unless the agent is on the
same server of course. This parameter is a means for the agent to know
the public hostname of the master server. Thus when it’s properly set,
the user can, when the session has ended, click a button to return from
the agent to the master to log in again. The default value, which is
<code class="docutils literal notranslate"><span class="pre">/</span></code>, will not redirect to another server and is only usable if you are
running a standalone ThinLinc server, i.e. not a cluster. If you have
more than one server or are using Network Address Translation (NAT), you
must set this parameter to an address that all clients can connect to.
Example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">login_page</span> <span class="o">=</span> <span class="s">https://thinlinc-master.example.com:300/</span>
</pre></div>
</div>
<p>Please see <a class="reference internal" href="index.html#configuration-tlwebaccess"><span class="std std-ref">Parameters in /webaccess/</span></a> for details on all possible
settings for ThinLinc Web Access.</p>
<section id="certificates">
<span id="tlwebaccess-certificates"></span><h4>Certificates<a class="headerlink" href="#certificates" title="Permalink to this headline">¶</a></h4>
<p>For best security and user experience, we strongly recommend that you
use valid TLS certificates. The certificates should match the server
host names. For correct behavior, you should set the parameter
<a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a> on each of the agents in the
ThinLinc cluster.</p>
<p>If you can’t obtain a valid TLS certificate but still want to test
ThinLinc Web Access you can use a self-signed certificate. Such a
certificate, created for <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, is bundled with Web Access. Any
use of self-signed certificates is insecure and most browsers will
display warnings when they are used. Self-signed certificates must be
manually approved.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Safari, the certificates <strong>must</strong> match the server hostname, while
other browsers might be content with a warning. Firstly, this means
that you cannot connect through an IP address. Secondly, you cannot
use the bundled self-signed certificate. You can create a new
self-signed certificate using our shipped helper script
<strong class="program">make-dummy-cert</strong>. OpenSSL is required to be installed for
this script. Use it like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo /opt/thinlinc/etc/tlwebaccess/make-dummy-cert <span class="sb">`</span>hostname --fqdn<span class="sb">`</span>
</pre></div>
</div>
<p>Manually approving the self-signed certificate requires some
additional steps in Safari compared to other browsers. On macOS the
user must expand the browser dialog that complains about the
certificate and choose to always accept that certificate. If the user
already dismissed that dialog, then Safari has to be restarted. A
self-signed certificate must be manually approved for all machines in
a cluster.</p>
<p>If you must test a browser on iOS with a self-signed certificate you
have to add the certificate as a trusted certificate authority on the
iOS device. Download the certificate on the device and install it in
<span class="menuselection">Settings ‣ General ‣ Profile</span>. Then you also have
to enable the full trust of that root certificate in the
<span class="guilabel">Certificate Trust Settings</span> which can be found at the
bottom of the <span class="menuselection">Settings ‣ General ‣ About</span> page.
See Apple’s instructions <a class="reference external" href="https://support.apple.com/HT204477">here</a>. After using Safari to install
the certificate, you can use Web Access in any browser on iOS.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The above steps for iOS are very insecure and are not recommended
for production systems. iOS does not have a mechanism for ignoring
bad certificates for a single site. This means that following the
method above will result in that your device considers the
certificate as a generally trusted authority. This can in turn
allow whoever has access to that certificate’s private key to
generate a certificate that falsely appears valid for any site.
For example, an evil website could appear to have a valid
certificate for your bank.</p>
</div>
</div>
</section>
</section>
<span id="document-tlwebaccess_usage"></span><section id="usage">
<span id="tlwebaccess-usage"></span><h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc Web Access is accessed with your web browser by browsing to the
master machine, for example <a class="reference external" href="https://thinlinc-master.example.com:300">https://thinlinc-master.example.com:300</a>.
If you have configured the service to run on port 443, “:300” can be
omitted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On iOS and Android devices, you can add an icon to the home screen.
When the ThinLinc Web Access is launched from the home screen, it
will run in full-screen mode.</p>
</div>
<section id="requirements">
<span id="tlwebaccess-requirements"></span><h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc Web Access requires a web browser that supports modern web
technologies such as WebSockets and Canvas. It is verified to work
correctly on the latest versions of the major web browsers:</p>
<ul class="simple">
<li><p>Microsoft Edge</p></li>
<li><p>Firefox</p></li>
<li><p>Google Chrome</p></li>
<li><p>Safari</p></li>
</ul>
</section>
<section id="logging-in-to-a-thinlinc-server">
<span id="tlwebaccess-login"></span><h4>Logging in to a ThinLinc server<a class="headerlink" href="#logging-in-to-a-thinlinc-server" title="Permalink to this headline">¶</a></h4>
<p>The first thing presented to the user when browsing to ThinLinc Web
Access is a login form where the user’s username and password can be
specified.</p>
<figure class="align-default" id="id1">
<img alt="_images/tlwebaccess-login.svg" src="_images/tlwebaccess-login.svg" /><figcaption>
<p><span class="caption-number">Fig. 19 </span><span class="caption-text">ThinLinc Web Access login</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>To log in to a ThinLinc server Web Access needs to do a successful
user authentication. For most systems the password will be
sufficient. If more information is needed, e.g. when using one-time
passwords or when a password change is needed, then Web Access will
present a series of prompts for the user until the user has been fully
authenticated.</p>
<p>If the login attempt is successful a ThinLinc session will start or an
old one will be reused, depending on if the user already has a session
running or not.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ThinLinc Web Access does not fully support multiple sessions for the same
user. If the user has multiple sessions, a random session will be chosen.</p>
</div>
</section>
<section id="the-toolbar">
<span id="tlwebaccess-toolbar"></span><h4>The toolbar<a class="headerlink" href="#the-toolbar" title="Permalink to this headline">¶</a></h4>
<p>Once connected ThinLinc Web Access will display a toolbar on one side of
the browser window for various functions. This toolbar can be hidden by
clicking the small tab on the side of it. Clicking the tab again will
make the toolbar reappear. The toolbar can also be moved to either side
by grabbing the tab and dragging it to the desired side.</p>
<figure class="align-default" id="id2">
<img alt="_images/tlwebaccess-toolbar.svg" src="_images/tlwebaccess-toolbar.svg" /><figcaption>
<p><span class="caption-number">Fig. 20 </span><span class="caption-text">ThinLinc Web Access toolbar</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The ThinLinc Web Access toolbar has the following functions:</p>
<dl class="simple">
<dt><span class="guilabel">Move/Drag viewport</span></dt><dd><p>Toggle between sending mouse events to the ThinLinc session or
panning a session that is larger than the current browser window.
This button will only be shown on devices that do not have visible
scrollbars.</p>
</dd>
<dt><span class="guilabel">Show keyboard</span></dt><dd><p>Toggle the on-screen keyboard for the device. This button will only
be shown if a touch device has been detected.</p>
</dd>
<dt><span class="guilabel">Show extra keys</span></dt><dd><p>Displays a secondary toolbar with virtual keys for devices with
limited or no physical keyboard. See <a class="reference internal" href="#tlwebaccess-extra-keys"><span class="std std-ref">Extra keys</span></a>
for details.</p>
</dd>
<dt><span class="guilabel">Clipboard</span></dt><dd><p>Opens the clipboard dialog. See <a class="reference internal" href="#tlwebaccess-clipboard"><span class="std std-ref">Clipboard</span></a> for
details.</p>
</dd>
<dt><span class="guilabel">Disconnect</span></dt><dd><p>Disconnects ThinLinc Web Access from the current session.</p>
</dd>
</dl>
</section>
<section id="extra-keys">
<span id="tlwebaccess-extra-keys"></span><h4>Extra keys<a class="headerlink" href="#extra-keys" title="Permalink to this headline">¶</a></h4>
<p>Some physical keyboards and most on screen keyboards lack a number of
keys that are commonly used in applications and desktop environments. To
simplify use of these an extra toolbar is available that can simulate
these keys.</p>
<figure class="align-default" id="id3">
<img alt="_images/tlwebaccess-extra-keys.svg" src="_images/tlwebaccess-extra-keys.svg" /><figcaption>
<p><span class="caption-number">Fig. 21 </span><span class="caption-text">ThinLinc Web Access extra keys</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<dl class="simple">
<dt><span class="guilabel">Control</span></dt><dd><p>Simulates pressing or releasing the left <kbd class="kbd docutils literal notranslate">Control</kbd> key.</p>
</dd>
<dt><span class="guilabel">Alt</span></dt><dd><p>Simulates pressing or releasing the left <kbd class="kbd docutils literal notranslate">Alt</kbd> key.</p>
</dd>
<dt><span class="guilabel">Windows</span></dt><dd><p>Simulates pressing or releasing the left <kbd class="kbd docutils literal notranslate">Windows</kbd> key.</p>
</dd>
<dt><span class="guilabel">Tab</span></dt><dd><p>Simulates pressing and releasing the <kbd class="kbd docutils literal notranslate">Tab</kbd> key in sequence.</p>
</dd>
<dt><span class="guilabel">Escape</span></dt><dd><p>Simulates pressing and releasing the <kbd class="kbd docutils literal notranslate">Escape</kbd> key in sequence.</p>
</dd>
<dt><span class="guilabel">Ctrl+Alt+Delete</span></dt><dd><p>Simulates pressing and releasing the <kbd class="kbd docutils literal notranslate">Control</kbd>, <kbd class="kbd docutils literal notranslate">Alt</kbd> and
<kbd class="kbd docutils literal notranslate">Delete</kbd> keys in sequence.</p>
</dd>
</dl>
</section>
<section id="clipboard">
<span id="tlwebaccess-clipboard"></span><h4>Clipboard<a class="headerlink" href="#clipboard" title="Permalink to this headline">¶</a></h4>
<p>For security reasons the browsers prevent ThinLinc Web Access from
directly integrating with the local clipboard. Copying text to or from
the ThinLinc session must therefore be handled manually via the
clipboard dialog.</p>
<figure class="align-default" id="id4">
<img alt="_images/tlwebaccess-clipboard.svg" src="_images/tlwebaccess-clipboard.svg" /><figcaption>
<p><span class="caption-number">Fig. 22 </span><span class="caption-text">ThinLinc Web Access clipboard dialog</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The contents of the clipboard dialog will automatically be updated
whenever the contents of the clipboard in the ThinLinc session changes.
Correspondingly, if the contents of the clipboard dialog is changed by
the user then the clipboard in the session will be updated to match.</p>
</section>
<section id="touch-gestures">
<span id="tlwebaccess-gestures"></span><h4>Touch gestures<a class="headerlink" href="#touch-gestures" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc Web Access has support for the same touch gestures as the
ThinLinc client when used on a touch capable monitor. These gestures
allow the user to simulate certain mouse operations that would otherwise
not be possible. Please see <a class="reference internal" href="index.html#client-gestures"><span class="std std-ref">Client touch gestures</span></a> for details on what
gestures are available.</p>
</section>
<section id="command-and-alt-keys-on-macos-and-ios">
<span id="tlwebaccess-macos"></span><h4>Command and Alt keys on macOS and iOS<a class="headerlink" href="#command-and-alt-keys-on-macos-and-ios" title="Permalink to this headline">¶</a></h4>
<p>The <kbd class="kbd docutils literal notranslate">Alt</kbd> key (also known as the <kbd class="kbd docutils literal notranslate">Option</kbd> key) behaves very
differently on macOS and iOS compared to its behavior on other
platforms. It closely resembles the PC <kbd class="kbd docutils literal notranslate">AltGr</kbd> key, found on
international keyboards. ThinLinc therefore treats these keys in a
special manner on macOS and iOS in order to provide a good integration
between the client and the remote ThinLinc system.</p>
<p>For more information on how ThinLinc treats these keys see
<a class="reference internal" href="index.html#macosalt"><span class="std std-ref">Command and Alt keys on macOS</span></a>.</p>
</section>
</section>
</div>
</section>
</div>
<div class="toctree-wrapper compound" id="toc-administration">
<span id="document-redirection"></span><section id="accessing-client-resources-from-the-thinlinc-session">
<span id="client-resources"></span><h2>Accessing client resources from the ThinLinc session<a class="headerlink" href="#accessing-client-resources-from-the-thinlinc-session" title="Permalink to this headline">¶</a></h2>
<p>In this chapter we will describe how to access client resources, such as
local drives and serial ports, from the ThinLinc session.</p>
<div class="toctree-wrapper compound">
<span id="document-redir_drives"></span><section id="accessing-the-client-s-local-drives">
<span id="local-drives"></span><h3>Accessing the client’s local drives<a class="headerlink" href="#accessing-the-client-s-local-drives" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>Using ThinLinc, it is possible to access the clients’ drives and file
systems from the ThinLinc session. With thin terminals, one might want
to access a local USB drive. When running the client on a workstation,
applications on the remote desktop server can access all filesystems
mounted at the workstation, just like local applications can.</p>
</section>
<section id="mounting-and-unmounting-local-drives">
<h4>Mounting and unmounting local drives<a class="headerlink" href="#mounting-and-unmounting-local-drives" title="Permalink to this headline">¶</a></h4>
<p>The exported local drives can be mounted with the command
<strong class="program">tl-mount-localdrives</strong>. The drives will be mounted below
<code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/drives</span></code>. A symbolic link called <code class="file docutils literal notranslate"><span class="pre">thindrives</span></code>
will be created in the user’s home directory, pointing to this
directory. The syntax for <strong class="program">tl-mount-localdrives</strong> is:</p>
<p>tl-mount-localdrives [<strong>-h</strong>] [<strong>-v</strong>] [<strong>--version</strong>]</p>
<p>The option <code class="docutils literal notranslate"><span class="pre">-v</span></code> causes the tool to be executed in verbose mode,
<code class="docutils literal notranslate"><span class="pre">-h</span></code> shows the syntax, and <code class="docutils literal notranslate"><span class="pre">--version</span></code> shows the
program’s version number.</p>
<p>The Hiveconf parameter
<a class="reference internal" href="index.html#server-config-utils-tl-mount-localdrives-mount_args"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils/tl-mount-localdrives/mount_args</span></code></a> specifies the mount
arguments. This Hiveconf parameter is normally found in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tl-mount-localdrives.hconf</span></code>. The options
<code class="docutils literal notranslate"><span class="pre">mountport</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>, <code class="docutils literal notranslate"><span class="pre">mountvers</span></code>, <code class="docutils literal notranslate"><span class="pre">nfsvers</span></code>, <code class="docutils literal notranslate"><span class="pre">nolock</span></code>, and
<code class="docutils literal notranslate"><span class="pre">tcp</span></code> will always be used.</p>
<p>Mounted local drives can be unmounted with the command
<strong class="program">tl-umount-localdrives</strong>. If some applications are using a mount
at this time, they can continue to access the mount, even though the
mount has been removed from the file system hierarchy (so called “lazy”
unmount). The syntax for <strong class="program">tl-umount-localdrives</strong> is:</p>
<p>tl-umount-localdrives [<strong>-a</strong>] [<strong>-s</strong>] [<strong>-l</strong>] [<strong>-h</strong>] [<strong>-v</strong>] [<strong>--version</strong>]</p>
<p>If option <code class="docutils literal notranslate"><span class="pre">-a</span></code> is specified, all mounted local drives for all
users on this machine will be unmounted (root required). Option
<code class="docutils literal notranslate"><span class="pre">-s</span></code> leads to unmounting of all mounted local drives, for all
sessions belonging to the current user. With option <code class="docutils literal notranslate"><span class="pre">-l</span></code>
requested, the <code class="file docutils literal notranslate"><span class="pre">thindrives</span></code> link will not be updated. Given option
<code class="docutils literal notranslate"><span class="pre">-v</span></code>, the tool will execute in verbose mode, <code class="docutils literal notranslate"><span class="pre">-h</span></code> will
show the syntax, and finally <code class="docutils literal notranslate"><span class="pre">--version</span></code> shows the program’s
version number.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using multiple sessions per user, the <code class="file docutils literal notranslate"><span class="pre">thindrives</span></code> link
will point to the newest session that executed
<strong class="program">tl-mount-localdrives</strong>. <strong class="program">tl-umount-localdrives</strong>
will restore the link to the newest session which is not newer than
the current session and which has mounted local drives.</p>
</div>
</section>
<section id="mounting-drives-at-login">
<h4>Mounting drives at login<a class="headerlink" href="#mounting-drives-at-login" title="Permalink to this headline">¶</a></h4>
<p>Often, it’s convenient to automatically mount all local drives for a
user when the session starts. This is done by default via a symbolic
link in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d</span></code>, pointing at
<strong class="program">/opt/thinlinc/bin/tl-mount-localdrives</strong>. This link is created
for you during installation, as well as its counterpart in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xlogout.d</span></code> which points to
<strong class="program">/opt/thinlinc/bin/tl-umount-localdrives</strong>.</p>
</section>
<section id="limitations-and-additional-information">
<h4>Limitations and additional information<a class="headerlink" href="#limitations-and-additional-information" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Linux kernel 2.6.23 or later is required.</p></li>
<li><p>A mounted local drive, for example
<code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions/johndoe/47/drives/cdrom</span></code>, is only
usable during the lifetime of the ThinLinc session. If the user ends
the session without unmounting and then starts a new session, the
mount will not be usable even if the session number happens to be
same. In this case, any attempts to access the mount will give the
error message “Stale NFS file handle”. To be able to use the local
drive, the user needs to run <strong class="program">tl-mount-localdrives</strong>.</p></li>
<li><p>The mounted local drive does not fully support POSIX semantics. The
usual limitations of NFSv3 applies. Additionally, if the file is
moved to another directory while a process has the file open, the
process will get a “Stale NFS file handle” error on any subsequent
file operation for that file.</p></li>
<li><p>Local files are uniquely identified by their inode number. Some file
system implementations, such as the Linux kernel FAT implementation,
do not provide persistent inode numbers. Inode numbers will change on
each remount, which usually results in “Stale NFS file handle”
errors.</p></li>
</ul>
</section>
</section>
<span id="document-redir_serial"></span><section id="using-serial-port-redirection">
<span id="serial-redirection"></span><h3>Using serial port redirection<a class="headerlink" href="#using-serial-port-redirection" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>Using ThinLinc, it is possible to access the serial ports of the client
from the ThinLinc session. This means that you can utilize peripheral
devices which connect through a serial port, such as digital cameras,
PDAs and modems. Up to two serial ports are supported at a time.</p>
</section>
<section id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>The application which communicates with the serial port must be
dynamically linked. Statically linked applications are not supported.</p></li>
</ul>
</section>
<section id="enabling-serial-port-redirection">
<h4>Enabling serial port redirection<a class="headerlink" href="#enabling-serial-port-redirection" title="Permalink to this headline">¶</a></h4>
<p>Serial port redirection is activated (for the current user session) by
sourcing the file <strong class="program">tl-serial-redir.sh</strong>. It can be done manually
with this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">source</span> /opt/thinlinc/libexec/tl-serial-redir.sh
</pre></div>
</div>
<p>It is necessary to source this file because it sets the environment
variables <span class="sig sig-inline environ">CYCLADE_DEVICES</span> and <span class="sig sig-inline environ">LD_PRELOAD</span>. Thus,
all applications needing serial port access should be started as a
subprocess to this shell. The easiest way to accomplish this is to
source <strong class="program">tl-serial-redir.sh</strong> from the session startup scripts.
To automatically activate serial port redirection at login for all
users, execute this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /opt/thinlinc/libexec/tl-serial-redir.sh <span class="se">\</span>
   /opt/thinlinc/etc/xstartup.d/42-tl-serial-redir.sh
</pre></div>
</div>
</section>
<section id="accessing-the-redirected-port-from-applications">
<h4>Accessing the redirected port from applications<a class="headerlink" href="#accessing-the-redirected-port-from-applications" title="Permalink to this headline">¶</a></h4>
<p>When using redirected serial ports, applications should be configured to
use a special, personal device-file, instead of a port such as
<code class="file docutils literal notranslate"><span class="pre">/dev/ttyS0</span></code>. The two device files are called
<code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/dev/ttyS0</span></code> and <code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/dev/ttyS1</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Since the session number varies, it’s often convenient to use the
symbolic link <code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions/$USER/last</span></code>, which
points to the last started session directory. For example, the first
serial port can be accessed as
<code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions/$USER/last/dev/ttyS0</span></code>.</p>
</div>
</section>
<section id="limitations-and-additional-information">
<h4>Limitations and additional information<a class="headerlink" href="#limitations-and-additional-information" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>When reconnecting to an existing session, it might take up to 10
seconds before the serial ports are available.</p></li>
<li><p>A maximum of two serial ports per session can be redirected.</p></li>
<li><p>The redirection is handled by processes called
<strong class="program">cyclades-ser-cli</strong>. It writes debugging information to
<code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/ttyS0.log</span></code> and
<code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/ttyS1.log</span></code>. These processes will automatically
terminate when the session terminates.</p></li>
<li><p>Applications that uses the <code class="docutils literal notranslate"><span class="pre">ioctl</span></code> <code class="docutils literal notranslate"><span class="pre">TIOCMGET</span></code> are not supported
yet.</p></li>
</ul>
</section>
</section>
<span id="document-redir_sound"></span><section id="using-sound-device-redirection">
<span id="sound-redirection"></span><h3>Using sound device redirection<a class="headerlink" href="#using-sound-device-redirection" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>With ThinLinc, it is possible to access the client’s sound device from
the ThinLinc session. This means that you can run sound applications on
the remote desktop servers and listen to the sound through the client’s
sound device and speakers. Input devices such as microphones can also be
used.</p>
<p>ThinLinc can support sound redirection for almost all applications,
provided that the correct libraries and utilities are installed on the
ThinLinc server.</p>
</section>
<section id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>PulseAudio client libraries to support applications with native
PulseAudio support and the ALSA plugin. ThinLinc supports version
0.9 of PulseAudio.</p></li>
<li><p><strong class="command">padsp</strong> to support OSS applications via PulseAudio.</p></li>
<li><p>alsa-plugins, version 1.0.12 or later, to support ALSA applications
via PulseAudio.</p></li>
</ul>
</section>
<section id="pulseaudio-applications">
<h4>PulseAudio applications<a class="headerlink" href="#pulseaudio-applications" title="Permalink to this headline">¶</a></h4>
<p>All applications that can communicate using the PulseAudio protocol will
also work automatically in ThinLinc. Most current distributions are
configured to use PulseAudio by default, but older ones might require
some configuration to work properly.</p>
</section>
<section id="oss-applications">
<span id="sound-redirection-oss"></span><h4>OSS applications<a class="headerlink" href="#oss-applications" title="Permalink to this headline">¶</a></h4>
<p>Most applications that use the Open Sound System (OSS) can be made to
work with ThinLinc through the <strong class="command">padsp</strong> application.</p>
<p><strong class="command">padsp</strong> redirects OSS applications to the PulseAudio protocol.
The following command line should be used:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>padsp &lt;application&gt;
</pre></div>
</div>
<p>See the <strong class="command">padsp</strong> manual page for more information.</p>
<p>The application which communicates with the sound device must be
dynamically linked to glibc. It is not possible to intercept the
accesses to OSS in a statically linked application. Most applications
that you find on a Linux system will satisfy this requirement, but a
test with <strong class="command">ldd</strong> can also be done:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ldd /usr/bin/someapp
<span class="go">        not a dynamic executable</span>
</pre></div>
</div>
<p>When using <strong class="command">padsp</strong> on 64-bit platforms, make sure that you have
both 32- and 64-bit versions of the necessary libraries
(<code class="file docutils literal notranslate"><span class="pre">libpulsedsp.so</span></code> and <code class="file docutils literal notranslate"><span class="pre">libpulse.so.0</span></code> ). Usually, these are
found in <code class="file docutils literal notranslate"><span class="pre">/usr/lib</span></code> and <code class="file docutils literal notranslate"><span class="pre">/usr/lib64</span></code>. Also, the
<strong class="command">padsp</strong> script must not contain absolute references to these
libraries. Instead, the system should automatically select the correct
library, depending on if you are executing a 32- or 64-bit application.
In this case it’s necessary to have both library directories included in
<code class="file docutils literal notranslate"><span class="pre">/etc/ld.so.conf</span></code>.</p>
<p>Although it is rare, some applications manage to misuse the OSS API in a
way that works with local sound cards but not <strong class="command">padsp</strong> . If you
encounter problems, try updating the application to the latest version
as it might contain fixes for such bugs.</p>
</section>
<section id="alsa-applications">
<h4>ALSA applications<a class="headerlink" href="#alsa-applications" title="Permalink to this headline">¶</a></h4>
<p>All applications that use the Advanced Linux Sound Architecture (ALSA)
will also work well with ThinLinc provided the correct plugins are
installed and configured. The plugins can be found in the alsa-plugins
package (called libasound2-plugins on Debian-based distributions). The
PulseAudio client libraries are also needed to build and use the
plugins.</p>
<p>To redirect ALSA applications to use the plugins, the ALSA
configuration must be modified. This can be done on a global level in
<code class="file docutils literal notranslate"><span class="pre">/etc/asound.conf</span></code> or per user in <code class="file docutils literal notranslate"><span class="pre">~/.asoundrc</span></code>. Add the
following to the file (creating it if necessary):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pcm.!default {
    type pulse
}
ctl.!default {
    type pulse
}
</pre></div>
</div>
<p>Unfortunately, there are some applications that use the ALSA API in an
incorrect way. When using local hardware this usually doesn’t matter,
but when advanced ALSA features, like dmix or this plugin, are used,
then problems start to appear. If an application misbehaves, the first
step should be to upgrade it to the latest version.</p>
</section>
<section id="choosing-sound-system">
<h4>Choosing sound system<a class="headerlink" href="#choosing-sound-system" title="Permalink to this headline">¶</a></h4>
<p>Many applications support several sound systems and it can be difficult
to know which one to use. Applications should be configured in the
following manner, listed from the best solution to the worst:</p>
<ol class="arabic simple">
<li><p>Native PulseAudio application.</p></li>
<li><p>ALSA appliction using the PulseAudio plugin.</p></li>
<li><p>OSS appliction using <strong class="command">padsp</strong>.</p></li>
</ol>
</section>
</section>
<span id="document-redir_scard"></span><section id="using-smart-card-redirection">
<span id="scard-redirection"></span><h3>Using smart card redirection<a class="headerlink" href="#using-smart-card-redirection" title="Permalink to this headline">¶</a></h3>
<section id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>Using ThinLinc, it is possible to access the locally connected smart
cards and smart card readers from the ThinLinc session. This means that
you can use smart cards for encrypting your email, signing documents and
authenticating against remote systems.</p>
</section>
<section id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>The application which communicates with the smart card must be using
the PC/SC API and be dynamically linked to pcsc-lite.</p></li>
</ul>
</section>
<section id="enabling-smart-card-redirection">
<h4>Enabling smart card redirection<a class="headerlink" href="#enabling-smart-card-redirection" title="Permalink to this headline">¶</a></h4>
<p>Smart card redirection is always activated on the server so there is no
administration required to enable it.</p>
</section>
<section id="limitations-and-additional-information">
<h4>Limitations and additional information<a class="headerlink" href="#limitations-and-additional-information" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>When a client disconnects, all smart cards and smart card readers
will disappear for the applications. Some applications do not handle
hot-plug and must therefore be restarted when this happens.</p></li>
</ul>
</section>
</section>
</div>
</section>
<span id="document-configuration"></span><section id="server-configuration">
<span id="configuration"></span><h2>Server configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h2>
<p>This chapter describes how to configure the various features of the
ThinLinc server once it has been installed as described in
<a class="reference internal" href="index.html#install-install"><span class="std std-ref">Installing the ThinLinc server</span></a>.</p>
<div class="toctree-wrapper compound">
<span id="document-config_cluster"></span><section id="cluster-configuration">
<span id="configuration-cluster"></span><h3>Cluster configuration<a class="headerlink" href="#cluster-configuration" title="Permalink to this headline">¶</a></h3>
<p>This chapter details the configuration possibilities of a pre-existing
ThinLinc cluster with multiple agent servers. For information regarding
the initial setup of a ThinLinc cluster, see <a class="reference internal" href="index.html#install-cluster"><span class="std std-ref">Cluster installation</span></a>.</p>
<section id="subclusters">
<span id="configuration-subcluster"></span><h4>Subclusters<a class="headerlink" href="#subclusters" title="Permalink to this headline">¶</a></h4>
<p>A subcluster is a group of agents assigned to a number of individual
users and/or user groups. Each subcluster can serve a specific purpose
within the ThinLinc cluster. The dimension for grouping can be chosen at
will and could for example be; location, project, application etc.</p>
<p>ThinLinc ships with one default subcluster configuration which is used
for creating new sessions by any user.</p>
<p>To associate a user with a subcluster, either use the <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">users</span></code></a> or
<a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">groups</span></code></a> configuration parameter for the specific subcluster. See
<a class="reference internal" href="index.html#configuration-subcluster-params"><span class="std std-ref">Parameters in /vsmserver/subclusters/</span></a> for details on these subcluster
configuration parameters.</p>
<p>If a subcluster does have neither user nor group associations
configured, it is used as a default subcluster. Users that do not
belong to any subcluster, will have their sessions created on the
default subcluster. If a user is not associated with a subcluster and
there is no default subcluster configured, the user will not be able to
log on to the ThinLinc cluster.</p>
<p>Load balancing of new sessions is performed using the list of agents defined
in the <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">agents</span></code></a> parameter within each subcluster. See
<a class="reference internal" href="#limit-number-of-users-per-agent"><span class="std std-ref">Limiting number of users per agent</span></a> for how to limit concurrent users per
agent, which excludes the agent from the load balancer when the limit is
reached. See <a class="reference internal" href="#stop-new-sessions-on-agent"><span class="std std-ref">Stopping new session creation on select agents in a cluster</span></a> for details on preventing new
sessions on some agents.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The subcluster association rules limit the creation of new sessions
and do not apply to already existing sessions. So given a case
where subcluster association was changed after session startup, the
user can reconnect to a session outside their configured
subcluster. However, next time this user creates a session it will be
created on the configured subcluster.</p>
</div>
<p>A subcluster is defined as a folder under the
<a class="reference internal" href="index.html#std-server-config-folder-vsmserver-subclusters"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters</span></code></a> configuration folder in
<code class="file docutils literal notranslate"><span class="pre">vsmserver.hconf</span></code> on the master. The folder name defines a unique
subcluster name.</p>
<p>Here follows an example subcluster configuration for a geographic
location-based grouping of agents:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[/vsmserver/subclusters/Default]</span>
<span class="na">agents</span><span class="o">=</span><span class="s">tla01.eu.cendio.com tla02.eu.cendio.com</span>

<span class="k">[/vsmserver/subclusters/usa]</span>
<span class="na">agents</span><span class="o">=</span><span class="s">tla01.usa.cendio.com tla02.usa.cendio.com</span>
<span class="na">groups</span><span class="o">=</span><span class="s">ThinLinc_USA</span>

<span class="k">[/vsmserver/subclusters/india]</span>
<span class="na">agents</span><span class="o">=</span><span class="s">tal01.india.cendio.com tla02.india.cendio.com</span>
<span class="na">groups</span><span class="o">=</span><span class="s">ThinLinc_India</span>
</pre></div>
</div>
<p>During the selection process for which subcluster a new session is
created on, the following rules apply:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">users</span></code></a> has precedence over <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">groups</span></code></a>. This means that if a user
belongs to a group that is associated with subcluster A and the user
also is specified in <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">users</span></code></a> for subcluster B, the user session will
be created on subcluster B.</p></li>
<li><p><a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">groups</span></code></a> has precedence over the default subcluster. This means that
if a user belongs to a group that is associated with subcluster B,
the user session will be created subcluster B and not on the default
subcluster A.</p></li>
<li><p>If the user does not belong to an associated group nor is explicitly
specified by <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">users</span></code></a> for a subcluster, the new session will be
created on the default subcluster.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Avoid the following configurations that will result in undefined
behaviors for subclusters:</p>
<ol class="arabic simple">
<li><p>Avoid two subclusters without associated <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">users</span></code></a> and <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">groups</span></code></a>,
e.g. default subclusters. It is undefined which of them that will
be the default subcluster used for users that are not associated
to a specific subcluster.</p></li>
<li><p>If a user is a member of two user groups which are used for two
different subclusters, it is undefined which subcluster the new
session will be created on.</p></li>
<li><p>If a user is specified in <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">users</span></code></a> of two different subclusters, it
is undefined which subcluster the new session will be created on.</p></li>
</ol>
</div>
</section>
<section id="keeping-agent-configuration-synchronized-in-a-cluster">
<span id="keeping-agents-synced"></span><h4>Keeping agent configuration synchronized in a cluster<a class="headerlink" href="#keeping-agent-configuration-synchronized-in-a-cluster" title="Permalink to this headline">¶</a></h4>
<p>When multiple agents have been configured as part of a cluster, it is
usually desirable to keep their configurations synchronized. Instead of
making the same change separately on each agent, ThinLinc ships with the
tool <strong class="program">tl-rsync-all</strong> to ensure that configuration changes can be
synchronized easily across all agents in a cluster. See
<a class="reference internal" href="index.html#commands"><span class="std std-ref">Commands on the ThinLinc server</span></a> for more information on how to use this tool.</p>
<p>The <strong class="program">tl-rsync-all</strong> command should be run on the master server,
since it is the master which has the knowledge of which agents are part
of the cluster.</p>
<section id="using-the-master-node-as-a-staging-agent">
<h5>Using the master node as a staging agent<a class="headerlink" href="#using-the-master-node-as-a-staging-agent" title="Permalink to this headline">¶</a></h5>
<p>For the reasons above, it is often useful to configure the master server
as an agent as well. This allows the master to be used as a staging
agent, where configuration changes can be made and tested by an
administrator before pushing them out to the rest of the agents in the
cluster. In this way, configuration changes are never made on the agents
themselves; rather, the changes are always made on the master server,
and then distributed to the agents using <strong class="program">tl-rsync-all</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong class="program">tl-rsync-all</strong> and its sibling <strong class="program">tl-ssh-all</strong> are not
subcluster aware. They will affect all agents within all subclusters.</p>
</div>
<p>An example of how one might implement such a system is to configure the
master server as an agent which only accepts sessions for a single
administrative user:</p>
<ol class="arabic">
<li><p>Configure the master as an agent too. On a ThinLinc master, the
<strong>vsmagent</strong> service should already have been installed during the
ThinLinc installation process; make sure that this service is
running.</p></li>
<li><p>Create an administrative user, for example, <strong>tladmin</strong>. Give this
user administrative privileges if required, i.e. sudo access.</p></li>
<li><p>Create a <a class="reference internal" href="#configuration-subcluster"><span class="std std-ref">subcluster</span></a> for the master
server and associate administrator user <strong>tladmin</strong> to it. See the
following example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[/vsmserver/subclusters/Staging]</span>
<span class="na">agents</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="na">users</span><span class="o">=</span><span class="s">tladmin</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#configuration-subcluster"><span class="std std-ref">Subclusters</span></a> for details on subcluster
configuration.</p>
</li>
<li><p>Restart the <strong>vsmserver</strong> service.</p></li>
</ol>
<p>In this way, configuration changes are never made on the agents
themselves; rather, the changes are always made on the master server,
and then tested by logging in as the <strong>tladmin</strong> user. If successful,
these changes are then distributed to the agents using
<strong class="program">tl-rsync-all</strong>.</p>
</section>
</section>
<section id="limiting-number-of-users-per-agent">
<span id="limit-number-of-users-per-agent"></span><h4>Limiting number of users per agent<a class="headerlink" href="#limiting-number-of-users-per-agent" title="Permalink to this headline">¶</a></h4>
<p>In certain use cases, it may be desirable to limit the number of users that
can be active on one agent at a time. The max_users_per_agent parameter
provides this functionality, ensuring that the agent will no longer be
considered by the load balancer for new user sessions if the limit is
reached. Please see
<a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-max_users_per_agent"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/max_users_per_agent</span></code></a> for more
details. Once the limit has been reached on all agents new users are denied
from starting new sessions, with a message that there are no available
agents. Because of this, one might also want to consider
<a class="reference internal" href="index.html#configuration-limiting-lifetime"><span class="std std-ref">Limiting lifetime of ThinLinc sessions</span></a>.</p>
<p>This configuration could, for example, be relevant in scenarios where GPU
access needs to be restricted, since some applications expect full access to
the GPU, and as a result, are not designed to handle memory allocation
failures.</p>
</section>
<section id="stopping-new-session-creation-on-select-agents-in-a-cluster">
<span id="stop-new-sessions-on-agent"></span><h4>Stopping new session creation on select agents in a cluster<a class="headerlink" href="#stopping-new-session-creation-on-select-agents-in-a-cluster" title="Permalink to this headline">¶</a></h4>
<p>When, for example, a maintenance window is scheduled for some agents
servers, it is sometimes desirable that no new sessions are started on
that part of the cluster. It is possible to prevent new sessions from
being started without affecting running sessions.</p>
<p>To stop new session creation on specific agents, those agents need to be
removed from the <a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">agents</span></code></a> configuration variable in the associated
subcluster. Once the <strong>vsmserver</strong> service is restarted on the master
server, new user sessions will not be created on the removed agents.
Users with existing sessions can continue working normally, and users
with disconnected sessions will still be able to reconnect.</p>
</section>
</section>
<span id="document-config_logging"></span><section id="configuring-logging-on-thinlinc-servers">
<h3>Configuring logging on ThinLinc servers<a class="headerlink" href="#configuring-logging-on-thinlinc-servers" title="Permalink to this headline">¶</a></h3>
<p>In this section we will describe how ThinLinc logs activities on the
server, and how the logging can be configured.</p>
<p>Logs are written by each individual session and by the following
ThinLinc server components.</p>
<ul class="simple">
<li><p>VSM server</p></li>
<li><p>VSM agent</p></li>
<li><p>Web Integration</p></li>
<li><p>Web Administration Interface</p></li>
<li><p>Web Access (HTML5 client)</p></li>
</ul>
<section id="thinlinc-server-components">
<h4>ThinLinc server components<a class="headerlink" href="#thinlinc-server-components" title="Permalink to this headline">¶</a></h4>
<p>Logging is configured by editing parameters in Hiveconf. Each component
that uses the logging system has a Hiveconf folder named <code class="docutils literal notranslate"><span class="pre">logging</span></code>.
In this folder and its subfolder, the logging system is configured.</p>
<section id="log-destinations">
<h5>Log destinations<a class="headerlink" href="#log-destinations" title="Permalink to this headline">¶</a></h5>
<p>Logs can be written to a file on disk, to syslog, or both.</p>
<section id="writing-logs-to-file">
<h6>Writing logs to file<a class="headerlink" href="#writing-logs-to-file" title="Permalink to this headline">¶</a></h6>
<p>The file name for the log file written to local disk is configured by
editing the parameter <code class="docutils literal notranslate"><span class="pre">logfile</span></code> under the <code class="docutils literal notranslate"><span class="pre">logging</span></code> folder. To turn
off logging to file, set the parameter <code class="docutils literal notranslate"><span class="pre">log_to_file</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code>. Note
that the log file will still be created. If abnormal situations occur
because of programming errors, data may appear in the file.</p>
</section>
<section id="writing-logs-to-syslog">
<h6>Writing logs to syslog<a class="headerlink" href="#writing-logs-to-syslog" title="Permalink to this headline">¶</a></h6>
<p>For large installations, using a central log host might be very
convenient. ThinLinc supports writing logs to syslog, which makes it
possible to collect all logs in one place.</p>
<p>By setting the parameter <code class="docutils literal notranslate"><span class="pre">log_to_syslog</span></code> under the <code class="docutils literal notranslate"><span class="pre">logging</span></code> folder
to <code class="docutils literal notranslate"><span class="pre">1</span></code>, logs will be written to syslog. Specify the syslog facility in
the parameter <code class="docutils literal notranslate"><span class="pre">syslog_facility</span></code>. The default behavior is not to log to
syslog.</p>
<p>If the parameter <code class="docutils literal notranslate"><span class="pre">syslog_host</span></code> is set, logs will be sent via UDP to
the syslog daemon on the host specified. If not, logs will be sent to
syslog by writing to the socket specified in <code class="docutils literal notranslate"><span class="pre">syslog_socket</span></code>. The
latter is the default.</p>
</section>
</section>
<section id="sub-loggers">
<h5>Sub-loggers<a class="headerlink" href="#sub-loggers" title="Permalink to this headline">¶</a></h5>
<p>Each program doing logging uses a number of sub-loggers. Sub-loggers are
a way to distinguish different types of information written by the
program. For example, the VSM server uses the sub-loggers <code class="docutils literal notranslate"><span class="pre">license</span></code>,
<code class="docutils literal notranslate"><span class="pre">session</span></code> and <code class="docutils literal notranslate"><span class="pre">shadow</span></code> for logging license-related messages,
information about sessions and information about shadowing respectively.
Every sub-logger can be configured to use a different log level. This
allows the system administrator to, for example, increase the
information about new sessions without increasing the overall log level,
easing debugging of specific problems.</p>
</section>
<section id="log-levels">
<h5>Log levels<a class="headerlink" href="#log-levels" title="Permalink to this headline">¶</a></h5>
<p>The amount of logging can be configured using log levels. The log levels
available are:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-number">Table 1 </span><span class="caption-text">Log levels</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Log Level</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERROR</span></code></p></td>
<td><p>Unrecoverable Errors</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WARNING</span></code></p></td>
<td><p>Warnings — something went wrong, but ThinLinc can
recover.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INFO</span></code></p></td>
<td><p>Messages that are useful in daily maintenance.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code></p></td>
<td><p>Messages that can be of use for system administrators
when debugging problems.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DEBUG2</span></code></p></td>
<td><p>Messages useful to trained ThinLinc personnel when
doing advanced debugging.</p></td>
</tr>
</tbody>
</table>
<p>The log level configured can be seen as a barrier. If the log level is
set to for example <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, log messages with a level of <code class="docutils literal notranslate"><span class="pre">INFO</span></code> or
higher are let through. If the log level instead is set to <code class="docutils literal notranslate"><span class="pre">DEBUG2</span></code>,
all log messages are let through, since all log levels are higher than
<code class="docutils literal notranslate"><span class="pre">DEBUG2</span></code>.</p>
<p>There is one default log level, and one log level per sub-logger defined.
If the log level for a sub-logger is set to a lower value than the
default log level, more information will be written by that specific
sub-logger.</p>
<p>The default log level is configured in the <code class="docutils literal notranslate"><span class="pre">logging/defaultlevel</span></code>
parameter. Each sub-logger’s level can then be configured by setting the
parameters under the <code class="docutils literal notranslate"><span class="pre">logging/levels</span></code> folder.</p>
</section>
<section id="summary">
<h5>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h5>
<p>The default logging configuration is summarized in
<a class="reference internal" href="#configuration-logsummary"><span class="std std-ref">Default log behavior</span></a>.</p>
<span id="configuration-logsummary"></span><table class="docutils align-default" id="id2">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">Default log behavior</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 24%" />
<col style="width: 39%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Default Behavior</p></th>
<th class="head"><p>Log Configuration
Hive Folder</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VSM server</p></td>
<td><p>Log to
/var/log/vsmserver.log</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/vsmserver/logging</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>VSM agent</p></td>
<td><p>Log to
/var/log/vsmagent.log</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/vsmagent/logging</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Web
Administration
Interface</p></td>
<td><p>Log to
/var/log/tlwebadm.log</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tlwebadm/logging</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Web Access
(HTML5 client)</p></td>
<td><p>Log to
/var/log/tlwebaccess.log</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/webaccess/logging</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="per-session-logging">
<h4>Per-session logging<a class="headerlink" href="#per-session-logging" title="Permalink to this headline">¶</a></h4>
<p>Each session writes what is written to standard output and standard
error output to a file named <code class="file docutils literal notranslate"><span class="pre">xinit.log</span></code> which is located in the
session directory for a specific session. For example, the log for the
last session of the user <em>johndoe</em> is located in
<code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions/</span><em><span class="pre">johndoe</span></em><span class="pre">/last/</span></code>. This log contains
for example output written by software run in the session, but it also
has some output from ThinLinc software that is run by the user.</p>
</section>
</section>
<span id="document-config_session"></span><section id="customizing-the-user-s-session">
<span id="configuration-customizing-user-session"></span><h3>Customizing the user’s session<a class="headerlink" href="#customizing-the-user-s-session" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe how the session startup in ThinLinc
can be customized.</p>
<section id="session-startup-the-big-picture">
<span id="configuration-session-startup-bigpicture"></span><h4>Session startup — the big picture<a class="headerlink" href="#session-startup-the-big-picture" title="Permalink to this headline">¶</a></h4>
<p>The session setup is constructed to be easy to use and configure yet
still easy to customize for advanced use cases.</p>
<figure class="align-default" id="id1">
<span id="configuration-vsm-server-session-setup"></span><img alt="_images/vsm-server-session-startup.svg" src="_images/vsm-server-session-startup.svg" /><figcaption>
<p><span class="caption-number">Fig. 23 </span><span class="caption-text">Session startup procedure — on VSM Server</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#configuration-vsm-server-session-setup"><span class="std std-numref">Fig. 23</span></a>, shows a
(simplified) description of what happens on the VSM Server when a client
connects to log in:</p>
<ul class="simple">
<li><p>The VSM Server checks if the user has an existing session.</p></li>
<li><p>If a session exists, VSM Server contacts the VSM Agent running on the
host where the session is running, and asks it to verify that the
session is still alive.</p></li>
<li><p>If the session was alive, VSM Server runs any scripts placed in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/sessionreconnect.d</span></code>. When all such scripts
are completed, session information is returned to the client. The
client proceeds by contacting the agent on which the session is
running.</p></li>
<li><p>If the existing session was not alive, or if there were no existing
sessions at all, VSM Server finds out which VSM Agent has the least
load, and contacts this agent to request a new session.</p></li>
<li><p>When the agent responds that a new session has been created, VSM
Server runs any scripts placed in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/sessionstartup.d</span></code>. When all such scripts are
completed, session information is sent back to the client. The client
proceeds by contacting the agent on which the session was started.</p></li>
</ul>
<section id="scripts-run-at-session-startup-reconnect">
<span id="configuration-scripts-startup-reconnect"></span><h5>Scripts run at session startup/reconnect<a class="headerlink" href="#scripts-run-at-session-startup-reconnect" title="Permalink to this headline">¶</a></h5>
<p>Scripts in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/sessionstartup.d</span></code> and
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/sessionreconnect.d</span></code> are run by the root user,
on the VSM Server. Session information will not be sent back to the
client until these scripts have completed. This makes it possible to
ensure that commands have been run before the client connects to the VSM
Agent.</p>
<p>If background execution is desired, place the command to be run in the
background and make sure all file descriptors are closed. Here’s an
example on how to execute a script in the background.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/opt/thinlinc/sbin/tl-limit-printers &lt; /dev/null &gt; /dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">&amp;</span>
</pre></div>
</div>
</section>
</section>
<section id="session-startup-on-vsm-agent">
<span id="configuration-session-startup-vsmagent"></span><h4>Session startup on VSM Agent<a class="headerlink" href="#session-startup-on-vsm-agent" title="Permalink to this headline">¶</a></h4>
<figure class="align-default" id="id2">
<span id="configuration-session-startup-vsmagent-figure"></span><img alt="_images/session-startup.svg" src="_images/session-startup.svg" /><figcaption>
<p><span class="caption-number">Fig. 24 </span><span class="caption-text">Session startup procedure — on VSM Agent</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#configuration-session-startup-vsmagent-figure"><span class="std std-numref">Fig. 24</span></a> outlines what
happens when an VSM Agent is contacted by VSM Server to request a new
session. In detail, the following happens:</p>
<ol class="arabic simple">
<li><p>The VSM agent on the machine where the session will reside executes
the script <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xsession</span></code>.</p></li>
<li><p>The file <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xsession</span></code> is a shell script that
can be customized by advanced users. In its standard version, as
delivered with ThinLinc, it will check if there is a file named
<code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/xstartup</span></code> in the user’s home directory. If there
is such a file, it will be executed. If no such file exists, the file
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.default</span></code> is executed instead. See
<a class="reference internal" href="#configuration-profiles-xstartup"><span class="std std-ref">Profiles and the standard xstartup.default file</span></a> for a description of the
standard behavior of this file.</p></li>
</ol>
<p>This system allows for experienced users to customize how their session
startup should work by editing the file <code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/xstartup</span></code>. On
the other hand, at sites where users should not be able to customize
their system startup, <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xsession</span></code> can be modified
so that it doesn’t try to execute user-specific xstartup-files. The
standard setup should however suit the needs of the majority of
installations.</p>
</section>
<section id="profiles-and-the-standard-xstartup-default-file">
<span id="configuration-profiles-xstartup"></span><h4>Profiles and the standard xstartup.default file<a class="headerlink" href="#profiles-and-the-standard-xstartup-default-file" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc allows for different “profiles” when starting up a user
session. The users will be presented with a menu after logging in, where
they can choose for example between a desktop suited for engineering
users, a desktop suited for the marketing department or a Windows
desktop. The example configuration files that are delivered with
ThinLinc have several different alternatives, however only those
sessions that are actually available on the system are displayed. This
is just an example configuration, meant to be customized for each
individual ThinLinc installation.</p>
<figure class="align-default" id="id3">
<span id="configuration-profile-setup-figure"></span><img alt="_images/profiles-xstartup.svg" src="_images/profiles-xstartup.svg" /><figcaption>
<p><span class="caption-number">Fig. 25 </span><span class="caption-text">The ThinLinc profiles and xstartup.default</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>As described in <a class="reference internal" href="#configuration-session-startup-bigpicture"><span class="std std-ref">Session startup — the big picture</span></a>,
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.default</span></code> is executed if there is no
<code class="file docutils literal notranslate"><span class="pre">~/.thinlinc/xstartup</span></code> for the user. This file, in its unmodified
version as delivered with ThinLinc, executes three steps, as outlined in
<a class="reference internal" href="#configuration-profile-setup-figure"><span class="std std-numref">Fig. 25</span></a>.</p>
<ol class="arabic">
<li><p>All files in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d/</span></code> are executed.
Files that have filenames ending with <code class="file docutils literal notranslate"><span class="pre">.sh</span></code> will be <strong>sourced</strong>
as shell scripts. Other files are executed normally. This way,
environment variables that persist down to the session command can be
set in <code class="file docutils literal notranslate"><span class="pre">*.sh</span></code> files.</p>
<p>If a specific execution order is needed for the scripts in the
<code class="file docutils literal notranslate"><span class="pre">xstartup.d/</span></code> directory, let the names of the scripts begin
with numbers, where a script with a lower number will be executed
before one with a higher number. For example <code class="file docutils literal notranslate"><span class="pre">10setuphomedir</span></code>
will be executed before <code class="file docutils literal notranslate"><span class="pre">20copyfiles</span></code>.</p>
<p>By default, the script
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d/20-tl-select-profile.sh</span></code> will let
the user choose among the possible profiles. See
<a class="reference internal" href="#configuration-config-profiles"><span class="std std-ref">Configuring available profiles</span></a> for documentation on how to set
up profiles. If only one profile is available, it will be selected
without asking the user. The environment variable
<span class="sig sig-inline environ">TLPROFILE</span> is set to the name of the selected profile.</p>
<p>Worth noting is that the environment variable <span class="sig sig-inline environ">TLPROFILE</span> is
available when running the scripts in <code class="file docutils literal notranslate"><span class="pre">xstartup.d</span></code>, for
decisions based on what profile will be run.</p>
</li>
<li><p>The command <strong class="program">tl-run-profile</strong> is run. This runs the commands
associated with the selected profile, for example <strong class="command">startkde</strong>
to start a KDE session.</p></li>
<li><p>When the commands run by <strong class="program">tl-run-profile</strong> exits,
<code class="file docutils literal notranslate"><span class="pre">xstartup.default</span></code> runs scripts and commands located in the
directory <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xlogout.d</span></code>. The same information
that applies to files in <code class="file docutils literal notranslate"><span class="pre">xstartup.d</span></code> (as documented in
step 1. above) applies to files in this directory.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Scripts in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d</span></code> and
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xlogout.d</span></code> are run <strong>on the agent</strong>, with
the same rights as the user owning the session.</p>
</div>
</section>
<section id="session-startup-with-a-client-supplied-start-program">
<span id="configuration-start-program"></span><h4>Session startup with a client supplied start program<a class="headerlink" href="#session-startup-with-a-client-supplied-start-program" title="Permalink to this headline">¶</a></h4>
<p>If the client has requested that the session should be started with a
command supplied by the client, VSM agent will set the environment
variable <span class="sig sig-inline environ">TLCOMMAND</span> to this command. In this case, the profile
selection dialog will be disabled and <strong class="program">tl-run-profile</strong> will
execute the command specified by the client, instead of a profile
command. To disable client supplied start programs, create the file
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d/00-no-startprog.sh</span></code>, containing:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">unset</span> TLCOMMAND
</pre></div>
</div>
</section>
<section id="configuring-available-profiles">
<span id="configuration-config-profiles"></span><h4>Configuring available profiles<a class="headerlink" href="#configuring-available-profiles" title="Permalink to this headline">¶</a></h4>
<p>The available profiles are configured via Hiveconf, under the
<a class="reference internal" href="index.html#std-server-config-folder-profiles"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/profiles</span></code></a> path. The default configuration includes a number
of examples.</p>
<p>If the <a class="reference internal" href="index.html#server-config-profiles-default"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">default</span></code></a> parameter is present, it specifies the default profile.
The profile chooser will have this entry selected when it starts, and it
may also be used automatically for some error conditions.</p>
<p>The <a class="reference internal" href="index.html#server-config-profiles-order"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">order</span></code></a> parameter selects which profiles should be available for
selection, and the order in which they are displayed. This is a
space-separated list.</p>
<p>If the <a class="reference internal" href="index.html#server-config-profiles-show_intro"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">show_intro</span></code></a> parameter is true, a configurable introduction text
will be displayed and requires user input to proceed with the logon
process. The <a class="reference internal" href="index.html#server-config-profiles-introduction"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">introduction</span></code></a> parameter is a text that will be displayed
if introduction is shown. This text block also supports <a class="reference external" href="https://docs.gtk.org/Pango/pango_markup.html#pango-markup">Pango Markup</a>
format styling for a fancier text layout.</p>
<p>Each profile is defined under a section named
<a class="reference internal" href="index.html#std-server-config-folder-profiles-profile-key"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;</span></code></a>. For most desktop environments
only the <a class="reference internal" href="index.html#server-config-profiles-profile-key-xdg_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">xdg_session</span></code></a> parameter needs to be configured. For custom
profiles more values need to be specified, mainly <a class="reference internal" href="index.html#server-config-profiles-profile-key-cmdline"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">cmdline</span></code></a>. Please see
<a class="reference internal" href="index.html#configuration-profiles"><span class="std std-ref">Parameters in /profiles/</span></a> for more details on the available options.</p>
</section>
<section id="configuring-different-linux-desktops-based-on-the-selected-profile">
<h4>Configuring different Linux desktops based on the selected profile<a class="headerlink" href="#configuring-different-linux-desktops-based-on-the-selected-profile" title="Permalink to this headline">¶</a></h4>
<p>Please read <a class="reference internal" href="index.html#tldc"><span class="std std-ref">Building custom Linux desktops with the ThinLinc desktop customizer</span></a> for documentation on how to configure different
desktops with for example different menu and desktop icons depending on
what profile is selected.</p>
</section>
<section id="speeding-up-session-startup">
<h4>Speeding up session startup<a class="headerlink" href="#speeding-up-session-startup" title="Permalink to this headline">¶</a></h4>
<p>If a user has a complicated session startup with many time-consuming
operations, it can take quite a while before the user’s desktop
environment (for example KDE or Gnome) begins to start. One example of
when this happens is when mounting local drives.</p>
<p>One way of speeding up this process is to execute some of the operations
in the background. Most often, there is no need to mount the local
drives before starting KDE because it takes longer time to start KDE
than it takes to mount the local drives. The two operations can easily
run in parallel. The same goes for the example of mounting shared
directories.</p>
<p>The easiest way to accomplish this is to add an &amp; sign after commands
run by scripts in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d</span></code>.</p>
<p>Make sure that commands that must be run before starting the window
environment are run sequentially. For example, configuring desktops via
TLDC must be done before starting KDE.</p>
</section>
<section id="configuring-the-language-environment-on-the-server-based-on-the-client-language">
<h4>Configuring the language environment on the server based on the client language<a class="headerlink" href="#configuring-the-language-environment-on-the-server-based-on-the-client-language" title="Permalink to this headline">¶</a></h4>
<p>The ThinLinc client reports the language settings on the client side
when requesting a session. This can be used to configure the language on
the server side. The idea is that in an environment where several
languages are in use, a user could automatically get their preferred
language based on what their client computer is configured for.</p>
<p>To activate this, a symlink needs to be created:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /opt/thinlinc/libexec/tl-set-clientlang.sh <span class="se">\</span>
   /opt/thinlinc/etc/xstartup.d/00-tl-set-clientlang.sh
</pre></div>
</div>
<p>Also, make sure no other parts of the startup environment are trying to
set the <span class="sig sig-inline environ">LANG</span> variable. For example, on Fedora, the files
<code class="file docutils literal notranslate"><span class="pre">/etc/profile.d/lang.sh</span></code> and <code class="file docutils literal notranslate"><span class="pre">/etc/profile/lang.csh</span></code> will
override the <span class="sig sig-inline environ">LANG</span> variable set by
<code class="file docutils literal notranslate"><span class="pre">tl-set-clientlang.sh</span></code>.</p>
</section>
</section>
<span id="document-config_lifetime"></span><section id="limiting-lifetime-of-thinlinc-sessions">
<span id="configuration-limiting-lifetime"></span><h3>Limiting lifetime of ThinLinc sessions<a class="headerlink" href="#limiting-lifetime-of-thinlinc-sessions" title="Permalink to this headline">¶</a></h3>
<p>The Xserver has three options which control the maximum lifetime of
ThinLinc sessions. These are described below, and can be added to the
parameter <a class="reference internal" href="index.html#server-config-vsmagent-xserver_args"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/xserver_args</span></code></a>.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-MaxDisconnectionTime">
<span id="cmdoption-maxdisconnectiontime"></span><span class="sig-name descname"><span class="pre">-MaxDisconnectionTime</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;s&gt;</span></span><a class="headerlink" href="#cmdoption-MaxDisconnectionTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate when no client has been connected for <em>s</em> seconds. Note:
Never use a value smaller than 60.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-MaxConnectionTime">
<span id="cmdoption-maxconnectiontime"></span><span class="sig-name descname"><span class="pre">-MaxConnectionTime</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;s&gt;</span></span><a class="headerlink" href="#cmdoption-MaxConnectionTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate when a client has been connected for <em>s</em> seconds</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-MaxIdleTime">
<span id="cmdoption-maxidletime"></span><span class="sig-name descname"><span class="pre">-MaxIdleTime</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;s&gt;</span></span><a class="headerlink" href="#cmdoption-MaxIdleTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate after <em>s</em> seconds of user inactivity. Note: Never use a
value smaller than 60.</p>
</dd></dl>

<p>In addition to the options above which control the lifetime of the
ThinLinc session, the option <code class="docutils literal notranslate"><span class="pre">-IdleTimeout</span></code> can be used to
configure how long an idle session should remain connected. The
<code class="docutils literal notranslate"><span class="pre">-IdleTimeout</span></code> option takes a number of seconds as an argument,
and can be added to the parameter <a class="reference internal" href="index.html#server-config-vsmagent-xserver_args"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/xserver_args</span></code></a> as
per the options described above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">-IdleTimeout</span> <span class="pre">s</span></code> will simply disconnect the client
from the session after s seconds; it will not terminate the ThinLinc
session itself.</p>
</div>
</section>
<span id="document-config_hsts"></span><section id="configuring-hsts-headers">
<span id="configuring-hsts-header"></span><h3>Configuring HSTS headers<a class="headerlink" href="#configuring-hsts-headers" title="Permalink to this headline">¶</a></h3>
<p>HTTP Strict Transport Security (HSTS) is a security mechanism that
forces users to connect to a website over a secure HTTPS connection
instead of insecure HTTP. This is done by the server sending an HTTP
header, Strict-Transport-Security (RFC 6797). This header informs the
browser that a site should only be accessed using HTTPS, and that any
future attempts to access the site using HTTP will automatically be
converted to HTTPS. By preventing data from being transmitted
unprotected, this header can help protect websites and users from
certain types of attacks, such as man-in-the-middle attacks.</p>
<section id="warnings-and-limitations">
<h4>Warnings and limitations<a class="headerlink" href="#warnings-and-limitations" title="Permalink to this headline">¶</a></h4>
<p>Important: Do not modify the HSTS settings unless you fully understand
the potential risks, as these settings should be regarded as permanent.
Incorrect configuration can lead to unintended consequences, including
blocking access to other services on your domain. Below are some key
warnings and limitations to consider before enabling HSTS:</p>
<ul class="simple">
<li><p>If HSTS is enabled, the browser enforces HTTPS strictly for the entire
domain, converting all HTTP requests to HTTPS. This setting does not
only affect ThinLinc. This causes issues if some resources are not
accessible over HTTPS.</p></li>
<li><p>A service may not have a valid, trusted SSL/TLS certificate and might
instead use a self-signed certificate. If HSTS is enabled, browsers
will block access to such services.</p></li>
<li><p>If HSTS is configured to also include subdomains, all subdomains must
also use HTTPS and have valid certificates. It is safer to enable HSTS
on subdomains separately, since it reduces the risk of blocking access
to any subdomains not fully supporting HTTPS.</p></li>
</ul>
</section>
<section id="overview">
<h4>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h4>
<p>The HSTS configuration has three options which control details on how it
works. These options, which can be added to the
<a class="reference internal" href="index.html#std-server-config-folder-tlwebadm-hsts"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/tlwebadm/hsts</span></code></a> or <a class="reference internal" href="index.html#std-server-config-folder-webaccess-hsts"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/hsts</span></code></a> parameters,
are explained more in detail in subsequent sections and in
<a class="reference internal" href="index.html#configuration-tlwebadm"><span class="std std-ref">Parameters in /tlwebadm/</span></a> and <a class="reference internal" href="index.html#configuration-tlwebaccess"><span class="std std-ref">Parameters in /webaccess/</span></a>.</p>
</section>
<section id="enable-hsts-headers">
<h4>Enable HSTS headers<a class="headerlink" href="#enable-hsts-headers" title="Permalink to this headline">¶</a></h4>
<p>After being turned on, the HSTS policy is enabled for the domain after
the first visit to ThinLinc Web Access or Web Administration. This means
the browser starts using the policy from the second visit for a set
duration time. As long as the domain is revisited continuously, it will
keep enforcing the usage of HTTPS. When first enabling, it is
recommended to choose “testing”, please see
<a class="reference internal" href="index.html#configuration-tlwebadm"><span class="std std-ref">Parameters in /tlwebadm/</span></a> or <a class="reference internal" href="index.html#configuration-tlwebaccess"><span class="std std-ref">Parameters in /webaccess/</span></a>.
Remember to restart the service after changing the configuration.</p>
</section>
<section id="include-subdomains-in-the-hsts-policy">
<h4>Include subdomains in the HSTS policy<a class="headerlink" href="#include-subdomains-in-the-hsts-policy" title="Permalink to this headline">¶</a></h4>
<p>When including subdomains in the HSTS policy, the browser will also
enforce HTTPS usage for the subdomains of the ThinLinc host. Note the
warnings above. The parameters are explained more in detail in
<a class="reference internal" href="index.html#server-config-tlwebadm-hsts-subdomains_included"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/tlwebadm/hsts/subdomains_included</span></code></a> and
<a class="reference internal" href="index.html#server-config-webaccess-hsts-subdomains_included"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/hsts/subdomains_included</span></code></a>.</p>
</section>
<section id="allow-browser-hsts-preloading">
<h4>Allow browser HSTS preloading<a class="headerlink" href="#allow-browser-hsts-preloading" title="Permalink to this headline">¶</a></h4>
<p>Major browsers have a preload list of domains with the HSTS policy
enabled, which for many is based on Chromium’s list. A request can be
made to be added to Chromium’s preload list, when all requirements are
met. The reason for preloading is to enable the HSTS policy at the first
visit to the domain or subdomain. The results should be considered
permanent once enabled and are difficult to reverse.</p>
<p>ThinLinc has options for this, which indicates, when enabled, that the
intention is to add the domain, and subdomains, to the browsers’ lists.
The parameters are explained more in detail in
<a class="reference internal" href="index.html#server-config-tlwebadm-hsts-allow_browser_preload"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/tlwebadm/hsts/allow_browser_preload</span></code></a> and
<a class="reference internal" href="index.html#server-config-webaccess-hsts-allow_browser_preload"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/hsts/allow_browser_preload</span></code></a>.</p>
</section>
</section>
</div>
</section>
<span id="document-install_upgrade"></span><section id="upgrading-thinlinc">
<span id="install-upgrade"></span><h2>Upgrading ThinLinc<a class="headerlink" href="#upgrading-thinlinc" title="Permalink to this headline">¶</a></h2>
<p>This chapter will detail the process of upgrading ThinLinc servers and
clusters. There are several important items that have to be considered
regarding ThinLinc upgrades:</p>
<ul class="simple">
<li><p>It is required that all servers (including HA nodes) in a cluster are
running the same ThinLinc version.</p></li>
<li><p>All ThinLinc services will automatically be stopped during the entire
upgrade. They will be started again once ThinLinc setup finishes.</p></li>
<li><p>Users will not be able to reconnect to running sessions when the
master service is stopped or when the agent service is stopped on the
agent server running the session.</p></li>
<li><p>Users will not be able to create new sessions when the master service
is stopped or when no agent servers are available.</p></li>
<li><p>Running sessions will be unaffected by a upgrade. This means that
users can continue working. This also means that running sessions
will not be getting the benefits from the new version.</p></li>
</ul>
<section id="upgrading-a-cluster">
<span id="upgrade-cluster"></span><h3>Upgrading a cluster<a class="headerlink" href="#upgrading-a-cluster" title="Permalink to this headline">¶</a></h3>
<p>The recommended workflow for upgrading a ThinLinc cluster is as follows:</p>
<ol class="arabic simple">
<li><p>Review configuration changes in the release notes for the new
release. More information regarding configuration migration can be
found in <a class="reference internal" href="#upgrade-migration"><span class="std std-ref">Configuration migration</span></a>.</p></li>
<li><p>Check licenses and install new ones if needed. For details see
<a class="reference internal" href="#upgrade-licenses"><span class="std std-ref">New licenses</span></a>.</p></li>
<li><p>Schedule the upgrade and if necessary prepare the users on that
reconnections or creation will be unavailable during the upgrade
process. The command <strong class="program">tl-notify</strong> can be used to send
messages to users in running sessions. Documentation for this command
can be found in <a class="reference internal" href="index.html#commands"><span class="std std-ref">Commands on the ThinLinc server</span></a>.</p></li>
<li><p>Stop the agent services on all agent servers. The command
<strong class="program">tl-ssh-all</strong> can be used to run commands on all agent
servers in the cluster. Documentation for this command can be found
in <a class="reference internal" href="index.html#commands"><span class="std std-ref">Commands on the ThinLinc server</span></a>. This step will prevent reconnections and the
creation of new sessions.</p></li>
<li><p>Remove all agent servers from the cluster by clearing the
configuration parameter
<a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/agents</span></code></a> on the master.
Details on this parameter can be found in
<a class="reference internal" href="index.html#configuration-subcluster-params"><span class="std std-ref">Parameters in /vsmserver/subclusters/</span></a>. Restart the master service to
take the change into effect. If HA is used, do this on both master
servers.</p></li>
<li><p>Upgrade the master server. Details for installing an upgrade can be
found in <a class="reference internal" href="#upgrade-packages"><span class="std std-ref">Upgrading the package</span></a> and <a class="reference internal" href="#upgrade-migration"><span class="std std-ref">Configuration migration</span></a>. If HA
is used, stop the master service on both master servers and then
upgrade both servers.</p></li>
<li><p>Upgrade each agent server and manually add them back into the
upgraded cluster. Upgrading agents works the same way as upgrading a
master server. Add each upgraded agent to the configuration parameter
<a class="reference internal" href="index.html#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/agents</span></code></a> on the master.
Restart the master service afterward. If HA is used, do this on both
master servers. Once at least one agent is added users will again be
able to create new sessions.</p></li>
</ol>
<p>Once all agent servers are upgraded and added back into the cluster all
users will be able to reconnect to existing sessions and the upgrade is
complete.</p>
</section>
<section id="new-licenses">
<span id="upgrade-licenses"></span><h3>New licenses<a class="headerlink" href="#new-licenses" title="Permalink to this headline">¶</a></h3>
<p>Before performing an upgrade the first step is to find out if new
license files are required to run the new version. ThinLinc license
files delivered with version <strong>x.y.z</strong> will still work for versions with
the same <strong>x</strong> and <strong>y</strong> but higher <strong>z</strong>, but not for increased
<strong>x</strong> or <strong>y</strong>. For example, license files for ThinLinc 3.1.0 will still
work for ThinLinc 3.1.1, but not for ThinLinc 3.2.0 or ThinLinc 4.0.0.</p>
<p>As the new licenses will work with the old (current) version, it’s a
good idea to install them as the first step in the upgrade process.</p>
</section>
<section id="upgrading-the-package">
<span id="upgrade-packages"></span><h3>Upgrading the package<a class="headerlink" href="#upgrading-the-package" title="Permalink to this headline">¶</a></h3>
<p>The same installation program that you used to install ThinLinc is also
used to upgrade it. It is located in the root directory of the server
bundle. Extract the bundle and start the installation program as
follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sh ./install-server
</pre></div>
</div>
<p>and answer the questions. If you prefer, you can also upgrade the
ThinLinc package by hand. This package is located in the subdirectory
<code class="file docutils literal notranslate"><span class="pre">packages</span></code> in the server bundle.</p>
<p>If <strong class="program">install-server</strong> was used, it will ask if ThinLinc setup
should be started at the end of the package upgrade. If ThinLinc setup
wasn’t started automatically, it should be started manually after the
package upgrade by running <strong class="program">/opt/thinlinc/sbin/tl-setup</strong>.</p>
</section>
<section id="configuration-migration">
<span id="upgrade-migration"></span><h3>Configuration migration<a class="headerlink" href="#configuration-migration" title="Permalink to this headline">¶</a></h3>
<p>Once the package has been upgraded, a decision will sometimes be
required regarding how to migrate the configuration. When a conflict
between the saved configuration and the configuration in the new release
arises, a choice has to be made.</p>
<p>ThinLinc setup will present choices regarding migration of Hiveconf
files. Conflicting files that aren’t Hiveconf files are not affected by
ThinLinc setup. In these cases the package upgrade will have kept your
configuration in place and saved the new default values from the new
ThinLinc version as <code class="file docutils literal notranslate"><span class="pre">.rpmnew</span></code> or <code class="file docutils literal notranslate"><span class="pre">.dpkg-dist</span></code> versions of
the conflicting files. Potential migration of non-Hiveconf files has to
be done manually.</p>
<p>The three options that are presented in ThinLinc setup are as follows:</p>
<ul>
<li><p>Use the new Hiveconf files and migrate the parameters and values from
the old files.</p>
<p>With this option, all configuration changes done in the earlier
version are preserved. The configuration will be based on the new
files. Values of parameters that have been moved or renamed in the
new release will be migrated to the new parameters. Parameters that
have been removed will be deleted. Comments will not be migrated. The
file structure and file names may also be different. All parameters
and values from the listed Hiveconf files are copied over. This means
that unchanged parameters in these files will use the default values
from the earlier release.</p>
<p>Note that a certain parameter will be defined if it is defined either
in the new or old Hiveconf files. This means that if you have removed
some parameters, for example one of the example profiles, those
parameters will again exist after the migration. For profiles,
however, this will not affect the user session, since profiles are
only visible if they are also listed in the “order” parameter.</p>
<p>Parameters will be removed from the new Hiveconf files if they are
defined elsewhere. For example,
if <a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a> has been moved from
<code class="file docutils literal notranslate"><span class="pre">vsmagent.hconf</span></code> to <code class="file docutils literal notranslate"><span class="pre">local.hconf</span></code>, this change
will be preserved.</p>
</li>
<li><p>Use all old Hiveconf files.</p>
<p>With this option, all the old files are used. Custom comments and the
file structure are preserved, but no new parameters or comments from
the new release are introduced. Please note that configuration files
which are identical in the old and new release are not listed or
processed. This means that new default values in such files are
introduced even with this option.</p>
</li>
<li><p>Ignore old Hiveconf files and use the new files.</p>
<p>With this option, the listed configuration files are ignored and the
new files are used instead. Please note that configuration files
which are identical in the old and new release are not listed or
processed. This means that configuration changes to such files are
preserved even with this option.</p>
</li>
</ul>
</section>
</section>
<span id="document-shadowing"></span><section id="shadowing">
<span id="id1"></span><h2>Shadowing<a class="headerlink" href="#shadowing" title="Permalink to this headline">¶</a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>Shadowing is a feature that lets a user connect to, view, and interact
with ThinLinc sessions of other users. This can be useful in remote
assistance and support scenarios, where trusted support personnel can
connect to a user session and aid with for example application problems.</p>
<p>Because shadowing gives the shadowing user full control over the
shadowed session, this feature should be used with caution.</p>
<p>The shadowing feature is enabled by default and is configured to ask the
user to accept or reject a shadowing request.</p>
</section>
<section id="disable-shadowing-feature">
<span id="shadowing-disable-feature"></span><h3>Disable shadowing feature<a class="headerlink" href="#disable-shadowing-feature" title="Permalink to this headline">¶</a></h3>
<p>The shadowing feature is enabled by default when installing ThinLinc.
You can disable this feature, if required, using the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /shadowing/shadowing_mode<span class="o">=</span>reject
</pre></div>
</div>
<p>When the shadowing feature is disabled, all requests to shadow a user
session are actively rejected. Details about the
<a class="reference internal" href="index.html#server-config-shadowing-shadowing_mode"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/shadowing/shadowing_mode</span></code></a> configuration parameter is
described in <a class="reference internal" href="index.html#configuration-shadowing"><span class="std std-ref">Parameters in /shadowing/</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above command should be run on all of the ThinLinc servers in
your cluster.</p>
</div>
</section>
<section id="granting-shadowing-access-to-users">
<span id="shadowing-granting-access"></span><h3>Granting shadowing access to users<a class="headerlink" href="#granting-shadowing-access-to-users" title="Permalink to this headline">¶</a></h3>
<p>Because of the security implications of this feature, the system
administrator needs to grant this permission to named users and/or
groups before it can be used.</p>
<p>The <strong>vsmserver</strong> service controls whether a user requesting to shadow
another user is authorized to do so. The configuration parameter
<a class="reference internal" href="index.html#server-config-shadowing-allowed_shadowers"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/shadowing/allowed_shadowers</span></code></a> from the
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/shadowing.hconf</span></code> file is read by the
<strong>vsmserver</strong> service on startup. This parameter is described in detail
in <a class="reference internal" href="index.html#configuration-shadowing"><span class="std std-ref">Parameters in /shadowing/</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After the configuration variable has been set, the <code class="docutils literal notranslate"><span class="pre">vsmserver</span></code>
service needs to be restarted before the change is made active.</p>
</div>
</section>
<section id="shadowing-notification">
<span id="shadowing-indicating"></span><h3>Shadowing notification<a class="headerlink" href="#shadowing-notification" title="Permalink to this headline">¶</a></h3>
<p>Notification behavior of the shadowing feature is configured by the
system administrator. The notification mechanism can be configured in
four different modes as described here.</p>
<ul class="simple">
<li><p>Shadow requests are silently rejected</p></li>
<li><p>Shadow requests are silently accepted</p></li>
<li><p>Shadow requests are accepted and the user is notified</p></li>
<li><p>Shadow requests are interactively accepted or rejected by the user</p></li>
</ul>
<p>To configure the shadowing mode, use the following command and select a
value of <code class="docutils literal notranslate"><span class="pre">reject</span></code>, <code class="docutils literal notranslate"><span class="pre">silent</span></code>, <code class="docutils literal notranslate"><span class="pre">notify</span></code>, or <code class="docutils literal notranslate"><span class="pre">ask</span></code>. Details about
the <a class="reference internal" href="index.html#server-config-shadowing-shadowing_mode"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/shadowing/shadowing_mode</span></code></a> configuration parameter are
described in <a class="reference internal" href="index.html#configuration-shadowing"><span class="std std-ref">Parameters in /shadowing/</span></a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-config /shadowing/shadowing_mode<span class="o">=</span>ask
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above command should be run on all ThinLinc servers in your
cluster.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only newly started session are affected by the above change.</p>
</div>
</section>
<section id="shadowing-a-user-session">
<h3>Shadowing a user session<a class="headerlink" href="#shadowing-a-user-session" title="Permalink to this headline">¶</a></h3>
<p>The ThinLinc client must be configured for shadowing. See
<a class="reference internal" href="index.html#client-advanced-tab"><span class="std std-ref">Advanced tab</span></a> for more information.</p>
<p>Once the client has been configured for shadowing, enter the username of
the user you wish to shadow in the User to shadow field and connect.</p>
</section>
</section>
<span id="document-hiveconf"></span><section id="hiveconf">
<span id="id1"></span><h2>Hiveconf<a class="headerlink" href="#hiveconf" title="Permalink to this headline">¶</a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>Hiveconf is the name of the configuration system used in ThinLinc. It is
however not a ThinLinc-specific configuration system, but instead a
generic configuration framework for storing key/value pairs in a
human-readable way, although still in a format that’s easy to read and
modify from a computer program.</p>
<p>Hiveconf stores data using a “backend”, meaning configuration data can
be stored in different ways. The default backend which is also used in
ThinLinc is using a text file format similar to Windows
<code class="file docutils literal notranslate"><span class="pre">.INI</span></code>-files, or the format used in <code class="file docutils literal notranslate"><span class="pre">smb.conf</span></code> from Samba.</p>
<p>In ThinLinc, Hiveconf can only guarantee that files with encoding UTF-8
are correctly read. The Hiveconf-files of ThinLinc ships in UTF-8, but
the encoding of the files could change if the files are opened or
manually modified on a non UTF-8 system.</p>
<p>In this section, we will describe Hiveconf from a general point of view
and also describe ThinLinc-specific details.</p>
<section id="basic-syntax">
<h4>Basic syntax<a class="headerlink" href="#basic-syntax" title="Permalink to this headline">¶</a></h4>
<p>Basically, a Hiveconf file consists of key/value pairs with an equal
sign (<code class="docutils literal notranslate"><span class="pre">=</span></code>) between them, as in the following example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">vsm_server_port</span> <span class="o">=</span> <span class="s">9000</span>
<span class="na">vnc_port_base</span> <span class="o">=</span> <span class="s">5900</span>
</pre></div>
</div>
<p>The values after the equal sign can be of the following types:</p>
<ul class="simple">
<li><p>String</p></li>
<li><p>Boolean</p></li>
<li><p>Integer</p></li>
<li><p>Float</p></li>
<li><p>Binary data as hexadecimal ASCII</p></li>
</ul>
<p>Data can also be lists of the above types, these lists are
space-separated.</p>
</section>
<section id="tree-structure">
<span id="hiveconf-tree"></span><h4>Tree structure<a class="headerlink" href="#tree-structure" title="Permalink to this headline">¶</a></h4>
<p>Parameters in Hiveconf all reside in folders. Folders are just like a
directory or folder in a normal file system. By adding folder directives
to Hiveconf files, the parameters will be split up in a tree structure,
meaning each parameter will be addressed using a path. This way, two
folders can have two parameters with the same name without collision.</p>
<p>The benefits of this is that a software suite (for instance ThinLinc)
can have one common configuration namespace, without having to name all
configuration parameters uniquely, since every component in the suite
can have its own namespace. In ThinLinc, the VSM server has its
parameters in the <a class="reference internal" href="index.html#std-server-config-folder-vsmserver"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver</span></code></a> folder, the VSM agent has its
parameters in the <a class="reference internal" href="index.html#std-server-config-folder-vsmagent"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent</span></code></a> folder and so on.</p>
<p>Looking from a system global point of view, every software package has
its own folder, meaning all configuration parameters of the system can
be accessed using a common tool.</p>
<p>Folders are put into the configuration files by adding a path inside
square brackets to the file as in the following example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># Hiveconf configuration file - VSM server</span>
<span class="c1">#</span>
<span class="k">[/vsmserver]</span>
<span class="na">unbind_ports_at_login</span><span class="o">=</span><span class="s">true</span>

<span class="c1"># Administrators email</span>
<span class="na">admin_email</span> <span class="o">=</span> <span class="s">root@localhost</span>
</pre></div>
</div>
<p>In this example, both parameters (<code class="docutils literal notranslate"><span class="pre">unbind_ports_at_login</span></code> and
<code class="docutils literal notranslate"><span class="pre">admin_email</span></code>) reside in the <code class="docutils literal notranslate"><span class="pre">/vsmserver</span></code> folder. This means that
they should be addressed as <code class="docutils literal notranslate"><span class="pre">/vsmserver/unbind_ports_at_login</span></code> ,
<code class="docutils literal notranslate"><span class="pre">/vsmserver/admin_email</span></code> respectively if used from inside a program
using the Hivetool libraries. This is of course not that important from
the system administrator’s point of view, but it’s important to
understand the principle.</p>
</section>
<section id="mounting-datasources">
<h4>Mounting datasources<a class="headerlink" href="#mounting-datasources" title="Permalink to this headline">¶</a></h4>
<p>One Hiveconf file can use another Hiveconf file by mounting the other
file using a mount command as in the following example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%mount HA.hconf
</pre></div>
</div>
<p>The mount should be compared to a mount on a Linux. That is, the mount
adds the tree structure of the file mounted at exactly the place in the
current tree structure where the mount command was found.</p>
<p>Mounts can also use wildcards, as in the following example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%mount conf.d/*.hconf
</pre></div>
</div>
<p>The above is exactly what you’ll find if you look into the file
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/thinlinc.hconf</span></code>. Hiveconf will mount all files
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d</span></code> and add them to the current folder.
This is a very convenient way to add all configuration files for a
specific software suite to the Hiveconf namespace.</p>
</section>
<section id="host-wide-configuration">
<h4>Host-wide configuration<a class="headerlink" href="#host-wide-configuration" title="Permalink to this headline">¶</a></h4>
<p>As we hinted in <a class="reference internal" href="#hiveconf-tree"><span class="std std-ref">Tree structure</span></a>, Hiveconf lays the foundation for a
host-wide configuration system where all applications on a host can be
configured using a single system with a common API. This can be
accomplished because each application will get its own subfolder in the
host-wide configuration folder, so that two applications’ parameters won’t
collide even if they have the same name. Using the mount command, every
application can have its own configuration file, while still exporting
its parameters to the host-wide folder system.</p>
<p>There is a host-wide Hiveconf “root”, implemented by the file
<code class="file docutils literal notranslate"><span class="pre">/etc/root.hconf</span></code>. This file mounts all files in
<code class="file docutils literal notranslate"><span class="pre">/etc/hiveconf.d/</span></code> where an application can drop its own Hiveconf
file at install-time, just like it can drop a file in for example
<code class="file docutils literal notranslate"><span class="pre">/etc/logrotate.d</span></code> or <code class="file docutils literal notranslate"><span class="pre">/etc/profile.d</span></code>.</p>
</section>
<section id="hiveconf-tools">
<span id="id2"></span><h4>Hiveconf tools<a class="headerlink" href="#hiveconf-tools" title="Permalink to this headline">¶</a></h4>
<p>In addition to the system libraries used by applications to read and
write configuration parameters that reside in Hiveconf files, there is a
command line utility named <strong class="program">hivetool</strong> for inspecting and
setting parameters from the command line. This can be very convenient,
for example when scripting setup scripts that need to set some
parameter.</p>
<p><strong class="program">hivetool</strong> without parameters will do nothing. To see all
parameters on the system, run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>hivetool -Ra /
</pre></div>
</div>
<p>This instructs <strong class="program">hivetool</strong> to print all parameters, beginning
from the root (<code class="docutils literal notranslate"><span class="pre">/</span></code>) and recursing downwards. With a standard Hiveconf
installation this will list Samba and KDE configuration parameters. If
ThinLinc is installed, it will list ThinLinc parameters as well.</p>
<p>To print a specific parameter, run <strong class="program">hivetool</strong> with the name of
the parameter as parameter. For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>hivetool /thinlinc/vsmserver/admin_email
<span class="go">root@localhost</span>
</pre></div>
</div>
<p>Setting a parameter is equally easy. To set the <code class="docutils literal notranslate"><span class="pre">admin_email</span></code>
parameter above, execute the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>hivetool /thinlinc/vsmserver/admin_email<span class="o">=</span>johndoe@example.com
</pre></div>
</div>
</section>
</section>
<section id="hiveconf-and-thinlinc">
<h3>Hiveconf and ThinLinc<a class="headerlink" href="#hiveconf-and-thinlinc" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc uses Hiveconf as its primary configuration system on the
server-side. In this section, we will describe the convenience utility
shipped with ThinLinc. For descriptions of the folders and parameters
used by ThinLinc, please refer to <a class="reference internal" href="index.html#configuration"><span class="std std-ref">Server configuration</span></a></p>
<section id="the-thinlinc-configuration-tool">
<h4>The ThinLinc configuration tool<a class="headerlink" href="#the-thinlinc-configuration-tool" title="Permalink to this headline">¶</a></h4>
<p>In order to access the ThinLinc part of the Hiveconf configuration
namespace without having to address it using the host-wide path (i.e. to
avoid having to add <code class="docutils literal notranslate"><span class="pre">/thinlinc/</span></code> to all parameters, a tool named
<strong class="program">tl-config</strong> is shipped with ThinLinc).</p>
<p><strong class="program">tl-config</strong> takes the same parameters as <strong class="program">hivetool</strong>
and works the same way. Refer to <a class="reference internal" href="#hiveconf-tools"><span class="std std-ref">Hiveconf tools</span></a> for information
about <strong class="program">hivetool</strong>. Try for example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-config -Ra /
</pre></div>
</div>
<p>This command will print all ThinLinc-related parameters.</p>
</section>
</section>
</section>
<span id="document-cli"></span><section id="command-line">
<h2>Command line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h2>
<p>This chapter gives an overview of how to manage a ThinLinc cluster using
the command line. Detailed descriptions of available commands can be
found in <a class="reference internal" href="index.html#commands"><span class="std std-ref">Commands on the ThinLinc server</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to configure <strong class="command">sudo</strong> so that these commands
can be run without having to specify an absolute path. See
<a class="reference internal" href="index.html#install-sudo-configuration"><span class="std std-ref">Sudo configuration</span></a> for details.</p>
</div>
<section id="managing-sessions">
<h3>Managing sessions<a class="headerlink" href="#managing-sessions" title="Permalink to this headline">¶</a></h3>
<p>Users’ sessions can be examined and controlled using <strong class="program">tlctl
session</strong>. With this tool, it is possible to list sessions currently
running on the cluster:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tlctl session list
<span class="go">USER   DISPLAY  AGENT               STATUS     AGE</span>
<span class="go">========================================================</span>
<span class="go">alice  12       agent1.example.com  connected  11 day(s)</span>
<span class="go">bob    32       agent2.example.com  connected  5 hour(s)</span>

<span class="go">Listed 2 session(s).</span>
</pre></div>
</div>
<p>If only some sessions are interesting, then it is possible to list just
those:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tlctl session list --agent agent2.example.com
<span class="go">USER  DISPLAY  AGENT               STATUS     AGE</span>
<span class="go">=======================================================</span>
<span class="go">bob   32       agent2.example.com  connected  5 hour(s)</span>

<span class="go">Listed 1 session(s).</span>
</pre></div>
</div>
<p>Something may have gone wrong with a user’s session, meaning it needs to
be restarted. The <strong class="program">tlctl session</strong> command can then be used to
terminate that session:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tlctl session terminate --user bob
<span class="go">Refreshing session information...</span>

<span class="go">Terminating:</span>
<span class="go">USER  DISPLAY  AGENT</span>
<span class="go">=================================</span>
<span class="go">bob   32       agent2.example.com</span>

<span class="go">Summary:</span>
<span class="go">  Terminate 1 session(s)</span>

<span class="go">Is this ok? [y/N]: y</span>
</pre></div>
</div>
</section>
<section id="notifying-users">
<h3>Notifying users<a class="headerlink" href="#notifying-users" title="Permalink to this headline">¶</a></h3>
<p>Sometimes it may be necessary to inform users of important events, e.g.
that a server needs to be restarted. Historically, the <strong class="command">wall</strong>
command was used for this, but it is mostly ignored by desktop
environments and users may not have a terminal open.</p>
<p>ThinLinc includes the tool <strong class="program">tl-notify</strong> that instead uses the
notification mechanism built into most desktop environments. With this
tool, it is easy to send a message to users:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-notify The system will be restarted <span class="k">in</span> one hour
</pre></div>
</div>
<p>Note that this command only notifies the users on the agent where the
command is run. It is therefore recommended to also use
<strong class="program">tl-ssh-all</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tl-ssh-all tl-notify The system will be restarted <span class="k">in</span> one hour
</pre></div>
</div>
</section>
<section id="cluster-load">
<span id="cli-load"></span><h3>Cluster load<a class="headerlink" href="#cluster-load" title="Permalink to this headline">¶</a></h3>
<p>The current status of ThinLinc’s load monitoring can be examined using
<strong class="program">tlctl load</strong>. The command <strong class="program">tlctl load list</strong> can be
used to get a brief overview of the entire cluster:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tlctl load list
<span class="go">AGENT               USERS  MEM  CPU  RATING</span>
<span class="go">===========================================</span>
<span class="go">agent1.example.com     11  14%   0%   10.85</span>
<span class="go">agent2.example.com     10  10%   0%   29.88</span>
</pre></div>
</div>
<p>More details can be fetched about a specific agent using <strong class="program">tlctl
load show</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo tlctl load show agent.example.com
<span class="go">DETAILS FOR AGENT &quot;agent1.example.com&quot;</span>
<span class="go">--------------------------------------</span>
<span class="go">       Number of users: 11</span>
<span class="go">Memory (used RAM+swap): 14%</span>
<span class="go">      RAM (used/total): 0.5/1.8 GiB</span>
<span class="go">     Swap (used/total): 0.0/1.6 GiB</span>
<span class="go">          Load (1 min): 0.0</span>
<span class="go">        Number of CPUs: 2</span>
<span class="go">                   CPU: 0%</span>
<span class="go">              Bogomips: 11999.98</span>
<span class="go">                Rating: 10.85</span>
<span class="go">        Penalty points: 0</span>
<span class="go">          Last updated: 24 s ago</span>
</pre></div>
</div>
</section>
</section>
<span id="document-tlwebadm"></span><section id="administration-of-thinlinc-using-the-web-administration-interface">
<span id="tlwebadm"></span><h2>Administration of ThinLinc using the web administration interface<a class="headerlink" href="#administration-of-thinlinc-using-the-web-administration-interface" title="Permalink to this headline">¶</a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>This chapter describes the web-based ThinLinc administration interface
called tlwebadm. This administration interface is installed
automatically by the ThinLinc installation program, and may be accessed
by pointing your web browser to <code class="docutils literal notranslate"><span class="pre">https://&lt;hostname&gt;:1010</span></code>.</p>
<p>The default username for logging in to tlwebadm is <code class="docutils literal notranslate"><span class="pre">admin</span></code>, and the
password is as specified during installation (or in the case of
automated installs, as specified in the <a class="reference internal" href="index.html#install-automatic"><span class="std std-ref">answers file</span></a>).</p>
<p>For information on configuring tlwebadm, for example setting a password
or changing the default port, see <a class="reference internal" href="index.html#configuration-tlwebadm"><span class="std std-ref">Parameters in /tlwebadm/</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A password must be set and the tlwebadm service restarted before use.</p>
</div>
</section>
<section id="modules">
<h3>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h3>
<p>The tlwebadm interface consists of several modules which address
different aspects of ThinLinc configuration:</p>
<ul class="simple">
<li><p><span class="guilabel">System health</span>, for viewing information about ThinLinc
master, agent and Web Access services, and testing user or group
lookup performance. See <a class="reference internal" href="index.html#tlwebadm-system-health"><span class="std std-ref">The system health module</span></a> below.</p></li>
<li><p><span class="guilabel">Status</span>, for viewing information such as license usage,
server load and sessions. See <a class="reference internal" href="index.html#tlwebadm-status"><span class="std std-ref">The status module</span></a> below.</p></li>
<li><p><span class="guilabel">VSM</span>, for viewing information and managing ThinLinc
subclusters, the master service and the agent service. See
<a class="reference internal" href="index.html#tlwebadm-vsm"><span class="std std-ref">The VSM module</span></a> below.</p></li>
<li><p><span class="guilabel">Profiles</span>, for viewing and configuring profiles. See
<a class="reference internal" href="index.html#tlwebadm-profiles"><span class="std std-ref">The profiles module</span></a> below.</p></li>
<li><p><span class="guilabel">Locations</span>, for viewing and configuring printers and
terminal locations. See <a class="reference internal" href="index.html#tlwebadm-locations"><span class="std std-ref">The locations module</span></a> below.</p></li>
<li><p><span class="guilabel">Desktop customizer</span>, for configuring desktops. See
<a class="reference internal" href="index.html#tlwebadm-tldc"><span class="std std-ref">The desktop customizer module</span></a> below.</p></li>
<li><p><span class="guilabel">Help</span>, a module containing documentation and other useful
information.</p></li>
</ul>
<p>These modules are described in more detail in the following sections.</p>
<div class="toctree-wrapper compound">
<span id="document-tlwebadm_health"></span><section id="the-system-health-module">
<span id="tlwebadm-system-health"></span><h4>The system health module<a class="headerlink" href="#the-system-health-module" title="Permalink to this headline">¶</a></h4>
<p>The System Health module allows you to check the running state of the
ThinLinc master, agent and Web Access services. There is also a tool to
perform a user or group lookup which reports the time for the lookup.</p>
<ul>
<li><p><span class="guilabel">Service status</span> reports the current running state of the
master (<strong>vsmserver.service</strong>), agent (<strong>vsmagent.service</strong>), and Web
Access (<strong>tlwebaccess.service</strong>) services.</p></li>
<li><p><span class="guilabel">Users and group lookup</span> allows you to test the performance
of user and group lookup on the system.</p>
<p>Fill in values for username and/or group and click the
<span class="guilabel">Test user and group lookup</span> button to perform a lookup.</p>
</li>
</ul>
</section>
<span id="document-tlwebadm_status"></span><section id="the-status-module">
<span id="tlwebadm-status"></span><h4>The status module<a class="headerlink" href="#the-status-module" title="Permalink to this headline">¶</a></h4>
<p>The status module allows you to view or manipulate the following aspects
of ThinLinc, by selecting the relevant submenu:</p>
<ul class="simple">
<li><p><span class="guilabel">Licenses</span> allows you to view license usage.</p></li>
<li><p><span class="guilabel">Load</span> allows you to check the current workload on the
ThinLinc agents.</p></li>
<li><p><span class="guilabel">Sessions</span> allows you to terminate, shadow or view details
of sessions.</p></li>
</ul>
<section id="licenses">
<span id="tlwebadm-licenses"></span><h5>Licenses<a class="headerlink" href="#licenses" title="Permalink to this headline">¶</a></h5>
<p>The licenses menu provides graphs showing current and historical license
usage, along with the current total number of licenses. It also includes
functionality to generate a graph displaying license usage over a
specified number of days in the past.</p>
</section>
<section id="load">
<span id="tlwebadm-load"></span><h5>Load<a class="headerlink" href="#load" title="Permalink to this headline">¶</a></h5>
<p>The load menu displays information about system utilization across the
ThinLinc agents, enabling administrators to monitor performance metrics
and evaluate the capacity for adding more users to the cluster.</p>
<p>The overview shows the current workload for each agent in the ThinLinc
cluster, including the total number of users (not only users running
ThinLinc sessions), memory usage, CPU usage, and rating. To view load
details for a specific agent, click on the agent’s name. A popup will
appear with detailed information about the selected session. Refer to
the list below for explanation of the rating and other load parameters.</p>
<ul class="simple">
<li><p><span class="guilabel">ThinLinc users</span>: The number of users on the agent running
one or more ThinLinc sessions.</p></li>
<li><p><span class="guilabel">Total number of users</span>: The total numbers of unique users
on the agent (not only users running ThinLinc sessions). This
includes both human users as well as system users for background
processes.</p></li>
<li><p><span class="guilabel">Memory (used RAM+swap)</span>: The combined total of RAM and
swap memory currently in use.</p></li>
<li><p><span class="guilabel">RAM (used/total)</span>: The amount of RAM currently used
compared to the total available RAM.</p></li>
<li><p><span class="guilabel">Swap (used/total)</span>: The amount of swap memory currently
used compared to the total available swap memory.</p></li>
<li><p><span class="guilabel">CPU</span>: The total CPU resources being utilized across all
available CPUs.</p></li>
<li><p><span class="guilabel">Load (1 min)</span>: The CPU load 1-minute average.</p></li>
<li><p><span class="guilabel">Number of CPUs</span>: The total number of available CPUs.</p></li>
<li><p><span class="guilabel">Bogomips</span>: A measurement of the system’s computational
capacity, providing an estimate of processing performance.</p></li>
<li><p><span class="guilabel">Rating</span>: A score indicating the agent’s capacity to
handle additional sessions; for example, a rating of 10.0 suggests
that the agent can accommodate approximately 10 more sessions.</p></li>
<li><p><span class="guilabel">Penalty points</span>: Points assigned to the agent for
performance issues, such as slow response times or additional users
connecting. These points negatively impact the agent’s rating.</p></li>
<li><p><span class="guilabel">Last updated</span>: The timestamp indicating when the load
information was last refreshed.</p></li>
</ul>
</section>
<section id="sessions">
<span id="tlwebadm-sessions"></span><h5>Sessions<a class="headerlink" href="#sessions" title="Permalink to this headline">¶</a></h5>
<p>When you select the sessions menu, a table with all currently active
sessions is displayed. To perform additional tasks, click on the
corresponding username. This will bring up the session details popup,
which displays all the session parameters for the chosen session. The
information table in the popup is described below.</p>
<ul class="simple">
<li><p><span class="guilabel">Created</span>: A timestamp for when the session was initially
created.</p></li>
<li><p><span class="guilabel">Session status</span>: The health status of the session as seen
by the master machine.</p></li>
<li><p><span class="guilabel">Connection status</span>: The current connection status between
the client and the session.</p></li>
<li><p><span class="guilabel">Last connection</span>: A timestamp for when the last connection
was initiated and the IP address of the last connected client.</p></li>
<li><p><span class="guilabel">Agent</span>: The DNS host name of the server that is hosting
the session, as seen by the master machine.</p></li>
<li><p><span class="guilabel">Agent server address</span>: The DNS host name of the server
that is hosting this session, as seen by the client machine.</p></li>
<li><p><span class="guilabel">Display number</span>: Each session on a certain server has a
unique number, the X Window System display number. Display zero is
reserved, and never used for ThinLinc sessions.</p></li>
<li><p><span class="guilabel">Terminal ID</span>: An identification of the thin terminal. This
is the terminal’s hardware address (MAC address).</p></li>
<li><p><span class="guilabel">Framebuffer size</span>: The size (resolution) of the active
session.</p></li>
<li><p><span class="guilabel">Local screen size</span>: The size (resolution) of the
terminal’s screen.</p></li>
<li><p><span class="guilabel">Session process ID</span>: The PID (process identification
number) of the <strong class="program">tl-session</strong> process, which is the parent for
all processes belonging to a certain session.</p></li>
<li><p><span class="guilabel">Command</span>: The command line that was specified when
starting this session. This is usually empty for full desktop
sessions.</p></li>
</ul>
<p>Below the session information table, there are two buttons:</p>
<ul>
<li><p><span class="guilabel">Terminate session</span>: By clicking this button, you can
terminate a session immediately. Caution: This can lead to data loss,
since applications running on the ThinLinc servers may not hold
unsaved data.</p></li>
<li><p><span class="guilabel">Shadow session</span>: This button will generate a ThinLinc
“launch file” (see <a class="reference internal" href="index.html#clientplatforms-web-integration"><span class="std std-ref">Launching the client from a web page</span></a>) that
starts the native ThinLinc client, preconfigured to shadow the
current user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user might not be informed that shadowing is in progress if
shadowing notification has been disabled. See <a class="reference internal" href="index.html#shadowing"><span class="std std-ref">Shadowing</span></a> for
details.</p>
</div>
</li>
</ul>
</section>
</section>
<span id="document-tlwebadm_vsm"></span><section id="the-vsm-module">
<span id="tlwebadm-vsm"></span><h4>The VSM module<a class="headerlink" href="#the-vsm-module" title="Permalink to this headline">¶</a></h4>
<p>VSM contains information about subclusters and master and agent
services. This module also allows managing of subclusters and
configuration of master and agent.</p>
<ul class="simple">
<li><p><span class="guilabel">Subclusters</span> allows viewing, adding, modifying or deleting
subclusters.</p></li>
<li><p><span class="guilabel">Master</span> allows starting or stopping the <strong>vsmserver</strong>
service, and modifying a subset of the configuration options.</p></li>
<li><p><span class="guilabel">Agent</span> allows starting or stopping the <strong>vsmagent</strong>
service, and modifying a subset of the configuration options.</p></li>
</ul>
<section id="subclusters">
<span id="tlwebadm-vsm-subclusters"></span><h5>Subclusters<a class="headerlink" href="#subclusters" title="Permalink to this headline">¶</a></h5>
<p>On this page, the configured subclusters of the ThinLinc master can be
found. Subclusters are groups of agents that can be associated with
users or groups. Adding, modifying or deleting existing subclusters is
possible. A restart of the <strong>vsmserver</strong> service is required after
changes to subcluster configuration in order for the changes to take
effect. The <strong>vsmserver</strong> service can be restarted from the
<span class="guilabel">Master</span> page described in <a class="reference internal" href="#tlwebadm-vsm-master"><span class="std std-ref">Master</span></a>.</p>
<p>The page will present a list of currently configured subclusters. This
should be something like the example in
<a class="reference internal" href="#tlwebadm-subcluster-list"><span class="std std-numref">Fig. 26</span></a>. To edit a subcluster, click on its
name in the list.</p>
<figure class="align-default" id="id1">
<span id="tlwebadm-subcluster-list"></span><img alt="_images/tlwebadm-subcluster-list.svg" src="_images/tlwebadm-subcluster-list.svg" /><figcaption>
<p><span class="caption-number">Fig. 26 </span><span class="caption-text">Subclusters</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#tlwebadm-subcluster-list"><span class="std std-numref">Fig. 26</span></a> shows a system with a total of two
subclusters. The subcluster called <span class="guilabel">default</span> is configured
with two agent servers and <span class="guilabel">US_cluster</span> is configured with one
agent.</p>
<p>To add a new subcluster to the list, press the <span class="guilabel">Add new
subcluster</span> button. This will bring up an empty subcluster edit pop-up.
See figure <a class="reference internal" href="#tlwebadm-subcluster-new"><span class="std std-numref">Fig. 27</span></a> for an example.</p>
<figure class="align-default" id="id2">
<span id="tlwebadm-subcluster-new"></span><img alt="_images/tlwebadm-subcluster-new.svg" src="_images/tlwebadm-subcluster-new.svg" /><figcaption>
<p><span class="caption-number">Fig. 27 </span><span class="caption-text">New subcluster pop-up</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>There are five editable fields in this view: <span class="guilabel">Subcluster</span>,
<span class="guilabel">Agents</span>, <span class="guilabel">Users</span>, <span class="guilabel">Groups</span> and
<span class="guilabel">Limit sessions</span>. The first field controls the name of the
subcluster. The rest are described in
<a class="reference internal" href="index.html#configuration-subcluster-params"><span class="std std-ref">Parameters in /vsmserver/subclusters/</span></a>. To save changes, press the
<span class="guilabel">Save</span> button. Remember to restart the <strong>vsmserver</strong> service
afterward.</p>
</section>
<section id="master">
<span id="tlwebadm-vsm-master"></span><h5>Master<a class="headerlink" href="#master" title="Permalink to this headline">¶</a></h5>
<p>On this page you can start or stop the master service. There are also a
subset of configuration options available for configuration of the
service.</p>
<ul>
<li><p><span class="guilabel">Service status</span> gives you the ability to start or stop the
master service.</p></li>
<li><p><span class="guilabel">Sessions per user</span> allows you to configure how many
sessions are allowed per user.</p>
<p>A value of zero means no limit and will give unlimited sessions per
user.</p>
</li>
<li><p><span class="guilabel">Allowed groups</span> allows you to configure which groups
should be given access to connect to ThinLinc.</p>
<p>If no groups are specified, all users will have access to connect to
ThinLinc</p>
</li>
<li><p><span class="guilabel">Allowed shadowers</span> allows you to configure which users
should be able to shadow other ThinLinc sessions.</p></li>
</ul>
<p>Click the <span class="guilabel">Save</span> button when you want to save your changes to
the configuration files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need to restart the service to apply your changes.</p>
</div>
</section>
<section id="agent">
<span id="tlwebadm-vsm-agent"></span><h5>Agent<a class="headerlink" href="#agent" title="Permalink to this headline">¶</a></h5>
<p>On this page you can start or stop the agent service. There are also a
subset of configuration options available for configuration of the
service.</p>
<ul>
<li><p><span class="guilabel">Service status</span> gives you the ability to start or stop the
agent service.</p></li>
<li><p><span class="guilabel">Externally reachable address to use</span> allows you to
configure the hostname that clients are redirected to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This configuration is needed if running ThinLinc in a NAT
environment. See <a class="reference internal" href="index.html#network-nat"><span class="std std-ref">ThinLinc in a NAT/split-DNS environment</span></a> for more information.</p>
</div>
</li>
<li><p><span class="guilabel">Extra arguments to X server</span> allows you to configure
additional arguments to the X server (<strong class="program">Xvnc</strong>) for new
sessions that are started.</p></li>
</ul>
<p>Click the <span class="guilabel">Save</span> button when you want to save your changes to
the configuration files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need to restart the service to apply your changes.</p>
</div>
</section>
</section>
<span id="document-tlwebadm_profiles"></span><section id="the-profiles-module">
<span id="tlwebadm-profiles"></span><h4>The profiles module<a class="headerlink" href="#the-profiles-module" title="Permalink to this headline">¶</a></h4>
<p>On this page you can modify text shown in the profile chooser, and
manage profiles. You can create or delete a profile and configure the
profile order.</p>
<ul class="simple">
<li><p><span class="guilabel">Introduction texts</span> allows you to modify and manage
translation of texts used in the profile chooser.</p></li>
<li><p><span class="guilabel">Profile list</span> allows you to configure the available
profiles and their order.</p></li>
</ul>
<section id="introduction-texts">
<span id="tlwebadm-profiles-introductions-texts"></span><h5>Introduction texts<a class="headerlink" href="#introduction-texts" title="Permalink to this headline">¶</a></h5>
<p><span class="guilabel">Introduction texts</span> contain translation tables for greetings
and introduction texts. There is also a configuration option to enable
or disable the use of introduction texts.</p>
<ul class="simple">
<li><p><span class="guilabel">Greeting text</span> is the text to show at the top of the
profile chooser.</p></li>
<li><p><span class="guilabel">Introduction text</span> is the text to show before presenting
the list of profiles.</p></li>
</ul>
<p>To add a new translation, fill in the language code and the translated
string. Click the <span class="guilabel">Save</span> button to save the new translation
and add it to the translation table.</p>
<p>To delete a translation select the row using the checkbox in
<span class="guilabel">Delete</span> column of the translation table. Click the
<span class="guilabel">Save</span> button to carry out the actual deletion of selected
rows.</p>
</section>
<section id="profile-list">
<span id="tlwebadm-profiles-profiles-list"></span><h5>Profile list<a class="headerlink" href="#profile-list" title="Permalink to this headline">¶</a></h5>
<p>The <span class="guilabel">Profile list</span> module contains functionality to manage
your profiles. You can change the default profile, create new or edit
existing profiles, or change the order of profiles.</p>
<ul class="simple">
<li><p><span class="guilabel">Default profile</span> allows you to specify the default profile
to be selected in the profile chooser.</p></li>
<li><p><span class="guilabel">Active profiles</span> allows you to modify active profiles and
their order, or create new profiles. These are presented to the user
in the same order as in the list. Note that other criteria must also
be satisfied for a profile to be available to a user.</p></li>
<li><p><span class="guilabel">Inactive profiles</span> allows you to modify inactive
profiles. These are not presented to the user.</p></li>
</ul>
<p>Create a new profile by clicking the <span class="guilabel">Add new profile</span> button.
If you want to edit an existing profile, click the profile name in the
table of available profiles.</p>
<p>When creating a new or editing an existing profile a pop-up is displayed.
This pop-up is shared between both modes and each field details are
described below.</p>
<ul>
<li><p><span class="guilabel">Identification</span></p>
<p>A unique string identifier for the profile which is used when
referencing this profile.</p>
</li>
<li><p><span class="guilabel">Make profile available</span></p>
<p>This will make the profile available to be selected and used. If
disabled it will not be shown to the user in the profile chooser.</p>
</li>
<li><p><span class="guilabel">XDG session desktop</span></p>
<p>The system desktop session configuration that this profile should be
connected to.</p>
</li>
<li><p><span class="guilabel">Default name</span></p>
<p>A name for the profile which is displayed in the profile chooser.</p>
</li>
<li><p><span class="guilabel">Take description from</span></p>
<p>The description is shown in the profile chooser when a profile is
selected. This field can be a static text which is defined in the
input field <span class="guilabel">Default description</span>.</p>
<ul class="simple">
<li><p><span class="guilabel">Test command</span>: This will take and use the output of the
defined <span class="guilabel">Test command</span> as the description for the
profile.</p></li>
<li><p><span class="guilabel">Manually defined text below</span>: This will use the text
defined in the <span class="guilabel">Default description</span> field below.</p></li>
</ul>
</li>
<li><p><span class="guilabel">Default description</span></p>
<p>A text used as the description for the profile. This is text is used
if <span class="guilabel">Take description from</span> above is selected to use the
manually defined text.</p>
</li>
<li><p><span class="guilabel">Icon path</span></p>
<p>A filename of the icon to use in the profile chooser.</p>
</li>
<li><p><span class="guilabel">Screenshot path</span></p>
<p>A filename of the screenshot to use in the profile chooser.</p>
</li>
<li><p><span class="guilabel">Command line</span></p>
<p>This command is used to start up a session. In most cases this is
something simple like <code class="docutils literal notranslate"><span class="pre">xfce4-session</span></code>, but in some cases there
might also be arguments like
<code class="docutils literal notranslate"><span class="pre">gnome-session</span> <span class="pre">--session</span> <span class="pre">gnome-classic</span></code>.</p>
</li>
<li><p><span class="guilabel">Test command</span></p>
<p>This command is evaluated and if it returns true, the profile is
shown to the user. If the command evaluates as false, the profile
will not be shown in the list of available profiles for the user.</p>
<p>ThinLinc includes the tool <strong class="program">tl-memberof-group</strong> which may be
used to test membership of groups. You can use this tool as a test
command, such as <code class="docutils literal notranslate"><span class="pre">/opt/thinlinc/bin/tl-memberof-group</span>
<span class="pre">my_profile_access_group</span></code>. This example will give members of group
<code class="docutils literal notranslate"><span class="pre">my_profile_access_group</span></code> access to the profile.</p>
<p>If you only want to give a specific user access to the profile you
may specify <code class="docutils literal notranslate"><span class="pre">test</span> <span class="pre">${USER}</span> <span class="pre">=</span> <span class="pre">user</span></code>.</p>
</li>
</ul>
<p>When you have finished editing the fields, click <span class="guilabel">Save</span> button
at the bottom of the pop-up to save your changes into the configuration
file.</p>
<p>To delete a profile, click the profile name in the table of available
profiles. Then click the checkbox at the bottom of the pop-up to verify
your intention about deletion of the profile. Complete the deletion by
clicking the <span class="guilabel">Delete</span> button.</p>
</section>
</section>
<span id="document-tlwebadm_locations"></span><section id="the-locations-module">
<span id="tlwebadm-locations"></span><h4>The locations module<a class="headerlink" href="#the-locations-module" title="Permalink to this headline">¶</a></h4>
<p>Locations contains information about locations where terminals and
printers reside. A location can be a room, a floor, a house or some
other type of geographical delimitation.</p>
<p>Every terminal should be assigned as a member of a location. In addition
to terminals, printers may also be assigned to locations.</p>
<section id="locations">
<h5>Locations<a class="headerlink" href="#locations" title="Permalink to this headline">¶</a></h5>
<p>To edit a location, click on its name in the list. To add a new location
to the list you press the <span class="guilabel">Add new location</span> button. This will
bring up an empty location edit pop-up. See
<a class="reference internal" href="#tlwebadm-location-new"><span class="std std-numref">Fig. 28</span></a> for an example.</p>
<figure class="align-default" id="id1">
<span id="tlwebadm-location-new"></span><img alt="_images/tlwebadm-location-new.svg" src="_images/tlwebadm-location-new.svg" /><figcaption>
<p><span class="caption-number">Fig. 28 </span><span class="caption-text">New location pop-up</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Fill the <span class="guilabel">Name</span> and <span class="guilabel">Description</span> fields with
relevant information. Enable the switch if this location is to be used
as a default location for unknown terminals when using the printer
access control feature (see <a class="reference internal" href="index.html#printeraccesscontrol"><span class="std std-ref">Printer access control</span></a> for details).</p>
<p>To save changes, press the <span class="guilabel">Save</span> button. When you have
pressed the <span class="guilabel">Save</span> button you will see that the
<span class="guilabel">Name</span> field will change from being an editable field to
become a static text label. To assure data integrity between the modules
you aren’t allowed to change the name of an item after it’s added.</p>
<p>The <span class="guilabel">Delete</span> button deletes the currently viewed location, but
only if the confirmation checkbox is also checked. The <span class="guilabel">Add
printer</span> button will add a new field to the pop-up, a drop-down menu with
all possible printers. An example of this can be seen in
<a class="reference internal" href="#tlwebadm-location-addprinter"><span class="std std-numref">Fig. 29</span></a>.</p>
<figure class="align-default" id="id2">
<span id="tlwebadm-location-addprinter"></span><img alt="_images/tlwebadm-location-addprinter.svg" src="_images/tlwebadm-location-addprinter.svg" /><figcaption>
<p><span class="caption-number">Fig. 29 </span><span class="caption-text">Location details with printer</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The <span class="guilabel">Printer</span> field above has the printer <span class="guilabel">MX-2700N</span>
selected. Remember to save the changes if you change printer! You can
assign more printers to this location by clicking <span class="guilabel">Add
printer</span> again to bring up another printer line. To remove a printer
you select the <span class="guilabel">Delete</span> checkbox corresponding to the
printer(s) you want to delete, and click <span class="guilabel">Save</span> to apply the
changes. The printer(s) will disappear.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Printers contains entries for all available printers. These entries
are just shadows of the real CUPS (Common Unix Printing System)
printer system entries. This means that you first need the printers
to be installed in the CUPS printer system and then added to this
list.</p>
</div>
</section>
<section id="terminals">
<h5>Terminals<a class="headerlink" href="#terminals" title="Permalink to this headline">¶</a></h5>
<p>Terminals contains necessary information about all terminals. The most
important information here is every terminal’s interface hardware (MAC)
address.</p>
<p>Each terminal should be entered as described in this section. Enter the
terminals module by clicking on the menu item. You will be presented
with a list of currently entered terminals. This could be something like
the example in <a class="reference internal" href="#tlwebadm-terminal-list"><span class="std std-numref">Fig. 30</span></a>.</p>
<figure class="align-default" id="id3">
<span id="tlwebadm-terminal-list"></span><img alt="_images/tlwebadm-terminal-list.svg" src="_images/tlwebadm-terminal-list.svg" /><figcaption>
<p><span class="caption-number">Fig. 30 </span><span class="caption-text">Terminals</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#tlwebadm-terminal-list"><span class="std std-numref">Fig. 30</span></a> shows a system with a total of two
terminals.</p>
<p>To edit a terminal, click on its name in the list. To add a new terminal
to the list you press the <span class="guilabel">Add new terminal</span> button. This will
bring up an empty terminal edit pop-up. See
<a class="reference internal" href="#tlwebadm-terminal-new"><span class="std std-numref">Fig. 31</span></a> for an example.</p>
<figure class="align-default" id="id4">
<span id="tlwebadm-terminal-new"></span><img alt="_images/tlwebadm-terminal-new.svg" src="_images/tlwebadm-terminal-new.svg" /><figcaption>
<p><span class="caption-number">Fig. 31 </span><span class="caption-text">New terminal pop-up</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>There are three editable fields in this view, <span class="guilabel">Terminal name</span>,
<span class="guilabel">Hardware (MAC) address</span> and <span class="guilabel">Location</span>. They are
described in <a class="reference internal" href="#tlwebadm-terminal-properties"><span class="std std-ref">Terminal properties</span></a> below.</p>
<p>To save changes, press the <span class="guilabel">Save</span> button. When you have
pressed the <span class="guilabel">Save</span> button you will see that the Hardware (MAC)
address field will change from being an editable field to become a
static text label. To assure data integrity between the modules you
aren’t allowed to change this field after it’s added.</p>
<p>When a new terminal is requested or when clicking an existing one in the
terminals list, there will be three buttons in the pop-up. The
<span class="guilabel">Save</span> button is used to save changes made to the terminal.
The <span class="guilabel">Delete</span> button deletes the currently viewed terminal.
The <span class="guilabel">Add printer</span> button will add a new printer field to the
pop-up.</p>
<span id="tlwebadm-terminal-properties"></span><table class="docutils align-default" id="id5">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">Terminal properties</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Terminal name</p></td>
<td><p>Name of the terminal. For example
the terminal’s DNS name or a name
following a naming scheme that identifies
the terminal.</p></td>
</tr>
<tr class="row-odd"><td><p>Hardware (MAC) address</p></td>
<td><p>Hardware (MAC) address of the main
interface of the terminal. This field is
important! Without a correct value the
<em>nearest</em> printer won’t work!</p></td>
</tr>
<tr class="row-even"><td><p>Location</p></td>
<td><p>Which of the locations, entered in the
Locations module, this terminal belongs
to.</p></td>
</tr>
</tbody>
</table>
<p>It is also possible to add a printer to a terminal in the terminal
module. This can be used if a terminal has its own printer or is closer
to another printer than the ones assigned to this terminal’s location.
You should use this feature moderately since it may cause more
administration.</p>
<p>To add a printer you do exactly as in the <span class="guilabel">Locations</span> menu.
Click the <span class="guilabel">Add printer</span> button, select the printer in the
drop-down menu and then press <span class="guilabel">Save</span> to make sure that the
settings are stored. To delete it, check the relevant <span class="guilabel">Delete</span>
checkbox(es) for the printer(s) you wish to remove, and click
<span class="guilabel">Save</span>.</p>
</section>
</section>
<span id="document-tlwebadm_tldc"></span><section id="the-desktop-customizer-module">
<span id="tlwebadm-tldc"></span><h4>The desktop customizer module<a class="headerlink" href="#the-desktop-customizer-module" title="Permalink to this headline">¶</a></h4>
<p>The ThinLinc desktop customizer is described more fully in its own
chapter, <a class="reference internal" href="index.html#tldc"><span class="std std-ref">Building custom Linux desktops with the ThinLinc desktop customizer</span></a>. Links to sections of this chapter pertaining to
the respective menus of the desktop customizer module are provided below
for convenience.</p>
<section id="application-groups">
<h5>Application groups<a class="headerlink" href="#application-groups" title="Permalink to this headline">¶</a></h5>
<p>For information on configuring application groups using TLDC, see
<a class="reference internal" href="index.html#tldc-define-applications"><span class="std std-ref">Defining application groups</span></a></p>
</section>
<section id="applications-manual">
<h5>Applications (manual)<a class="headerlink" href="#applications-manual" title="Permalink to this headline">¶</a></h5>
<p>For information on configuring manual applications using TLDC, see
<a class="reference internal" href="index.html#tldc-applications"><span class="std std-ref">Handling applications</span></a></p>
</section>
<section id="applications-system">
<h5>Applications (system)<a class="headerlink" href="#applications-system" title="Permalink to this headline">¶</a></h5>
<p>For information on configuring system applications using TLDC, see
<a class="reference internal" href="index.html#tldc-dskcustomizer-applications"><span class="std std-ref">Applications</span></a></p>
</section>
<section id="menu-structure">
<h5>Menu structure<a class="headerlink" href="#menu-structure" title="Permalink to this headline">¶</a></h5>
<p>For information on configuring menu structures using TLDC, see
<a class="reference internal" href="index.html#tldc-define-menustructure"><span class="std std-ref">Defining a menu structure</span></a></p>
</section>
</section>
</div>
</section>
</section>
<span id="document-tldc"></span><section id="building-custom-linux-desktops-with-the-thinlinc-desktop-customizer">
<span id="tldc"></span><h2>Building custom Linux desktops with the ThinLinc desktop customizer<a class="headerlink" href="#building-custom-linux-desktops-with-the-thinlinc-desktop-customizer" title="Permalink to this headline">¶</a></h2>
<p>In this chapter, we will document how to create custom desktops for
ThinLinc users using the ThinLinc desktop customizer (TLDC). TLDC relies
on <a class="reference external" href="https://www.freedesktop.org/">freedesktop.org</a>’s standard and desktop environments like <a class="reference external" href="https://mate-desktop.org/">MATE</a>
and <a class="reference external" href="https://www.xfce.org/">Xfce</a> are examples of desktops that can be used in combination
with TLDC.</p>
<p>Note that TLDC does not work with some desktop environments such as
<a class="reference external" href="https://www.gnome.org">GNOME Shell (GNOME 3)</a> since it does not have a traditional
application menu.</p>
<p>The TLDC’s core functionality is to build the application menus based on
factors such as group membership, username and ThinLinc Profile. It can
also add icons to the desktop of each user, based on the same premises.</p>
<div class="toctree-wrapper compound">
<span id="document-tldc_introduction"></span><section id="introduction">
<span id="tldc-introduction"></span><h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>The ThinLinc desktop customizer is a combination of a web-based
administration tool and a command that is run at session startup for all
users. It enables the administrator to decide what menu entries should
be presented for specific users, and what icons should be made available
on the desktop. Which menu entries and/or desktop entries are given to a
specific user is decided based on the Linux group memberships of the
user, the username and what ThinLinc Profile was chosen (if any).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since KDE4 uses a different desktop configuration mechanism compared
to older versions of KDE, icons added to the desktop using the
ThinLinc desktop customizer will not be shown in KDE4. This can be
solved by changing the <span class="guilabel">Desktop layout</span> setting of your
KDE4 desktop to <span class="guilabel">Folder view</span>.</p>
</div>
</section>
<span id="document-tldc_tldesktopcustomizer"></span><section id="using-the-thinlinc-desktop-customizer">
<span id="tldc-tldesktopcustomizer"></span><h3>Using the ThinLinc desktop customizer<a class="headerlink" href="#using-the-thinlinc-desktop-customizer" title="Permalink to this headline">¶</a></h3>
<p>Using the ThinLinc desktop customizer, the system administrator can
decide what applications should be available in the menu and/or on the
desktop for specific users or for users that are members of some Linux
group. The ThinLinc desktop customizer is configured via a web
interface, part of the ThinLinc Web Administration. <a class="reference internal" href="index.html#tlwebadm"><span class="std std-ref">Administration of ThinLinc using the web administration interface</span></a>
describes the interface in general, this section will describe the
desktop customizer part of it.</p>
<section id="concepts">
<h4>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h4>
<figure class="align-default" id="id2">
<img alt="_images/tl-desktop-customizer-concepts.svg" src="_images/tl-desktop-customizer-concepts.svg" /><figcaption>
<p><span class="caption-number">Fig. 32 </span><span class="caption-text">ThinLinc desktop customizer concepts</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The main concept in the ThinLinc desktop customizer is the <em>application
group</em>. The application group combines data about applications, a menu
structure, Linux groups and users, and some other settings.</p>
<section id="applications">
<span id="tldc-dskcustomizer-applications"></span><h5>Applications<a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h5>
<p>The applications referred to in the application groups are found by
scanning the space-separated list of directories defined in the Hiveconf
parameter <a class="reference internal" href="index.html#server-config-utils-tl-desktop-customizer-xdg_data_dirs"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils/tl-desktop-customizer/xdg_data_dirs</span></code></a> for
files named <code class="file docutils literal notranslate"><span class="pre">*.desktop</span></code>. The files are read according to the
<a class="reference external" href="https://www.freedesktop.org/">Freedesktop.org</a> Desktop Menu Specification. The TLDC scans the
directories in the same way that KDE will do when building the menu.</p>
<p>Some applications are marked by the operating system to be shown only
for root, or in some cases only for specific desktop environments. On
SUSE, there is also a <code class="docutils literal notranslate"><span class="pre">X-SuSE-Unimportant</span></code> parameter in some
<code class="file docutils literal notranslate"><span class="pre">*.desktop</span></code> files, which will make the KDE packaged with SUSE hide
the application. TLDC handles this by adding a comment to the
application in the applications listing, and in the boxes used to select
applications when creating application groups.</p>
<p>In addition to the desktop files automatically found, it is also
possible to manually define applications. This is needed for example
when an application without a <code class="docutils literal notranslate"><span class="pre">*.desktop</span></code>-file has been installed or
when an application has been installed in a non-standard location.</p>
</section>
<section id="menu-structure">
<h5>Menu structure<a class="headerlink" href="#menu-structure" title="Permalink to this headline">¶</a></h5>
<p>Each application group can add applications to a specific place in the
menu structure. The available menu structure is edited in the
<span class="guilabel">Menu structure</span> part of the Web Administration interface.</p>
</section>
<section id="linux-groups-and-users">
<h5>Linux groups and users<a class="headerlink" href="#linux-groups-and-users" title="Permalink to this headline">¶</a></h5>
<p>An application group is used by zero or more Linux groups and by zero or
more specific users. An example would be an educational environment.
Let’s say that all pupils attending the class “biology 4” are members of
the Linux group “bio4”. By creating an application group named “Biology
4” with all applications that are specific to the biology class, and
then adding the “bio4” Linux group as one of the groups that should be
assigned the “Biology 4” application group, all students attending the
class will automatically get the applications specific to the biology
class in their menu. By adding the teacher of the class as a specific
user, he/she as well will also get access to the applications.</p>
</section>
</section>
<section id="id1">
<h4>Using the ThinLinc desktop customizer<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The daily use of the TLDC consists of one or several of the following
steps:</p>
<ul class="simple">
<li><p>Create an application</p></li>
<li><p>Create a folder in the menu structure</p></li>
<li><p>Bind one or several applications to a folder in the menu structure,
using an application group</p></li>
</ul>
<p>In the following sections, we will more thoroughly describe the
different actions that may be needed.</p>
</section>
<section id="handling-applications">
<span id="tldc-applications"></span><h4>Handling applications<a class="headerlink" href="#handling-applications" title="Permalink to this headline">¶</a></h4>
<p>The handling of applications is normally the first step in using the
TLDC. Click on the <span class="guilabel">Applications (manual)</span> link in the TLDC,
and you will enter a view where the applications you’ve defined manually
are listed. Several example applications are included with ThinLinc at
installation. By clicking on the text <span class="guilabel">Applications defined by
system</span>, you can also see what applications are found automatically by
scanning, as described in <a class="reference internal" href="#tldc-dskcustomizer-applications"><span class="std std-ref">Applications</span></a>.</p>
<p>If the application you want to add to a menu or to the desktop is not
found among <span class="guilabel">Applications defined by system</span>, you need to
define it manually. This is the case for applications installed without
adding a <code class="file docutils literal notranslate"><span class="pre">.desktop</span></code> file in the correct location.</p>
<p>Defining applications manually is done by clicking on the button
<span class="guilabel">Add new application</span> (located at the top of the list of
applications). This brings up a pop-up where you can define the
following properties for the new application:</p>
<dl>
<dt><span class="guilabel">Default application name</span></dt><dd><p>This is the name of the application. It’s the name that is written
next to the icon (if any), in the menu, and under the icon if the
application is to be added to the desktop.</p>
<p>The default application name is used if there is no name defined for
the language in use when the application is shown, or if the language
is English.</p>
</dd>
<dt><span class="guilabel">Application name (&lt;language-code&gt;)</span></dt><dd><p>This is the name of the application in the language with the
<span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc1766.html"><strong>RFC 1766</strong></a> language code <strong>&lt;language-code&gt;</strong>. This name is shown if
the locale is set to that language when the menu or desktop is shown.</p>
<p>The languages that should be configurable are set by editing the
space-separated list in the parameter
<a class="reference internal" href="index.html#server-config-utils-tl-desktop-customizer-desktop_languages"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils/tl-desktop-customizer/desktop_languages</span></code></a>. The
default value of this parameter is <code class="docutils literal notranslate"><span class="pre">sv</span></code>, which means that the TLDC
will allow you to set the default name and the name in Swedish.</p>
</dd>
<dt><span class="guilabel">Command</span></dt><dd><p>This specifies the command to run to start the application. Enter the
path to the command followed by any arguments in the
<span class="guilabel">Command</span> box. The input box follows bash syntax rules.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;/usr/bin/my program&quot;</span> --fullscreen --title <span class="s2">&quot;My title&quot;</span>
</pre></div>
</div>
</dd>
<dt><span class="guilabel">Path to icon file</span></dt><dd><p>The filename of the icon for the application. If the icon is
available in one of the directories where your desktop environment
looks for icons, just the filename without the extension can be
given. Otherwise, the complete path must be specified.</p>
</dd>
<dt><span class="guilabel">Enable startup feedback</span></dt><dd><p>Enable the switch to instruct the window manager to show a special
icon while the command is starting. Note that not all applications
support this functionality.</p>
</dd>
</dl>
<p>Press <span class="guilabel">Save</span> when done filling the fields. The application
will now show up among the other manually defined applications.</p>
</section>
<section id="defining-a-menu-structure">
<span id="tldc-define-menustructure"></span><h4>Defining a menu structure<a class="headerlink" href="#defining-a-menu-structure" title="Permalink to this headline">¶</a></h4>
<p>With TLDC, the normal menu structure as defined by the Linux distributor
is not used. Instead, a new menu structure is defined. This gives more
flexibility in designing menus. The TLDC administrator can fully decide
where in the menu structure a certain application is placed.</p>
<p>To define the menu structure, click on the <span class="guilabel">Menu structure</span>
submenu in the left pane of the TLDC administration interface. This
leads to a view where a menu structure can be defined. The root menu
folder is always available and can’t be removed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A menu called <strong>Hidden menu</strong> is shipped with the default ThinLinc
configuration. See <a class="reference internal" href="index.html#tldc-kde-home-icon"><span class="std std-ref">Home icon not working in KDE</span></a> for an explanation of
its functionality. Please don’t remove it if you are planning to use
KDE.</p>
</div>
<p>The following properties can be edited for a menu:</p>
<dl class="simple">
<dt><span class="guilabel">Default menu name</span></dt><dd><p>This is the name of the menu, as it will be shown in the menu.</p>
</dd>
<dt><span class="guilabel">Menu name (&lt;language-code&gt;)</span></dt><dd><p>This is the name of the menu in the language with the <span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc1766.html"><strong>RFC 1766</strong></a>
language code <strong>&lt;language-code&gt;</strong>. This name is shown if the locale
is set to the language at runtime.</p>
</dd>
<dt><span class="guilabel">Path to icon file</span></dt><dd><p>The filename of the icon for the menu, shown to the left of the menu
name in the menu. If the icon is available in one of the directories
where your desktop environment looks for icons, just the filename
without the extension can be given. Otherwise, the complete path must
be specified.</p>
</dd>
<dt><span class="guilabel">Hide this menu</span></dt><dd><p>If this switch is enabled the menu will be a hidden menu. It will not
be shown in the menu. Note that any applications that are added to
this hidden menu via an application group will be available in file
associations on KDE.</p>
</dd>
</dl>
<p>Just as for applications, the name of the menu can be defined in several
languages. The <span class="guilabel">Default menu name</span> is used if no
language-specific name is defined, or if the locale specifies that the
language is English. The list of languages that can be defined using the
TLDC is found in
<a class="reference internal" href="index.html#server-config-utils-tl-desktop-customizer-desktop_languages"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils/tl-desktop-customizer/desktop_languages</span></code></a>.</p>
</section>
<section id="defining-application-groups">
<span id="tldc-define-applications"></span><h4>Defining application groups<a class="headerlink" href="#defining-application-groups" title="Permalink to this headline">¶</a></h4>
<p>Enter the <span class="guilabel">Applications groups</span> part of the desktop
customizer. This will present you with a list of existing application
groups and their settings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An application group called <strong>Hidden</strong> is shipped with the default
ThinLinc configuration. See <a class="reference internal" href="index.html#tldc-kde-home-icon"><span class="std std-ref">Home icon not working in KDE</span></a> for an
explanation of its functionality. Please don’t remove it if you are
planning to use KDE.</p>
</div>
<p>Press the button <span class="guilabel">Add new group</span> (located at the top in the
table of existing application groups) to create a new application group.
This will open a rather large pop-up, where you can define the following
properties:</p>
<dl>
<dt><span class="guilabel">Name of the application group</span></dt><dd><p>This is the name of the application group. This is not displayed to
the users, but only to the system administrator using the ThinLinc
desktop customizer. Set to something that reflects the contents of
the application group.</p>
</dd>
<dt><span class="guilabel">Menu of application group</span></dt><dd><p>A dropdown box for the menu structure folder of the application
group. Applications chosen in the boxes below will be added to the
chosen menu folder.</p>
</dd>
<dt><span class="guilabel">Applications added to menu</span></dt><dd><p>Add to the left box, labeled <span class="guilabel">Selected</span>, the applications
that should appear in the menu folder selected above. This will only
apply for users that are assigned this application group. The right
box, labeled <span class="guilabel">Available</span>, lists applications, both manually
defined and ones found installed on the system. If no applications
are available, applications can be defined, as documented in
<a class="reference internal" href="#tldc-define-applications"><span class="std std-ref">Defining application groups</span></a>.</p>
</dd>
<dt><span class="guilabel">Applications added to desktop</span></dt><dd><p>Add to the left box, labeled <span class="guilabel">Selected</span>, the applications
that should appear as icons on the desktop. This will only apply for
users that are assigned this application group. Just as for
applications added to the menu, only applications earlier defined, or
automatically found, will show up as selectable, in the box labeled
<span class="guilabel">Available</span>.</p>
</dd>
<dt><span class="guilabel">Linux groups with this application group</span></dt><dd><p>This is where you map Linux groups to application groups. If for
example a specific school should be assigned an application group,
and all the pupils of that school are members of the Linux group
“school-1”, using the right text box, add the Linux group “school-1”
to the left box, labeled <span class="guilabel">Selected</span>. When logging in, the
group memberships of each user is inspected to determine which
application groups to assign to the user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mapping between the numerical group id and the group name
doesn’t work, the group is shown as <code class="samp docutils literal notranslate"><span class="pre">#</span><em><span class="pre">&lt;gid&gt;</span></em></code>. This might
be because the group has been removed from the system, or because
the operating system has problems in the connection to the
directory service used.</p>
</div>
</dd>
<dt><span class="guilabel">Specific users with this application group</span></dt><dd><p>This parameter allows you to decide if specific users should be
assigned this application group as well, even if they are not a
member of one of the groups that were added above. This way, for very
specialized applications, no Linux group needs to be created. Another
way of using this field would be that the teachers of a specific
class could be added to the application group for that class, if the
teachers are not part of the Linux group that is associated with the
class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mapping between the numerical user id and the user name
doesn’t work, the user is shown as <code class="samp docutils literal notranslate"><span class="pre">#</span><em><span class="pre">&lt;uid&gt;</span></em></code>. This might be
because the user has been removed from the system, or because the
operating system has problems in the connection to the directory
service used.</p>
</div>
</dd>
<dt><span class="guilabel">ThinLinc profiles with this application group</span></dt><dd><p>This setting allows you to connect the application group to ThinLinc
profiles as documented in <a class="reference internal" href="index.html#configuration-profiles-xstartup"><span class="std std-ref">Profiles and the standard xstartup.default file</span></a>.
This allows for different application groups to be selected based on
user input after login.</p>
</dd>
<dt><span class="guilabel">Shell command activating this application group</span></dt><dd><p>This setting allows you to activate application groups based on the
return value of an arbitrary command. If the command returns 0 (which
is the standard return code for success for shell commands), the
application group will be activated.</p>
<p>This can be used for example to activate application groups based on
group membership by using the <strong class="program">tl-memberof-group</strong> command.
It can also be used to activate an application group for all users by
running <strong class="command">/bin/true</strong> as activation command.</p>
<p>The command is run via the shell in the current user’s environment
when running <strong class="program">tl-desktop-activate.sh</strong>. The environment
variable <span class="sig sig-inline environ">TLDCGROUP</span> is set to the application group
currently under consideration for activation.</p>
</dd>
<dt><span class="guilabel">Save!</span></dt><dd><p>Don’t forget to press the <span class="guilabel">Save</span> button, or none of the
changes will be written to the database.</p>
</dd>
</dl>
</section>
<section id="distribute-configuration-to-all-agent-hosts">
<h4>Distribute configuration to all agent hosts<a class="headerlink" href="#distribute-configuration-to-all-agent-hosts" title="Permalink to this headline">¶</a></h4>
<p>After doing changes to the desktop configuration, the new configuration
must be copied to all VSM agent hosts. The files/directories to be
copied are <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tl-desktop-customizer.hconf</span></code>
and all subdirectories of <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/desktops</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the <strong class="program">tl-rsync-all</strong> command as described in
<a class="reference internal" href="index.html#commands"><span class="std std-ref">Commands on the ThinLinc server</span></a> to copy the files.</p>
</div>
</section>
</section>
<span id="document-tldc_enabling"></span><section id="enabling-the-custom-desktops-for-users">
<span id="tldc-enabling"></span><h3>Enabling the custom desktops for users<a class="headerlink" href="#enabling-the-custom-desktops-for-users" title="Permalink to this headline">¶</a></h3>
<p>Enabling the Custom Desktops for users is easy. Simply create a symbolic
link in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/xstartup.d</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /opt/thinlinc/bin/tl-desktop-activate.sh
<span class="go">   /opt/thinlinc/etc/xstartup.d/35-tl-desktop-activate.sh</span>
</pre></div>
</div>
<p>The ThinLinc session startup will read this file and write a
<code class="file docutils literal notranslate"><span class="pre">~/.config/menus/applications.menu</span></code> (and possibly create symbolic
links under <code class="file docutils literal notranslate"><span class="pre">~/.kde/share/apps/kdesktop/Desktop</span></code> if you’re using
KDE).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The TLDC activation script only runs TLDC for non-root users. Test
your TLDC configuration using a normal user.</p>
</div>
</section>
<span id="document-tldc_tips"></span><section id="tips-tricks-with-tldc">
<h3>Tips &amp; tricks with TLDC<a class="headerlink" href="#tips-tricks-with-tldc" title="Permalink to this headline">¶</a></h3>
<section id="unwanted-icons-on-the-desktop-with-kde">
<span id="tldc-unwanted-icons"></span><h4>Unwanted icons on the desktop with KDE<a class="headerlink" href="#unwanted-icons-on-the-desktop-with-kde" title="Permalink to this headline">¶</a></h4>
<p>At first login for each user, KDE copies files from
<code class="file docutils literal notranslate"><span class="pre">/usr/share/apps/kdesktop/DesktopLinks</span></code> to the <code class="file docutils literal notranslate"><span class="pre">Desktop</span></code>
directory of the user. This means that if there is a <code class="file docutils literal notranslate"><span class="pre">Home</span> <span class="pre">Icon</span></code>
in <code class="file docutils literal notranslate"><span class="pre">DesktopLinks</span></code> and you add a <code class="file docutils literal notranslate"><span class="pre">Home</span> <span class="pre">Icon</span></code> via TLDC, there
will be two <code class="file docutils literal notranslate"><span class="pre">Home</span> <span class="pre">Icon</span></code>.</p>
<p>Remove the contents of <code class="file docutils literal notranslate"><span class="pre">/usr/share/apps/kdesktop/DesktopLinks</span></code> to
solve the problem, and let TLDC be the sole provider of icons on the
desktop.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your KDE is based somewhere else than under <code class="file docutils literal notranslate"><span class="pre">/usr</span></code>, the
<code class="file docutils literal notranslate"><span class="pre">DesktopLinks</span></code> directory will be situated elsewhere. For
example, on SUSE, KDE is based at <code class="file docutils literal notranslate"><span class="pre">/opt/kde3</span></code>.</p>
</div>
</section>
<section id="file-associations-in-kde-for-applications-not-in-the-menu">
<span id="tldc-file-associations"></span><h4>File associations in KDE for applications not in the menu<a class="headerlink" href="#file-associations-in-kde-for-applications-not-in-the-menu" title="Permalink to this headline">¶</a></h4>
<p>When KDE tries to determine what application to use for opening a
specific file, it is only looking for applications that are available in
the menu. There are cases where not all applications that may be used
for opening files are meant to be available in the menu.</p>
<p>In this case, create a hidden menu by setting <span class="guilabel">Hide this menu</span>
to <span class="guilabel">Yes</span> in the menu structure editor, and then create an
application group that adds the applications that should be available
for file associations in to this menu.</p>
</section>
<section id="home-icon-not-working-in-kde">
<span id="tldc-kde-home-icon"></span><h4>Home icon not working in KDE<a class="headerlink" href="#home-icon-not-working-in-kde" title="Permalink to this headline">¶</a></h4>
<p>This is a case of the problem above where file associations are not
working. Create an application group that includes the Konqueror
(“kde-kfmclient_dir”) application in a hidden menu, and make sure this
application group is added for all relevant users, and the home icon
will work again.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A menu named <strong>Hidden Menu</strong> is created by the application group
<strong>Hidden</strong> which is by default activated for the Profile <strong>kde</strong>.
This menu contains <strong>kde-kcmclient_dir</strong> to make sure the home icon
is working. Make sure this application group is activated for all
users with a desktop based on KDE.</p>
</div>
</section>
</section>
</div>
</section>
</div>
<div class="toctree-wrapper compound" id="toc-appendixes">
<span id="document-commands"></span><section id="commands-on-the-thinlinc-server">
<span id="commands"></span><h2>Commands on the ThinLinc server<a class="headerlink" href="#commands-on-the-thinlinc-server" title="Permalink to this headline">¶</a></h2>
<p>In this chapter, we will describe the commands shipped as part of the
ThinLinc server that are meant for the end users or the system
administrators.</p>
<p>User commands:</p>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#document-man/tl-config.1"><span class="doc">tl-config</span></a> — command-line interface to ThinLinc
configuration</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-desktop-restore.1"><span class="doc">tl-desktop-restore</span></a> — reset GNOME and KDE configuration</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-disconnect.1"><span class="doc">tl-disconnect</span></a> — disconnect from a ThinLinc session</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-env.1"><span class="doc">tl-env</span></a> — run command with a ThinLinc session
environment</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-memberof-group.1"><span class="doc">tl-memberof-group</span></a> — determine group membership of
calling user</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-mount-localdrives.1"><span class="doc">tl-mount-localdrives</span></a> — mount ThinLinc client local
drives</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-session-param.1"><span class="doc">tl-session-param</span></a> — get ThinLinc session information</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-single-app.1"><span class="doc">tl-single-app</span></a> — run a single application in full screen</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-sso-password.1"><span class="doc">tl-sso-password</span></a> — get single sign-on password</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-sso-token-passphrase.1"><span class="doc">tl-sso-token-passphrase</span></a> — get single sign-on token
passphrase</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-sso-update-password.1"><span class="doc">tl-sso-update-password</span></a> — ask user for a single sign-on
password</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-umount-localdrives.1"><span class="doc">tl-umount-localdrives</span></a> — unmounts ThinLinc client local
drives</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-while-x11.1"><span class="doc">tl-while-x11</span></a> — run program during ThinLinc session
lifetime</p></li>
</ul>
<p>Administrator commands:</p>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#document-man/tlctl.8"><span class="doc">tlctl</span></a> — control a ThinLinc cluster</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tlctl-load.8"><span class="doc">tlctl load</span></a> — cluster load information</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tlctl-session.8"><span class="doc">tlctl session</span></a> — session handling</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-gen-auth.8"><span class="doc">tl-gen-auth</span></a> — generate a ThinLinc password hash</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-ldap-certalias.8"><span class="doc">tl-ldap-certalias</span></a> — update local certificate
authentication from LDAP</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-notify.8"><span class="doc">tl-notify</span></a> — send a message to all ThinLinc sessions</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-rsync-all.8"><span class="doc">tl-rsync-all</span></a> — synchronize files across all ThinLinc
agents</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-setup.8"><span class="doc">tl-setup</span></a> — configure the ThinLinc server</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-show-licenses.8"><span class="doc">tl-show-licenses</span></a> — show ThinLinc user licenses</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-ssh-all.8"><span class="doc">tl-ssh-all</span></a> — run a command on all ThinLinc agents</p></li>
<li><p><a class="reference internal" href="index.html#document-man/tl-support.8"><span class="doc">tl-support</span></a> — give ThinLinc support remote access</p></li>
</ul>
<div class="toctree-wrapper compound">
<span id="document-man/tl-config.1"></span><section id="tl-config">
<h3>tl-config<a class="headerlink" href="#tl-config" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-config</strong> [<em>options</em>] &lt;<em>parameter</em>&gt;[<strong>=</strong><em>value</em>] …</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-config</strong> command is used to access configuration
parameters used by the ThinLinc system. It is also used to set
parameters from scripts, and can be used instead of an editor when some
parameter needs to be changed. <strong class="program">tl-config</strong> uses
<strong class="program">hivetool</strong>, part of the Hiveconf system. See <a class="reference internal" href="index.html#hiveconf"><span class="std std-ref">Hiveconf</span></a>
for more information about Hiveconf.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-a">
<span id="cmdoption-all-entries"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--all-entries</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all parameters and folders in the given folder.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-i">
<span id="cmdoption-import"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--import</span></span><span class="sig-prename descclassname"><span class="pre">=file</span></span><a class="headerlink" href="#cmdoption-i" title="Permalink to this definition">¶</a></dt>
<dd><p>Import all parameters in <em>file</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-p">
<span id="cmdoption-purge"></span><span class="sig-name descname"><span class="pre">-p</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--purge</span></span><span class="sig-prename descclassname"><span class="pre">=file</span></span><a class="headerlink" href="#cmdoption-p" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove parameters in <em>file</em> which exists elsewhere.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-R">
<span id="cmdoption-r"></span><span id="cmdoption-recursive"></span><span class="sig-name descname"><span class="pre">-R</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--recursive</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-R" title="Permalink to this definition">¶</a></dt>
<dd><p>When using <code class="docutils literal notranslate"><span class="pre">-a</span></code>, ascend folders recursively.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-e">
<span id="cmdoption-eval"></span><span class="sig-name descname"><span class="pre">-e</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--eval</span></span><span class="sig-prename descclassname"><span class="pre">=VAR=parameter</span></span><a class="headerlink" href="#cmdoption-e" title="Permalink to this definition">¶</a></dt>
<dd><p>Print parameter value in format suitable for assignment to shell
variable via evaluation.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-E">
<span class="sig-name descname"><span class="pre">-E</span></span><span class="sig-prename descclassname"> <span class="pre">folder</span></span><a class="headerlink" href="#cmdoption-E" title="Permalink to this definition">¶</a></dt>
<dd><p>As <code class="docutils literal notranslate"><span class="pre">-e</span></code> but print all variables in specified folder.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-x">
<span id="cmdoption-export"></span><span class="sig-name descname"><span class="pre">-x</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--export</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-x" title="Permalink to this definition">¶</a></dt>
<dd><p>When using <code class="docutils literal notranslate"><span class="pre">-e</span></code>, <code class="docutils literal notranslate"><span class="pre">--eval</span></code>, or <code class="docutils literal notranslate"><span class="pre">-E</span></code>, also export
the variables.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Print all values in root, recursively:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-config -Ra /
</pre></div>
</div>
<p>Set <a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a> to <code class="docutils literal notranslate"><span class="pre">agent.example.com</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-config /vsmagent/agent_hostname<span class="o">=</span>agent.example.com
</pre></div>
</div>
<p>Print value of <a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-config /vsmagent/agent_hostname
<span class="go">agent.example.com</span>
</pre></div>
</div>
<p>Set environment variable <span class="sig sig-inline environ">AGENTNAME</span> to value of
<a class="reference internal" href="index.html#server-config-vsmagent-agent_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/agent_hostname</span></code></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">eval</span> <span class="k">$(</span>tl-config -e <span class="nv">AGENTNAME</span><span class="o">=</span>/vsmagent/agent_hostname<span class="k">)</span>
</pre></div>
</div>
<p>Set all variables in <a class="reference internal" href="index.html#server-config-vsmagent-default_environment"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/default_environment</span></code></a> as
environment variables:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">eval</span> <span class="k">$(</span>tl-config -E /vsmagent/default_environment/<span class="k">)</span>
</pre></div>
</div>
</section>
</section>
<span id="document-man/tl-desktop-restore.1"></span><section id="tl-desktop-restore">
<h3>tl-desktop-restore<a class="headerlink" href="#tl-desktop-restore" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-desktop-restore</strong></p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>When a user’s Gnome or KDE desktop needs to be reset to default, the
command <strong class="program">tl-desktop-restore</strong> can be run. This will move the
settings directories for KDE and Gnome to a backup directory named
<code class="file docutils literal notranslate"><span class="pre">~/.old-thinlinc-desktop</span></code> in the user’s home directory, which will
make both Gnome and KDE revert to the default settings.</p>
</section>
</section>
<span id="document-man/tl-disconnect.1"></span><section id="tl-disconnect">
<h3>tl-disconnect<a class="headerlink" href="#tl-disconnect" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-disconnect</strong></p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tl-disconnect</strong> allows a user to disconnect their ThinLinc
client from their ThinLinc session by running a console command. The
ThinLinc session will be kept on the server, waiting for the user to
reconnect. This command needs to be run from inside a ThinLinc session.</p>
</section>
</section>
<span id="document-man/tl-env.1"></span><section id="tl-env">
<h3>tl-env<a class="headerlink" href="#tl-env" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-env</strong> [<em>options</em>] &lt;<em>command</em>&gt; [<em>args</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-env</strong> can be used to run a user provided command in a ThinLinc
session. This can even be done from outside the session itself. It does
so by temporarily restoring the session environment before executing the
command. It operates on the file <code class="file docutils literal notranslate"><span class="pre">xstartup.env</span></code> in the session
directory.</p>
<p>During restore, the option <code class="docutils literal notranslate"><span class="pre">--skip-display</span></code> can be used to
exclude the <span class="sig sig-inline environ">DISPLAY</span> environment variable.</p>
<p>By default, <strong>tl-env</strong> operates on the <em>last</em> session number for the
invoking user. An alternative session number can be specified with the
<code class="docutils literal notranslate"><span class="pre">--session-number</span></code> option.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-d">
<span id="cmdoption-skip-display"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--skip-display</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-d" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not restore <span class="sig sig-inline environ">DISPLAY</span>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-n">
<span id="cmdoption-session-number"></span><span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"> <span class="pre">nr</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--session-number</span></span><span class="sig-prename descclassname"><span class="pre">=nr</span></span><a class="headerlink" href="#cmdoption-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Use specified session number. The default is “last”.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
</section>
<span id="document-man/tl-memberof-group.1"></span><section id="tl-memberof-group">
<h3>tl-memberof-group<a class="headerlink" href="#tl-memberof-group" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-memberof-group</strong> &lt;<em>groupname</em>&gt; [<em>groupname</em>…]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tl-memberof-group</strong> can be used to determine if the current
user is a member of the specified groups.</p>
</section>
<section id="exit-status">
<h4>Exit status<a class="headerlink" href="#exit-status" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt>0</dt><dd><p>The executing user is a member of any of the given groups.</p>
</dd>
<dt>1</dt><dd><p>The executing user is not a member of any of the groups.</p>
</dd>
<dt>2</dt><dd><p>One or more of the specified groups cannot be found.</p>
</dd>
</dl>
</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Is the user a member of the root group?</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-memberof-group root
</pre></div>
</div>
<p>Is the user member of the sysadmin or techsupport groups?</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-memberof-group sysadmin techsupport
</pre></div>
</div>
</section>
</section>
<span id="document-man/tl-mount-localdrives.1"></span><section id="tl-mount-localdrives">
<h3>tl-mount-localdrives<a class="headerlink" href="#tl-mount-localdrives" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-mount-localdrives</strong> [<em>options</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-mount-localdrives</strong> command is used to mount the
exported local drives from the ThinLinc client in the current session.
The drives will be mounted below <code class="file docutils literal notranslate"><span class="pre">$TLSESSIONDATA/drives</span></code>. A
symbolic link called <code class="file docutils literal notranslate"><span class="pre">thindrives</span></code> will be created in the user’s
home directory, pointing to this directory.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-v">
<span id="cmdoption-verbose"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Print more details about what actions are taken.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h4>
<p>When using multiple sessions per user, the <code class="file docutils literal notranslate"><span class="pre">~/thindrives</span></code> link
will point to the newest session that executed
<strong class="program">tl-mount-localdrives</strong>.</p>
</section>
<section id="see-also">
<h4>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tl-umount-localdrives</strong>(1)</p>
</section>
</section>
<span id="document-man/tl-session-param.1"></span><section id="tl-session-param">
<h3>tl-session-param<a class="headerlink" href="#tl-session-param" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-session-param</strong> [<em>options</em>] &lt;<em>parameter</em>&gt;</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-session-param</strong> command is used to access the session
information managed by the master. This includes information sent by the
client, such as if the client has exported any local drives, or what
language is set on the client side.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-a">
<span id="cmdoption-all-entries"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--all-entries</span></span><span class="sig-prename descclassname"><span class="pre">=FOLDER</span></span><a class="headerlink" href="#cmdoption-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all parameters and values in a folder.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-e">
<span id="cmdoption-eval"></span><span class="sig-name descname"><span class="pre">-e</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--eval</span></span><span class="sig-prename descclassname"><span class="pre">=VAR=parameter</span></span><a class="headerlink" href="#cmdoption-e" title="Permalink to this definition">¶</a></dt>
<dd><p>Print parameter value in a format suitable for assignment to a shell
variable, via evaluation.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Print all the top-level session information:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-session-param -a /
</pre></div>
</div>
<p>Set <span class="sig sig-inline environ">LANG</span> to the client’s language:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-session-param -e <span class="nv">LANG</span><span class="o">=</span>/client_params/capabilities/client_lang
</pre></div>
</div>
<p>Print the client’s IP address:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-session-param /client_ip
</pre></div>
</div>
</section>
</section>
<span id="document-man/tl-single-app.1"></span><section id="tl-single-app">
<h3>tl-single-app<a class="headerlink" href="#tl-single-app" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-single-app</strong> &lt;<em>command</em>&gt; [<em>args</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-single-app</strong> command can be used to execute a single
application in a ThinLinc session. A window manager with a suitable
configuration is automatically started. All top-level windows are
automatically maximized. Window titles are displayed in the title bar of
the ThinLinc client, not in the ThinLinc session. The client close
button will disconnect the session as usual. Inner close buttons
closes application windows. The <strong class="program">tl-single-app</strong> command can be
specified as a client supplied start program (see
<a class="reference internal" href="index.html#configuration-start-program"><span class="std std-ref">Session startup with a client supplied start program</span></a>), or used with the ThinLinc profile
selector (see <a class="reference internal" href="index.html#configuration-config-profiles"><span class="std std-ref">Configuring available profiles</span></a>).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the application opens multiple top-level windows, you can switch
between them by clicking on the application icon in the top-left
corner.</p>
</div>
</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Start Firefox via tl-single-app:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-single-app firefox
</pre></div>
</div>
</section>
</section>
<span id="document-man/tl-sso-password.1"></span><section id="tl-sso-password">
<h3>tl-sso-password<a class="headerlink" href="#tl-sso-password" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-sso-password</strong> [<em>options</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-sso-password</strong> command can be used to hook up the single
sign-on mechanism of ThinLinc with new applications. It can be used to
test for the presence of a valid password and to feed that password out
on standard output to another application.</p>
<p>To check for the existence of a valid password, invoke the command as
<code class="docutils literal notranslate"><span class="pre">tl-sso-password</span> <span class="pre">--check</span></code>. A return code of zero indicates a
valid password.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">--remove</span></code> option is specified, the password will be
removed, after the retrieval or check.</p>
<p>There are two basic models to connect <strong class="program">tl-sso-password</strong> to an
application. The first is to use shell pipes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-sso-password <span class="p">|</span> /usr/bin/application --read-password-on-stdin
</pre></div>
</div>
<p>The second is to have the application invoke <strong class="program">tl-sso-password</strong>
as needed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>/usr/bin/application --password-prog tl-sso-password
</pre></div>
</div>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-c">
<span id="cmdoption-check"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--check</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 0 if password is available, instead of fetch.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-r">
<span id="cmdoption-remove"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--remove</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-r" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the password after fetch or check.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
<section id="see-also">
<h4>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tl-sso-token-passphrase</strong>(1)</p>
</section>
</section>
<span id="document-man/tl-sso-token-passphrase.1"></span><section id="tl-sso-token-passphrase">
<h3>tl-sso-token-passphrase<a class="headerlink" href="#tl-sso-token-passphrase" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-sso-token-passphrase</strong> [<em>options</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>This command is identical to <strong class="program">tl-sso-password</strong>(1), except
that it uses the smart card token passphrase (PIN) instead of the user’s
password. For usage, see the <strong class="program">tl-sso-password</strong>(1) page.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-c">
<span id="cmdoption-check"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--check</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 0 if token passphrase is available, instead of fetch.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-r">
<span id="cmdoption-remove"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--remove</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-r" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the token passphrase after fetch or check.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
<section id="see-also">
<h4>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tl-sso-password</strong>(1)</p>
</section>
</section>
<span id="document-man/tl-sso-update-password.1"></span><section id="tl-sso-update-password">
<h3>tl-sso-update-password<a class="headerlink" href="#tl-sso-update-password" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-sso-update-password</strong></p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>This command requests a password from the user, to be used with the
single sign-on mechanism of ThinLinc. It is useful when the password is
not already available, for example, when using one-time passwords. See
<a class="reference internal" href="index.html#authentication-securid"><span class="std std-ref">Configuration for RSA SecurID</span></a> for more information.</p>
</section>
</section>
<span id="document-man/tl-umount-localdrives.1"></span><section id="tl-umount-localdrives">
<h3>tl-umount-localdrives<a class="headerlink" href="#tl-umount-localdrives" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-umount-localdrives</strong> [<em>options</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-umount-localdrives</strong> command is used to unmount local
drives previously set up by <strong class="program">tl-mount-localdrives</strong>(1). By
default it only unmounts the local drives for the current session, but
it can also unmount the local drives for all of the user’s sessions by
specifying <code class="docutils literal notranslate"><span class="pre">-s</span></code>, or all local drives for all users on the
current agent by specifying <code class="docutils literal notranslate"><span class="pre">-a</span></code>.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-a">
<span id="cmdoption-all-users"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--all-users</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmount all shared local drives for all users on this server (root
required).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-l">
<span id="cmdoption-no-adjust-symlink"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--no-adjust-symlink</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-l" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not update the <code class="file docutils literal notranslate"><span class="pre">~/thindrives</span></code> link when unmounting
file systems.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-s">
<span id="cmdoption-all-sessions"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--all-sessions</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmount all shared local drives for the current user on this server.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-v">
<span id="cmdoption-verbose"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Print more details about what actions are taken.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h4>
<p>When using multiple sessions per user, the <code class="file docutils literal notranslate"><span class="pre">~/thindrives</span></code> link
will point to the newest session that executed
<strong class="program">tl-mount-localdrives</strong>(1). <strong class="program">tl-umount-localdrives</strong>
will restore the link to the newest session which is not newer than the
current session and which has mounted local drives.</p>
</section>
<section id="see-also">
<h4>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tl-mount-localdrives</strong>(1)</p>
</section>
</section>
<span id="document-man/tl-while-x11.1"></span><section id="tl-while-x11">
<h3>tl-while-x11<a class="headerlink" href="#tl-while-x11" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-while-x11</strong> &lt;<em>command</em>&gt; [<em>args</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The program <strong class="program">tl-while-x11</strong> runs the command specified by
<em>command</em> and terminates it when the X11 server exits. The arguments
specified by <em>args</em> become the arguments to <em>command</em>.</p>
</section>
</section>
<span id="document-man/tlctl.8"></span><section id="tlctl">
<h3>tlctl<a class="headerlink" href="#tlctl" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tlctl</strong> [<em>options</em>] &lt;<em>command</em>&gt; [<em>args</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tlctl</strong> can be used to inspect and control the state of a
ThinLinc cluster. Note that this command only works when executed on a
master machine in the ThinLinc cluster.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
<section id="commands">
<h4>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt><strong class="program">tlctl-load</strong>(8)</dt><dd><p>Show cluster load information.</p>
</dd>
<dt><strong class="program">tlctl-session</strong>(8)</dt><dd><p>Manage sessions.</p>
</dd>
</dl>
</section>
</section>
<span id="document-man/tlctl-load.8"></span><section id="tlctl-load">
<h3>tlctl load<a class="headerlink" href="#tlctl-load" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tlctl load</strong> [<em>options</em>] &lt;<em>command</em>&gt; [<em>args</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tlctl load</strong> displays the current load status of the ThinLinc
cluster, as currently measured by ThinLinc. It can be used to get a
quick overview of the health of the system, or to help debug unexpected
load balancing decisions.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

</section>
<section id="commands">
<h4>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h4>
<dl>
<dt><strong>list</strong> [<em>options</em>]</dt><dd><p>List the basic load numbers for all agents in the cluster, with
subcluster association displayed if multiple subclusters exist.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sort">
<span class="sig-name descname"><span class="pre">--sort</span></span><span class="sig-prename descclassname"><span class="pre">=HEADER</span></span><a class="headerlink" href="#cmdoption-sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the list of agents specified by <em>HEADER</em>. The default is
“AGENT”. Available headers are found in the list below.</p>
</dd></dl>

<p>Definition of command output:</p>
<dl class="simple">
<dt>AGENT</dt><dd><p>Agent names.</p>
</dd>
<dt>USERS</dt><dd><p>Total numbers of unique users on the agent (not only users
running ThinLinc sessions).</p>
</dd>
<dt>MEM</dt><dd><p>Aggregated RAM and swap memory used.</p>
</dd>
<dt>CPU</dt><dd><p>Aggregated CPU used over all available CPUs.</p>
</dd>
<dt>RATING</dt><dd><p>Quantification of agent capacity for additional sessions, where
for instance 10.0 rating corresponds to approximately 10
additional sessions.</p>
</dd>
</dl>
</dd>
<dt><strong>show</strong> &lt;<em>AGENT</em>&gt;</dt><dd><p>Show all load information for the agent specified by <em>AGENT</em>.</p>
<p>Definition of command output:</p>
<dl class="simple">
<dt>Subclusters</dt><dd><p>All the subclusters the agent is associated with. This line is
printed if there exists multiple subclusters, regardless if the
agent in question is associated with one or more subclusters.</p>
</dd>
<dt>ThinLinc users</dt><dd><p>Number of users on the agent running one or more ThinLinc
sessions.</p>
</dd>
<dt>Total number of users</dt><dd><p>Total numbers of unique users on the agent (not only users
running ThinLinc sessions).</p>
</dd>
<dt>Memory (used RAM+swap)</dt><dd><p>Aggregated RAM and swap memory used.</p>
</dd>
<dt>RAM (used/total)</dt><dd><p>Used RAM / total RAM.</p>
</dd>
<dt>Swap (used/total)</dt><dd><p>Used swap memory / total swap memory.</p>
</dd>
<dt>Load (1 min)</dt><dd><p>CPU load 1-minute average.</p>
</dd>
<dt>Number of CPUs</dt><dd><p>Number of available CPUs.</p>
</dd>
<dt>CPU</dt><dd><p>Aggregated CPU used over all available CPUs.</p>
</dd>
<dt>Bogomips</dt><dd><p>Computational capacity.</p>
</dd>
<dt>Rating</dt><dd><p>Quantification of agent capacity for additional sessions, where
for instance 10.0 rating corresponds to approximately 10
additional sessions.</p>
</dd>
<dt>Penalty points</dt><dd><p>Received e.g. when the agent is slow to respond or when
additional users connect, which directly affects the rating
of the agent.</p>
</dd>
<dt>Last updated</dt><dd><p>Timestamp of content update.</p>
</dd>
</dl>
</dd>
</dl>
</section>
</section>
<span id="document-man/tlctl-session.8"></span><section id="tlctl-session">
<h3>tlctl session<a class="headerlink" href="#tlctl-session" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tlctl session</strong> [<em>options</em>] &lt;<em>command</em>&gt; [<em>args</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">tlctl session</strong> can be used to inspect and control sessions in
the ThinLinc cluster.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

</section>
<section id="commands">
<h4>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h4>
<dl>
<dt><strong>list</strong> [<em>options</em>]</dt><dd><p>List the currently running sessions in the ThinLinc cluster. If no
options are specified then all sessions will be listed. Multiple
options can be combined to further restrict which sessions will be
listed.</p>
<p>Note that the listed information only is updated periodically, and
hence it is possible for e.g. the session’s status to be slightly
outdated at times.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-agent">
<span class="sig-name descname"><span class="pre">--agent</span></span><span class="sig-prename descclassname"><span class="pre">=AGENT</span></span><a class="headerlink" href="#cmdoption-agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Only show the sessions running on <em>AGENT</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-display">
<span class="sig-name descname"><span class="pre">--display</span></span><span class="sig-prename descclassname"><span class="pre">=DISPLAY</span></span><a class="headerlink" href="#cmdoption-display" title="Permalink to this definition">¶</a></dt>
<dd><p>Only show the sessions with display id <em>DISPLAY</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-subcluster">
<span class="sig-name descname"><span class="pre">--subcluster</span></span><span class="sig-prename descclassname"><span class="pre">=SUBCLUSTER</span></span><a class="headerlink" href="#cmdoption-subcluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Only show the sessions running in <em>SUBCLUSTER</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-user">
<span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"><span class="pre">=USERNAME</span></span><a class="headerlink" href="#cmdoption-user" title="Permalink to this definition">¶</a></dt>
<dd><p>Only show the sessions belonging to <em>USERNAME</em>.</p>
</dd></dl>

</dd>
<dt><strong>terminate</strong> [<em>options</em>]</dt><dd><p>Terminate one or more sessions in the ThinLinc cluster. At least one
option must be given specifying with sessions to terminate. Multiple
options can be combined to further restrict which sessions will be
terminated.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">--allow-abandon</span></code> option is specified, in addition to
terminating reachable sessions, unreachable sessions will be
abandoned. When a session is abandoned, the master will stop tracking
it which may leave stray processes on the associated agent machine.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-0">
<span class="sig-name descname"><span class="pre">--agent</span></span><span class="sig-prename descclassname"><span class="pre">=AGENT</span></span><a class="headerlink" href="#cmdoption-0" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate all sessions running on <em>AGENT</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-all">
<span class="sig-name descname"><span class="pre">--all</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-all" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate all sessions in the ThinLinc cluster.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-allow-abandon">
<span class="sig-name descname"><span class="pre">--allow-abandon</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-allow-abandon" title="Permalink to this definition">¶</a></dt>
<dd><p>Also abandon sessions that are unreachable and thus cannot be
terminated.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-1">
<span class="sig-name descname"><span class="pre">--display</span></span><span class="sig-prename descclassname"><span class="pre">=DISPLAY</span></span><a class="headerlink" href="#cmdoption-1" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate all sessions with display id <em>DISPLAY</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-2">
<span class="sig-name descname"><span class="pre">--subcluster</span></span><span class="sig-prename descclassname"><span class="pre">=SUBCLUSTER</span></span><a class="headerlink" href="#cmdoption-2" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate all sessions running in <em>SUBCLUSTER</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-3">
<span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"><span class="pre">=USERNAME</span></span><a class="headerlink" href="#cmdoption-3" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate all sessions belonging to <em>USERNAME</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-y">
<span id="cmdoption-assume-yes"></span><span class="sig-name descname"><span class="pre">-y</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--assume-yes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-y" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically answer yes for all questions.</p>
</dd></dl>

</dd>
</dl>
</section>
</section>
<span id="document-man/tl-gen-auth.8"></span><section id="tl-gen-auth">
<h3>tl-gen-auth<a class="headerlink" href="#tl-gen-auth" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-gen-auth</strong> [<em>password</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-gen-auth</strong> command can be used to generate a password
hash for ThinLinc Web Administration. The generated hash should be
stored in the setting <a class="reference internal" href="index.html#server-config-tlwebadm-password"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/tlwebadm/password</span></code></a>.</p>
<p><strong class="program">tl-gen-auth</strong> will prompt for a password if <em>password</em> is not
specified on the command line.</p>
</section>
</section>
<span id="document-man/tl-ldap-certalias.8"></span><section id="tl-ldap-certalias">
<h3>tl-ldap-certalias<a class="headerlink" href="#tl-ldap-certalias" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-ldap-certalias</strong> [<em>options</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-ldap-certalias</strong> command can automatically update the
local databases needed for smart card public key authentication,
provided the system uses the OpenSSH server (or any SSH server that uses
a compatible format and location for authorized public keys) and
standards compliant LDAP servers where users and certificates are
stored.</p>
<p>The <strong class="program">tl-ldap-certalias</strong> command can also perform validation of
certificates it finds in LDAP databases. Read more about this in
<a class="reference internal" href="#certalias-validation"><span class="std std-ref">Certificate validation</span></a>.</p>
<ul class="simple">
<li><p>On invocation, a list of all users and matching certificates is
gathered. How is determined by the <a class="reference internal" href="index.html#server-config-utils-tl-ldap-certalias-certificate_user_match"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">certificate_user_match</span></code></a>
configuration variable. If <a class="reference internal" href="index.html#server-config-utils-tl-ldap-certalias-allow_invalid_certificates"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">allow_invalid_certificates</span></code></a> is no, only
matching valid certificates will be gathered.</p>
</li>
<li><p>The user’s home directory, as well as the <code class="file docutils literal notranslate"><span class="pre">~/.ssh</span></code> directory,
are created if they are required and do not already exist.
<strong class="program">tl-ldap-certalias</strong> reuses the
<a class="reference internal" href="index.html#server-config-vsmagent-make_homedir_mode"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/make_homedir_mode</span></code></a> configuration variable from
vsmagent for determining the default permissions of newly created
home directories.</p></li>
<li><p>Any old public keys added by <strong class="program">tl-ldap-certalias</strong> are removed
from the <code class="file docutils literal notranslate"><span class="pre">~/.ssh/authorized_keys</span></code> file and the keys from the
current set of certificates are added.</p></li>
<li><p>The file <code class="file docutils literal notranslate"><span class="pre">/etc/passwdaliases</span></code> is updated with a list of subject
names and user id:s, to allow for login without usernames. See
<a class="reference internal" href="index.html#smartcard-auto"><span class="std std-ref">Automatic connection</span></a> for more information.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It should be noted that any custom entries in
<code class="file docutils literal notranslate"><span class="pre">~/.ssh/authorized_keys</span></code> will be retained, but custom changes
to <code class="file docutils literal notranslate"><span class="pre">/etc/passwdaliases</span></code> will be overwritten each time
<strong class="program">tl-ldap-certalias</strong> is run.</p>
</div>
<p>After deployment, <strong class="program">tl-ldap-certalias</strong> is meant to be run from
cron at regular intervals, for example every 15 minutes. This makes sure
that the ThinLinc system automatically keeps all user certificates
updated. However, please note that if you’re using certificate
validation, downloading and parsing certificate revocation lists may
take a long time (up to 5 minutes each). This is mitigated by caching
the data from the CRLs, but the first run, and whenever the CRL needs
to be updated, may take a long time. Thus, if you have certificates from
a lot of different certificate authorities, don’t run
<strong class="program">tl-ldap-certalias</strong> too often.</p>
<p>Since the default use of this tool is to be run from cron, the default
behavior is to produce no output other than error messages. If you want
more output from <strong class="program">tl-ldap-certalias</strong>, see the options section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The root user must be able to write to the users’ home directories
for <strong class="program">tl-ldap-certalias</strong> to be able to update the
<code class="file docutils literal notranslate"><span class="pre">~/.ssh/authorized_keys</span></code> files.</p>
</div>
<section id="configuration">
<span id="certalias-config"></span><h5>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h5>
<p><strong class="program">tl-ldap-certalias</strong> uses the
<a class="reference internal" href="index.html#std-server-config-folder-utils-tl-ldap-certalias"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils/tl-ldap-certalias</span></code></a> Hiveconf folder for configuration
purposes. On a standard ThinLinc installation, it’s located in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tl-ldap-certalias.hconf</span></code>. See
<a class="reference internal" href="index.html#configuration-tl-ldap-certalias"><span class="std std-ref">Parameters in /utils/tl-ldap-certalias/</span></a> for details about the available
parameters.</p>
</section>
<section id="certificate-validation">
<span id="certalias-validation"></span><h5>Certificate validation<a class="headerlink" href="#certificate-validation" title="Permalink to this headline">¶</a></h5>
<p><strong class="program">tl-ldap-certalias</strong> can perform validation of certificates
found in LDAP databases by the following methods if
<a class="reference internal" href="index.html#server-config-utils-tl-ldap-certalias-allow_invalid_certificates"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">allow_invalid_certificates</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">no</span></code>:</p>
<dl>
<dt>Certificate validity and expiry dates</dt><dd><p><strong class="program">tl-ldap-certalias</strong> now checks the certificate validity and
expiry dates and rejects certificates that are not valid yet or have
expired.</p>
</dd>
<dt>Matching certificate to certificate issuers</dt><dd><p>Place the CA certificates you wish to trust certificates from in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/ca/</span></code>. The CA certificates must be in DER
form. If <strong class="program">tl-ldap-certalias</strong> finds a certificate with an
issuer that does not match any of the certificates in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/ca/</span></code>, the certificate will be considered
invalid and ignored.</p>
</dd>
<dt>Certificate revocation lists</dt><dd><p><strong class="program">tl-ldap-certalias</strong> searches the certificates it encounters
for certificate revocation lists (CRL) to make sure that the
certificate has not been revoked by its issuer. Once downloaded, the
CRL will be cached until the time for the next scheduled update found
in the CRL list has passed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong class="program">tl-ldap-certalias</strong> can only handle CRL lists distributed
with HTTP.</p>
</div>
</dd>
<dt>Validation of certificate signatures.</dt><dd><p><strong class="program">tl-ldap-certalias</strong> can verify that the certificate
signature is valid and thus assures that the certificate has not been
tampered with.</p>
</dd>
</dl>
</section>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-d">
<span id="cmdoption-debug"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--debug</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-d" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on extra debugging output to standard output. This is off by
default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-s">
<span id="cmdoption-simulate"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--simulate</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Dry run mode. Specifying this option tells
<strong class="program">tl-ldap-certalias</strong> to avoid writing any changes to disk.
This is off by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-v">
<span id="cmdoption-verbose"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on program status output to standard output. This is off by
default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
</section>
<span id="document-man/tl-notify.8"></span><section id="tl-notify">
<h3>tl-notify<a class="headerlink" href="#tl-notify" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-notify</strong> [<em>options</em>] &lt;<em>message</em>&gt;</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>This command sends a user-visible message to ThinLinc sessions on the
server. The default is to send the message to all sessions, but the
<code class="docutils literal notranslate"><span class="pre">-u</span></code> option can be used to send the message to a single
recipient instead.</p>
<p>To send messages to all users in a ThinLinc cluster, you can use this
command in combination with the <strong class="program">tl-ssh-all</strong>(8) command.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-u">
<span id="cmdoption-user"></span><span class="sig-name descname"><span class="pre">-u</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"><span class="pre">=USER</span></span><a class="headerlink" href="#cmdoption-u" title="Permalink to this definition">¶</a></dt>
<dd><p>User to send message to. The default is “all”.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
</section>
<span id="document-man/tl-rsync-all.8"></span><section id="tl-rsync-all">
<h3>tl-rsync-all<a class="headerlink" href="#tl-rsync-all" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-rsync-all</strong> [<em>options</em>] &lt;<em>source</em>&gt; [<em>source</em>]…</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-rsync-all</strong> command is used to synchronize files and
directories in a ThinLinc cluster. It runs the <strong class="command">rsync</strong>(1)
command over SSH against all agent servers in the cluster.</p>
<p><em>options</em> can be any <strong class="command">rsync</strong>(1) option.</p>
<p>All specified sources will be converted to absolute paths.</p>
</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Synchronize directory tree:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tl-rsync-all -a --delete /some/tree
</pre></div>
</div>
</section>
<section id="see-also">
<h4>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h4>
<p><strong class="command">rsync</strong>(1), <strong class="program">tl-ssh-all</strong>(8)</p>
</section>
</section>
<span id="document-man/tl-setup.8"></span><section id="tl-setup">
<h3>tl-setup<a class="headerlink" href="#tl-setup" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-setup</strong> [<em>options</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>ThinLinc setup is used to configure the ThinLinc server for the local
system, and to modify the local system as is required for the ThinLinc
server to function correctly.</p>
<p>ThinLinc setup can be run graphically, in text mode, or in a fully
automated mode.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-a">
<span id="cmdoption-answers-from"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--answers-from</span></span><span class="sig-prename descclassname"><span class="pre">=FILE</span></span><a class="headerlink" href="#cmdoption-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Run tl-setup in non-interactive mode and read the answers from
<em>FILE</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-g">
<span id="cmdoption-generate-answers"></span><span class="sig-name descname"><span class="pre">-g</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--generate-answers</span></span><span class="sig-prename descclassname"><span class="pre">=FILE</span></span><a class="headerlink" href="#cmdoption-g" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an answer file template and store it in <em>FILE</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
</section>
<span id="document-man/tl-show-licenses.8"></span><section id="tl-show-licenses">
<h3>tl-show-licenses<a class="headerlink" href="#tl-show-licenses" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-show-licenses</strong></p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-show-licenses</strong> command can be used to show the total
number of ThinLinc user licenses currently found on disk.</p>
</section>
</section>
<span id="document-man/tl-ssh-all.8"></span><section id="tl-ssh-all">
<h3>tl-ssh-all<a class="headerlink" href="#tl-ssh-all" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-ssh-all</strong> [<em>options</em>] [<em>command</em>]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-ssh-all</strong> command is used to perform shell commands on
all agents in a ThinLinc cluster. It works by running the
<strong class="command">ssh</strong>(1) command against all agent servers in the cluster.</p>
<p><em>options</em> can be any <strong class="command">ssh</strong>(1) option.</p>
</section>
<section id="see-also">
<h4>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h4>
<p><strong class="command">ssh</strong>(1), <strong class="program">tl-rsync-all</strong>(8)</p>
</section>
</section>
<span id="document-man/tl-support.8"></span><section id="tl-support">
<h3>tl-support<a class="headerlink" href="#tl-support" title="Permalink to this headline">¶</a></h3>
<section id="synopsis">
<h4>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h4>
<p><strong>tl-support</strong> [<strong>-p</strong> &lt;<em>listen-port</em>&gt;] [<strong>-u</strong> &lt;<em>user</em>&gt;] [<em>host</em>[<strong>:</strong><em>port</em>]]</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <strong class="program">tl-support</strong> command can be used to enable a support
technician to log in to your ThinLinc server, even though the server is
behind a firewall that doesn’t allow connections to the ssh port. This
is accomplished by opening a ssh connection from the server to an
external server on the internet, at the same time setting up a tunnel
from the remote host to the local host’s ssh port. The default server to
connect to is “support.thinlinc.com” with the default username
“support”. This command should only be used after contacting your
ThinLinc support technician.</p>
<p>If <em>host</em> is not specified, “support.thinlinc.com” is assumed.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a short help text and exits.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-p">
<span id="cmdoption-port"></span><span class="sig-name descname"><span class="pre">-p</span></span><span class="sig-prename descclassname"> <span class="pre">listen-port</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--port</span></span><span class="sig-prename descclassname"><span class="pre">=listen-port</span></span><a class="headerlink" href="#cmdoption-p" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote port to listen on. If not specified, a random port will be
used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-u">
<span id="cmdoption-user"></span><span class="sig-name descname"><span class="pre">-u</span></span><span class="sig-prename descclassname"> <span class="pre">user</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"><span class="pre">=user</span></span><a class="headerlink" href="#cmdoption-u" title="Permalink to this definition">¶</a></dt>
<dd><p>Username to connect as. The default is “support”.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the ThinLinc version and exits.</p>
</dd></dl>

</section>
</section>
</div>
</section>
<span id="document-config_params"></span><section id="server-configuration-parameters">
<h2>Server configuration parameters<a class="headerlink" href="#server-configuration-parameters" title="Permalink to this headline">¶</a></h2>
<p>The ThinLinc server is configured using a number of configuration
parameters stored in Hiveconf. For information about how to access and
set the parameters, please refer to <a class="reference internal" href="index.html#hiveconf"><span class="std std-ref">Hiveconf</span></a>. In this chapter, we
will describe the different parameters and their meaning.</p>
<p>The parameters used in ThinLinc are divided into a number of folders,
each having zero or more subfolders. The following folders exist:</p>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#std-server-config-folder-profiles"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/profiles</span></code></a> contains parameters for configuring the
different session profiles. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/profiles.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-sessionstart"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/sessionstart</span></code></a> contains some parameters used during
session startup. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/sessionstart.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-shadowing"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/shadowing</span></code></a> contains parameters used to control access to
the shadowing feature. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/shadowing.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-tlwebadm"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/tlwebadm</span></code></a> contains parameters for the tlwebadm web
configuration interface. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tlwebadm.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-utils"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils</span></code></a> contains parameters used by miscellaneous
ThinLinc utilities. Each utility has its own configuration file, but
all parameters are then merged in under <a class="reference internal" href="index.html#std-server-config-folder-utils"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/utils</span></code></a> when read
by the Hiveconf framework.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-vsm"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm</span></code></a> contains parameters common to both the VSM agent
and the VSM server. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsm.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-vsmagent"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent</span></code></a> contains parameters specific to the VSM agent.
This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsmagent.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-vsmserver"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver</span></code></a> contains parameters specific to the VSM
server. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsmserver.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-vsmserver-subclusters"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters</span></code></a> contains definitions of
subclusters within the ThinLinc cluster. This folder normally resides
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsmserver.hconf</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#std-server-config-folder-webaccess"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess</span></code></a> contains parameters for the server part of
ThinLinc Web Access. This folder normally resides in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/webaccess.hconf</span></code>.</p></li>
</ul>
<div class="toctree-wrapper compound">
<span id="document-config_profiles"></span><section id="parameters-in-profiles">
<span id="std-server-config-folder-profiles"></span><span id="std:server-config-folder-/profiles"></span><span id="configuration-profiles"></span><h3>Parameters in /profiles/<a class="headerlink" href="#parameters-in-profiles" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the profiles feature. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/profiles.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-default">
<span id="server-config-/profiles/default"></span><span class="sig-name descname"><span class="pre">/profiles/default</span></span><a class="headerlink" href="#server-config-profiles-default" title="Permalink to this definition">¶</a></dt>
<dd><p>The profile that should be preselected when the profile chooser
starts, and the profile to be chosen when there is a problem
displaying the profile chooser to the user.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-order">
<span id="server-config-/profiles/order"></span><span class="sig-name descname"><span class="pre">/profiles/order</span></span><a class="headerlink" href="#server-config-profiles-order" title="Permalink to this definition">¶</a></dt>
<dd><p>A space separated list of profiles that should be available for the
user to choose from. The profiles will be displayed in the same order
as specified here.</p>
<p>Note that other criteria must also be satisfied for a profile to be
available to a user. See <a class="reference internal" href="#server-config-profiles-profile-key-xdg_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">xdg_session</span></code></a> and <a class="reference internal" href="#server-config-profiles-profile-key-testcmd"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">testcmd</span></code></a> for more
details.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-show_intro">
<span id="server-config-/profiles/show_intro"></span><span class="sig-name descname"><span class="pre">/profiles/show_intro</span></span><a class="headerlink" href="#server-config-profiles-show_intro" title="Permalink to this definition">¶</a></dt>
<dd><p>If this parameter is true then the introduction text specified in
<a class="reference internal" href="#server-config-profiles-introduction"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">introduction</span></code></a> will be displayed by the profile chooser. Enabled by
default.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-greeting">
<span id="server-config-/profiles/greeting"></span><span class="sig-name descname"><span class="pre">/profiles/greeting</span></span><a class="headerlink" href="#server-config-profiles-greeting" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies the title for the introduction text
specified in <a class="reference internal" href="#server-config-profiles-introduction"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">introduction</span></code></a>. It is also shown above the profile
list. <a class="reference external" href="https://docs.gtk.org/Pango/pango_markup.html#pango-markup">Pango Markup</a> can be used here to provide styling to the text
(e.g. italicized words).</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-introduction">
<span id="server-config-/profiles/introduction"></span><span class="sig-name descname"><span class="pre">/profiles/introduction</span></span><a class="headerlink" href="#server-config-profiles-introduction" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies the introduction text shown by the profile
chooser. <a class="reference external" href="https://docs.gtk.org/Pango/pango_markup.html#pango-markup">Pango Markup</a> can be used here to provide styling to the
text (e.g. bold or italicized words). If <a class="reference internal" href="#server-config-profiles-show_intro"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">show_intro</span></code></a> is set to
false, this text is not shown.</p>
</dd></dl>

<p id="std-server-config-folder-profiles-profile-key"><span id="std:server-config-folder-/profiles/<profile key>"></span>Each profile is defined under a section named
<a class="reference internal" href="#std-server-config-folder-profiles-profile-key"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;</span></code></a>. It has the following fields:</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-xdg_session">
<span id="server-config-/profiles/<profile key>/xdg_session"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/xdg_session</span></span><a class="headerlink" href="#server-config-profiles-profile-key-xdg_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects this ThinLinc profile with a system desktop session
configuration. The directories <code class="file docutils literal notranslate"><span class="pre">/etc/X11/sessions</span></code> and
<code class="file docutils literal notranslate"><span class="pre">/usr/share/xsessions</span></code> will be searched for a file matching
<code class="file docutils literal notranslate"><em><span class="pre">&lt;xdg_session&gt;</span></em><span class="pre">.desktop</span></code>. It is recommended that this field is
used for all modern desktop environments as it sets up important
environment variables.</p>
<p>The fields <a class="reference internal" href="#server-config-profiles-profile-key-name"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">name</span></code></a>, <a class="reference internal" href="#server-config-profiles-profile-key-description"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">description</span></code></a>, <a class="reference internal" href="#server-config-profiles-profile-key-icon"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">icon</span></code></a>, <a class="reference internal" href="#server-config-profiles-profile-key-cmdline"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">cmdline</span></code></a> and <a class="reference internal" href="#server-config-profiles-profile-key-testcmd"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">testcmd</span></code></a>
will all be implicitly filled in by the system configuration. You can
override those values individually by specifying a different value in
the ThinLinc configuration.</p>
<p>Multiple values can be specified in this field, separated by spaces.
The first matching configuration will be used. If no matching
configuration can be found then the profile will not be shown.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the configuration is listed in <code class="file docutils literal notranslate"><span class="pre">/etc/upstart-xsessions</span></code>
then the specified command is ignored and an Upstart user session
will be started instead. A manually specified <a class="reference internal" href="#server-config-profiles-profile-key-cmdline"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">cmdline</span></code></a> can still
be used to override the command.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-name">
<span id="server-config-/profiles/<profile key>/name"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/name</span></span><a class="headerlink" href="#server-config-profiles-profile-key-name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short description of the profile, shown in the profile list. <a class="reference external" href="https://docs.gtk.org/Pango/pango_markup.html#pango-markup">Pango
Markup</a> can be used here to provide styling to the text (e.g.
italicized words).</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-description">
<span id="server-config-/profiles/<profile key>/description"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/description</span></span><a class="headerlink" href="#server-config-profiles-profile-key-description" title="Permalink to this definition">¶</a></dt>
<dd><p>A longer description, shown below the name in the profile list.
<a class="reference external" href="https://docs.gtk.org/Pango/pango_markup.html#pango-markup">Pango Markup</a> can be used here to provide styling to the text
(e.g. bold or italicized words).</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-icon">
<span id="server-config-/profiles/<profile key>/icon"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/icon</span></span><a class="headerlink" href="#server-config-profiles-profile-key-icon" title="Permalink to this definition">¶</a></dt>
<dd><p>An image shown next to the name in the profile list. We recommend
using SVG files, but if not, the icon should be at least 22×22.
Paths can be absolute or relative
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/share/tl-select-profile</span></code>. It is also possible to
specify an icon name in accordance with the <a class="reference external" href="https://specifications.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html">icon naming
specification</a>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-screenshot">
<span id="server-config-/profiles/<profile key>/screenshot"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/screenshot</span></span><a class="headerlink" href="#server-config-profiles-profile-key-screenshot" title="Permalink to this definition">¶</a></dt>
<dd><p>An image with aspect ratio 4:3, shown in the profile list.
Resolutions of 640×480 or 800×600 works well. Paths can be absolute
or relative <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/share/tl-select-profile</span></code>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-cmdline">
<span id="server-config-/profiles/<profile key>/cmdline"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/cmdline</span></span><a class="headerlink" href="#server-config-profiles-profile-key-cmdline" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to execute if this profile has been chosen.</p>
<p>If <a class="reference internal" href="#server-config-profiles-profile-key-xdg_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">xdg_session</span></code></a> is set then the environment variable
<span class="sig sig-inline environ">XDG_EXEC</span> will be set to the original command line from the
system desktop session configuration.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-profiles-profile-key-testcmd">
<span id="server-config-/profiles/<profile key>/testcmd"></span><span class="sig-name descname"><span class="pre">/profiles/&lt;profile</span> <span class="pre">key&gt;/testcmd</span></span><a class="headerlink" href="#server-config-profiles-profile-key-testcmd" title="Permalink to this definition">¶</a></dt>
<dd><p>A shell expression or command that is executed to determine if this
profile should be visible or not. A non-zero return code causes the
entry to be hidden. If this field is empty or missing then the entry
will always be shown.</p>
<p>If <a class="reference internal" href="#server-config-profiles-profile-key-xdg_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">xdg_session</span></code></a> is set then the environment variable
<span class="sig sig-inline environ">XDG_TRY_EXEC</span> will be set to the expected binary from the
system desktop session configuration. Note that this value differs in
behavior from <a class="reference internal" href="#server-config-profiles-profile-key-testcmd"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">testcmd</span></code></a>. <span class="sig sig-inline environ">XDG_TRY_EXEC</span> should only name a
executable binary in <span class="sig sig-inline environ">PATH</span> , whilst <a class="reference internal" href="#server-config-profiles-profile-key-testcmd"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">testcmd</span></code></a> will be
executed and its return code inspected.</p>
</dd></dl>

</section>
<span id="document-config_tlwebadm"></span><section id="parameters-in-tlwebadm">
<span id="std-server-config-folder-tlwebadm"></span><span id="std:server-config-folder-/tlwebadm"></span><span id="configuration-tlwebadm"></span><h3>Parameters in /tlwebadm/<a class="headerlink" href="#parameters-in-tlwebadm" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the ThinLinc Web Administration. These configuration parameters reside
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tlwebadm.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-username">
<span id="server-config-/tlwebadm/username"></span><span class="sig-name descname"><span class="pre">/tlwebadm/username</span></span><a class="headerlink" href="#server-config-tlwebadm-username" title="Permalink to this definition">¶</a></dt>
<dd><p>The username to authenticate with when accessing the web interface.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-password">
<span id="server-config-/tlwebadm/password"></span><span class="sig-name descname"><span class="pre">/tlwebadm/password</span></span><a class="headerlink" href="#server-config-tlwebadm-password" title="Permalink to this definition">¶</a></dt>
<dd><p>The password for the above user. The tool <strong class="program">tl-gen-auth</strong> may
be used to create hashes of the format required for use with this
parameter.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-cert">
<span id="server-config-/tlwebadm/cert"></span><span class="sig-name descname"><span class="pre">/tlwebadm/cert</span></span><a class="headerlink" href="#server-config-tlwebadm-cert" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the certificate file to be used for TLS encryption.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-certkey">
<span id="server-config-/tlwebadm/certkey"></span><span class="sig-name descname"><span class="pre">/tlwebadm/certkey</span></span><a class="headerlink" href="#server-config-tlwebadm-certkey" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the certificate private key file.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-listen_port">
<span id="server-config-/tlwebadm/listen_port"></span><span class="sig-name descname"><span class="pre">/tlwebadm/listen_port</span></span><a class="headerlink" href="#server-config-tlwebadm-listen_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The local port for the web server to listen on.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-gnutls_priority">
<span id="server-config-/tlwebadm/gnutls_priority"></span><span class="sig-name descname"><span class="pre">/tlwebadm/gnutls_priority</span></span><a class="headerlink" href="#server-config-tlwebadm-gnutls_priority" title="Permalink to this definition">¶</a></dt>
<dd><p>The GnuTLS priority string is used to select the order and
availability of TLS versions, ciphers, key exchange, MAC,
compression, signature and elliptic curve algorithms for TLS
sessions. See <a class="reference internal" href="index.html#gnutls-priorities"><span class="std std-ref">GnuTLS priority strings</span></a> for possible values.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-server_tokens">
<span id="server-config-/tlwebadm/server_tokens"></span><span class="sig-name descname"><span class="pre">/tlwebadm/server_tokens</span></span><a class="headerlink" href="#server-config-tlwebadm-server_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, Web Administration includes the ThinLinc version,
as well as Python version information in the “Server” response header
field. If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the “Server” response header will not
include any version information. The default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disabling server_tokens might make it easier to work with some
security scanners that raise alerts when this type of version
information is included. But note that hiding version information
does nothing to make your server more secure.</p>
</div>
</dd></dl>

<span class="target" id="std-server-config-folder-tlwebadm-hsts"><span id="std:server-config-folder-/tlwebadm/hsts"></span></span><dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-hsts-policy">
<span id="server-config-/tlwebadm/hsts/policy"></span><span class="sig-name descname"><span class="pre">/tlwebadm/hsts/policy</span></span><a class="headerlink" href="#server-config-tlwebadm-hsts-policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Note the warnings about enabling HSTS policy, see
<a class="reference internal" href="index.html#configuring-hsts-header"><span class="std std-ref">Configuring HSTS headers</span></a>. The results should be considered
permanent once enabled and are difficult to reverse. The only way to
disable the HSTS policy is to wait for the specified duration, as
described below, to pass until visiting the domain again.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Off</span></code>: The default value. The HSTS header will not be sent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Testing</span></code>: Before setting the policy to permanent, it is
recommended to test if the policy works for the intended domains to
verify they support HTTPS. This value indicates to the browser that
it should only remember this domain for 10 minutes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Permanent</span></code>: This value indicates that browsers will remember
this domain for 2 years. This duration is refreshed every time a
domain is revisited, which is why it should be viewed as permanent.</p></li>
</ul>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-hsts-subdomains_included">
<span id="server-config-/tlwebadm/hsts/subdomains_included"></span><span class="sig-name descname"><span class="pre">/tlwebadm/hsts/subdomains_included</span></span><a class="headerlink" href="#server-config-tlwebadm-hsts-subdomains_included" title="Permalink to this definition">¶</a></dt>
<dd><p>The HSTS policy will be applied to the included subdomains of the
ThinLinc host if enabled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to verify that all subdomains support HTTPS
before enabling this. In order to verify, set <code class="docutils literal notranslate"><span class="pre">policy=testing</span></code>,
restart the service and  then visit Web Administration in the
browser to enable the HSTS policy.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-hsts-allow_browser_preload">
<span id="server-config-/tlwebadm/hsts/allow_browser_preload"></span><span class="sig-name descname"><span class="pre">/tlwebadm/hsts/allow_browser_preload</span></span><a class="headerlink" href="#server-config-tlwebadm-hsts-allow_browser_preload" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Requirements:</em> <code class="docutils literal notranslate"><span class="pre">policy=permanent</span></code> and <code class="docutils literal notranslate"><span class="pre">subdomains_included=true</span></code></p>
<p>With <code class="docutils literal notranslate"><span class="pre">allow_browser_preload</span></code> enabled, it is indicated to the
browser that the intention is to add the domain, and subdomains, to
the browsers’ lists. This would result in the HSTS policy being
enabled at the first visit to the domain or subdomain.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only use this option if you are sure to support HTTPS for domains
and subdomains. It may be difficult to remove domains and
subdomains from the preload list.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-tlwebadm-logging-logfile">
<span id="server-config-/tlwebadm/logging/logfile"></span><span class="sig-name descname"><span class="pre">/tlwebadm/logging/logfile</span></span><a class="headerlink" href="#server-config-tlwebadm-logging-logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>The file to use for logging tlwebadm messages. By default, this is
<code class="file docutils literal notranslate"><span class="pre">/var/log/tlwebadm.log</span></code>.</p>
</dd></dl>

</section>
<span id="document-config_sessionstart"></span><section id="parameters-in-sessionstart">
<span id="std-server-config-folder-sessionstart"></span><span id="std:server-config-folder-/sessionstart"></span><span id="configuration-sessionstart"></span><h3>Parameters in /sessionstart/<a class="headerlink" href="#parameters-in-sessionstart" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the session startup scripts. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/sessionstart.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-sessionstart-background_color">
<span id="server-config-/sessionstart/background_color"></span><span class="sig-name descname"><span class="pre">/sessionstart/background_color</span></span><a class="headerlink" href="#server-config-sessionstart-background_color" title="Permalink to this definition">¶</a></dt>
<dd><p>The initial color of the background that is set early during session
startup. The default color is white.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-sessionstart-background_image">
<span id="server-config-/sessionstart/background_image"></span><span class="sig-name descname"><span class="pre">/sessionstart/background_image</span></span><a class="headerlink" href="#server-config-sessionstart-background_image" title="Permalink to this definition">¶</a></dt>
<dd><p>A PNG used as the initial background. The image will always be zoomed
to fit each individual monitor. The default is a ThinLinc- branded
image.</p>
<p>An empty value will disable the background image. If no image is
set, or if the image contains transparency then the color set by
<a class="reference internal" href="#server-config-sessionstart-background_color"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/sessionstart/background_color</span></code></a> will shine through.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-sessionstart-keyboard_layout">
<span id="server-config-/sessionstart/keyboard_layout"></span><span class="sig-name descname"><span class="pre">/sessionstart/keyboard_layout</span></span><a class="headerlink" href="#server-config-sessionstart-keyboard_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>The default virtual keyboard layout used by Xvnc. The protocol is not
dependent on this being configured, but some applications can
misbehave if a different virtual layout is configured compared to the
real keyboard layout on the client device.</p>
<p>A list of possible keyboard layouts is given by this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>man /opt/thinlinc/share/man/man7/xkeyboard-config.7
</pre></div>
</div>
</dd></dl>

</section>
<span id="document-config_shadowing"></span><section id="parameters-in-shadowing">
<span id="std-server-config-folder-shadowing"></span><span id="std:server-config-folder-/shadowing"></span><span id="configuration-shadowing"></span><h3>Parameters in /shadowing/<a class="headerlink" href="#parameters-in-shadowing" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the shadowing feature. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/shadowing.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-shadowing-allowed_shadowers">
<span id="server-config-/shadowing/allowed_shadowers"></span><span class="sig-name descname"><span class="pre">/shadowing/allowed_shadowers</span></span><a class="headerlink" href="#server-config-shadowing-allowed_shadowers" title="Permalink to this definition">¶</a></dt>
<dd><p>A space-separated list of users and/or groups that are allowed to
shadow other users. Group names are prefixed with <code class="docutils literal notranslate"><span class="pre">+</span></code> sign. Please
note that these users will gain full access to other users’ sessions.
See <a class="reference internal" href="index.html#shadowing"><span class="std std-ref">Shadowing</span></a> for more information.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-shadowing-shadowing_mode">
<span id="server-config-/shadowing/shadowing_mode"></span><span class="sig-name descname"><span class="pre">/shadowing/shadowing_mode</span></span><a class="headerlink" href="#server-config-shadowing-shadowing_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>A constant string value of <code class="docutils literal notranslate"><span class="pre">reject</span></code>, <code class="docutils literal notranslate"><span class="pre">silent</span></code>, <code class="docutils literal notranslate"><span class="pre">notify</span></code>, or
<code class="docutils literal notranslate"><span class="pre">ask</span></code>. This value configures in which way a shadowing request is
handled.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">reject</span></code></dt><dd><p>All shadowing requests are rejected. You should set this if you
want to disable the shadowing feature.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">silent</span></code></dt><dd><p>All shadowing requests are accepted and the user will not be
notified about being shadowed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">notify</span></code></dt><dd><p>All shadowing requests are accepted and a message box will be
shown to notify the user when the shadowing starts and when the
shadowing ends.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ask</span></code></dt><dd><p>Shows a dialog to the user and gives him the full control of
deciding to accept or reject the shadowing request. If the request
timeout is reached without the user making a decision then the
shadowing request will be rejected. Like for notify the user is
also informed when the shadowing ends.</p>
</dd>
</dl>
<p>See <a class="reference internal" href="index.html#shadowing"><span class="std std-ref">Shadowing</span></a> for more information.</p>
</dd></dl>

</section>
<span id="document-config_utils"></span><section id="parameters-in-utils">
<span id="std-server-config-folder-utils"></span><span id="std:server-config-folder-/utils"></span><span id="configuration-utils"></span><h3>Parameters in /utils/<a class="headerlink" href="#parameters-in-utils" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
various utilities.</p>
<section id="parameters-in-utils-tl-desktop-customizer">
<span id="std-server-config-folder-utils-tl-desktop-customizer"></span><span id="std:server-config-folder-/utils/tl-desktop-customizer"></span><h4>Parameters in /utils/tl-desktop-customizer/<a class="headerlink" href="#parameters-in-utils-tl-desktop-customizer" title="Permalink to this headline">¶</a></h4>
<p>In this section we will describe all the parameters currently used by
the ThinLinc desktop customizer. These configuration parameters reside
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tl-desktop-customizer.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-desktop-customizer-xdg_data_dirs">
<span id="server-config-/utils/tl-desktop-customizer/xdg_data_dirs"></span><span class="sig-name descname"><span class="pre">/utils/tl-desktop-customizer/xdg_data_dirs</span></span><a class="headerlink" href="#server-config-utils-tl-desktop-customizer-xdg_data_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>A space separated list of directories that ThinLinc desktop
customizer should look for applications in.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-desktop-customizer-desktop_languages">
<span id="server-config-/utils/tl-desktop-customizer/desktop_languages"></span><span class="sig-name descname"><span class="pre">/utils/tl-desktop-customizer/desktop_languages</span></span><a class="headerlink" href="#server-config-utils-tl-desktop-customizer-desktop_languages" title="Permalink to this definition">¶</a></dt>
<dd><p>A space separated list of <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc1766.html"><strong>RFC 1766</strong></a> language codes. The specified
languages will be available for translating application and menu
names in the ThinLinc desktop customizer.</p>
</dd></dl>

</section>
<section id="parameters-in-utils-tl-ldap-certalias">
<span id="std-server-config-folder-utils-tl-ldap-certalias"></span><span id="std:server-config-folder-/utils/tl-ldap-certalias"></span><span id="configuration-tl-ldap-certalias"></span><h4>Parameters in /utils/tl-ldap-certalias/<a class="headerlink" href="#parameters-in-utils-tl-ldap-certalias" title="Permalink to this headline">¶</a></h4>
<p>In this section we will describe all the parameters currently used by
<strong class="program">tl-ldap-certalias</strong>. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tl-ldap-certalias.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-ldap_schema">
<span id="server-config-/utils/tl-ldap-certalias/ldap_schema"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/ldap_schema</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-ldap_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the schema type that is used on the target LDAP server. Valid
options are <code class="docutils literal notranslate"><span class="pre">rfc2307</span></code> and <code class="docutils literal notranslate"><span class="pre">AD</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">rfc2307</span></code> is default and should be used with standard LDAP servers
that comply with <span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2307.html"><strong>RFC 2307</strong></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">AD</span></code> should be used if the target LDAP server is an Active
Directory.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-allow_invalid_certificates">
<span id="server-config-/utils/tl-ldap-certalias/allow_invalid_certificates"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/allow_invalid_certificates</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-allow_invalid_certificates" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter controls whether to perform validation on certificates
found in the LDAP database. Possible values are <code class="docutils literal notranslate"><span class="pre">yes</span></code> and <code class="docutils literal notranslate"><span class="pre">no</span></code>.</p>
<p>Please note that by setting this to yes, you will allow users with
expired, invalid, revoked or untrusted certificates to log in as if
their certificates are valid.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want <strong class="program">tl-ldap-certalias</strong> to match the behavior of
<strong class="program">tl-ldap-certalias</strong> versions earlier than 3.2.0, set this
to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-certificate_user_match">
<span id="server-config-/utils/tl-ldap-certalias/certificate_user_match"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/certificate_user_match</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-certificate_user_match" title="Permalink to this definition">¶</a></dt>
<dd><p>The method to use for finding certificates assigned to the user.
Valid options are <code class="docutils literal notranslate"><span class="pre">sameobject</span></code> and
<code class="docutils literal notranslate"><span class="pre">novell_certificate_subjectname</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">sameobject</span></code> makes <strong class="program">tl-ldap-certalias</strong> search for
certificates in the <code class="docutils literal notranslate"><span class="pre">userCertificate</span></code> attribute on user objects it
finds.</p>
<p><code class="docutils literal notranslate"><span class="pre">novell_certificate_subjectname</span></code> allows for certificates to be
stored in another LDAP tree. User objects are associated to
certificates by storing subject names of certificates in a
multivalued attribute called <code class="docutils literal notranslate"><span class="pre">sasAllowableSubjectName</span></code> (OID
2.16.840.1.113719.1.39.42.1.0.69) on the user object.
<strong class="program">tl-ldap-certalias</strong> can handle both DN:s as written by
Novell iManager (<code class="docutils literal notranslate"><span class="pre">DC=com.DC=example.OU=test.CN=foo</span></code>) and as
returned by <code class="docutils literal notranslate"><span class="pre">tl-certtool</span> <span class="pre">--subject</span></code>
(<code class="docutils literal notranslate"><span class="pre">cn=foo,ou=test,dc=example,dc=com</span></code>).</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-users-uri">
<span id="server-config-/utils/tl-ldap-certalias/users/uri"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/users/uri</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-users-uri" title="Permalink to this definition">¶</a></dt>
<dd><p>An LDAP server URI for finding users on the form
<code class="docutils literal notranslate"><span class="pre">ldap[s]://name[:port]</span></code></p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-users-base">
<span id="server-config-/utils/tl-ldap-certalias/users/base"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/users/base</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-users-base" title="Permalink to this definition">¶</a></dt>
<dd><p>The LDAP search base for finding users.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-users-binddn">
<span id="server-config-/utils/tl-ldap-certalias/users/binddn"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/users/binddn</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-users-binddn" title="Permalink to this definition">¶</a></dt>
<dd><p>The username to bind as for searching for users. If left blank, no
bind is performed.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-users-bindpw">
<span id="server-config-/utils/tl-ldap-certalias/users/bindpw"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/users/bindpw</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-users-bindpw" title="Permalink to this definition">¶</a></dt>
<dd><p>The password to use in combination with <a class="reference internal" href="#server-config-utils-tl-ldap-certalias-users-binddn"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">binddn</span></code></a> for bind operations
If <a class="reference internal" href="#server-config-utils-tl-ldap-certalias-users-binddn"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">binddn</span></code></a> is left empty, this can also be left empty.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-certs-uri">
<span id="server-config-/utils/tl-ldap-certalias/certs/uri"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/certs/uri</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-certs-uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-certs-base">
<span id="server-config-/utils/tl-ldap-certalias/certs/base"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/certs/base</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-certs-base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-certs-binddn">
<span id="server-config-/utils/tl-ldap-certalias/certs/binddn"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/certs/binddn</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-certs-binddn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-ldap-certalias-certs-bindpw">
<span id="server-config-/utils/tl-ldap-certalias/certs/bindpw"></span><span class="sig-name descname"><span class="pre">/utils/tl-ldap-certalias/certs/bindpw</span></span><a class="headerlink" href="#server-config-utils-tl-ldap-certalias-certs-bindpw" title="Permalink to this definition">¶</a></dt>
<dd><p>If <a class="reference internal" href="#server-config-utils-tl-ldap-certalias-certificate_user_match"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">certificate_user_match</span></code></a> is not <code class="docutils literal notranslate"><span class="pre">sameobject</span></code>, these settings
will be used to determine where to look for certificates. They follow
the same rules as the settings for users.</p>
</dd></dl>

</section>
<section id="parameters-in-utils-tl-mount-localdrives">
<span id="std-server-config-folder-utils-tl-mount-localdrives"></span><span id="std:server-config-folder-/utils/tl-mount-localdrives"></span><h4>Parameters in /utils/tl-mount-localdrives/<a class="headerlink" href="#parameters-in-utils-tl-mount-localdrives" title="Permalink to this headline">¶</a></h4>
<p>In this section we will describe all the parameters currently used by
<strong class="program">tl-mount-localdrives</strong>. These configuration parameters reside
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/tl-mount-localdrives.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-utils-tl-mount-localdrives-mount_args">
<span id="server-config-/utils/tl-mount-localdrives/mount_args"></span><span class="sig-name descname"><span class="pre">/utils/tl-mount-localdrives/mount_args</span></span><a class="headerlink" href="#server-config-utils-tl-mount-localdrives-mount_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies any extra mount parameters to be used when mounting local
drives from a client.</p>
</dd></dl>

</section>
</section>
<span id="document-config_vsm"></span><section id="parameters-in-vsm">
<span id="std-server-config-folder-vsm"></span><span id="std:server-config-folder-/vsm"></span><span id="configuration-vsm"></span><h3>Parameters in /vsm/<a class="headerlink" href="#parameters-in-vsm" title="Permalink to this headline">¶</a></h3>
<p>Parameters in the <a class="reference internal" href="#std-server-config-folder-vsm"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm</span></code></a> folder are used by both the VSM agent
and the VSM server. Neither of them need to be changed on a normal
ThinLinc installation. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsm.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsm-tunnel_bind_base">
<span id="server-config-/vsm/tunnel_bind_base"></span><span class="sig-name descname"><span class="pre">/vsm/tunnel_bind_base</span></span><a class="headerlink" href="#server-config-vsm-tunnel_bind_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The tunnels set up by the client to access various resources (audio,
serial port, network resources, local printer) need one port number
each on the server running the VSM agent the client is connected to.
This parameter decides the lowest such port that is allocated by the
VSM agent. Each user has a port range defined by the formula:</p>
<blockquote>
<div><p><a class="reference internal" href="#server-config-vsm-tunnel_bind_base"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnel_bind_base</span></code></a> + <em>display</em> × 10 +
<em>service_slot</em></p>
</div></blockquote>
<p>where the <em>service_slot</em> depends on which service will use the
tunnel. This port range is however used only for sessions with
display numbers less than 100. See <a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for an in-depth
explanation of port allocation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter should normally not be changed.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsm-tunnelservices">
<span id="server-config-/vsm/tunnelservices"></span><span class="sig-name descname"><span class="pre">/vsm/tunnelservices</span></span><a class="headerlink" href="#server-config-vsm-tunnelservices" title="Permalink to this definition">¶</a></dt>
<dd><p>There are several parameters under the
<a class="reference internal" href="#server-config-vsm-tunnelservices"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelservices</span></code></a> folder. Each one decides which ports
are used as server-side termination points for the tunnels used to
access client resources. See <a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for an in-depth
explanation of port allocation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None of these parameters should normally be changed.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsm-tunnelslots_per_session">
<span id="server-config-/vsm/tunnelslots_per_session"></span><span class="sig-name descname"><span class="pre">/vsm/tunnelslots_per_session</span></span><a class="headerlink" href="#server-config-vsm-tunnelslots_per_session" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of ports to reserve for tunnel port endpoints on the
server. The number of ports actually used depends on the number of
services defined under <a class="reference internal" href="#server-config-vsm-tunnelservices"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelservices</span></code></a> . We recommend
letting this parameter have its default value (10), since that
provides a margin for future services. See <a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for an
in-depth explanation of port allocation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter should normally not be changed and must not be
changed whilst there are any running sessions.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsm-vnc_port_base">
<span id="server-config-/vsm/vnc_port_base"></span><span class="sig-name descname"><span class="pre">/vsm/vnc_port_base</span></span><a class="headerlink" href="#server-config-vsm-vnc_port_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The port base for VNC communication. The VNC protocol runs on one
port per active user on the VSM agent host, and this is the base of
the numbers used. That is, for the first user, the port will be
<a class="reference internal" href="#server-config-vsm-vnc_port_base"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/vnc_port_base</span></code></a> + 1, for the second user
<a class="reference internal" href="#server-config-vsm-vnc_port_base"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/vnc_port_base</span></code></a> + 2 and so on. This algorithm is used
only for display numbers below 100. See <a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for an
in-depth explanation of port allocation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter should normally not be changed.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsm-vsm_agent_port">
<span id="server-config-/vsm/vsm_agent_port"></span><span class="sig-name descname"><span class="pre">/vsm/vsm_agent_port</span></span><a class="headerlink" href="#server-config-vsm-vsm_agent_port" title="Permalink to this definition">¶</a></dt>
<dd><p>VSM agent communication. This is the port that the VSM server
connects to on VSM Agents. This traffic is not encrypted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter should normally not be changed</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsm-vsm_server_port">
<span id="server-config-/vsm/vsm_server_port"></span><span class="sig-name descname"><span class="pre">/vsm/vsm_server_port</span></span><a class="headerlink" href="#server-config-vsm-vsm_server_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port that the VSM server listens to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter should normally not be changed</p>
</div>
</dd></dl>

</section>
<span id="document-config_vsmagent"></span><section id="parameters-in-vsmagent">
<span id="std-server-config-folder-vsmagent"></span><span id="std:server-config-folder-/vsmagent"></span><span id="configuration-vsmagent"></span><h3>Parameters in /vsmagent/<a class="headerlink" href="#parameters-in-vsmagent" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the VSM agent. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsmagent.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-agent_hostname">
<span id="server-config-/vsmagent/agent_hostname"></span><span class="sig-name descname"><span class="pre">/vsmagent/agent_hostname</span></span><a class="headerlink" href="#server-config-vsmagent-agent_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Public hostname; the hostname that clients are redirected to. If not
defined, the agent will use the computer’s IP address. This is the
default configuration, and means that ThinLinc does not require DNS
to work properly. However, if you are using Network Address
Translation (NAT), you must set this parameter to an IP address or
DNS name that all clients can connect to. For example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">agent_hostname</span> <span class="o">=</span> <span class="s">thinlinc.example.com</span>
</pre></div>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-allowed_clients">
<span id="server-config-/vsmagent/allowed_clients"></span><span class="sig-name descname"><span class="pre">/vsmagent/allowed_clients</span></span><a class="headerlink" href="#server-config-vsmagent-allowed_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the space-separated list of VSM servers that should be
allowed to connect to this VSM agent and create new sessions.
<code class="docutils literal notranslate"><span class="pre">localhost</span></code> is always allowed, as well as the IP of the hostname
the VSM agent runs on and the host specified in the
<a class="reference internal" href="#server-config-vsmagent-master_hostname"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/master_hostname</span></code></a> parameter.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-default_environment">
<span id="server-config-/vsmagent/default_environment"></span><span class="sig-name descname"><span class="pre">/vsmagent/default_environment</span></span><a class="headerlink" href="#server-config-vsmagent-default_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>This subfolder of <a class="reference internal" href="#std-server-config-folder-vsmagent"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent</span></code></a> contains environment
variables that should be set in each user’s session. Example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[/vsmagent/default_environment]</span>
<span class="na">TOWN</span><span class="o">=</span><span class="s">Springfield</span>
<span class="na">LC_CTYPE</span><span class="o">=</span><span class="s">sv_SE.UTF-8</span>
<span class="na">FOOBAR</span><span class="o">=</span><span class="s">foobar</span>
</pre></div>
</div>
<p>This will set the <span class="sig sig-inline environ">TOWN</span> environment variable to
<code class="docutils literal notranslate"><span class="pre">Springfield</span></code> , the <span class="sig sig-inline environ">LC_CTYPE</span> variable to <code class="docutils literal notranslate"><span class="pre">sv_SE.UTF-8</span></code>
and the <span class="sig sig-inline environ">FOOBAR</span> variable to <code class="docutils literal notranslate"><span class="pre">foobar</span></code> in each user’s
session.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong class="program">xsession</strong> is executed via a login shell, which may
modify the environment and override values in
<a class="reference internal" href="#server-config-vsmagent-default_environment"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/default_environment</span></code></a>.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-default_geometry">
<span id="server-config-/vsmagent/default_geometry"></span><span class="sig-name descname"><span class="pre">/vsmagent/default_geometry</span></span><a class="headerlink" href="#server-config-vsmagent-default_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>The default session size, to be used when clients are not requesting
any specific session size.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-display_max">
<span id="server-config-/vsmagent/display_max"></span><span class="sig-name descname"><span class="pre">/vsmagent/display_max</span></span><a class="headerlink" href="#server-config-vsmagent-display_max" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum display number to be used for ThinLinc sessions on each
specific VSM agent host. Default value is <code class="docutils literal notranslate"><span class="pre">2000</span></code>.</p>
<p>The maximum ThinLinc sessions allowed on a specific VSM Agent host is
<a class="reference internal" href="#server-config-vsmagent-display_max"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/display_max</span></code></a> -
<a class="reference internal" href="#server-config-vsmagent-display_min"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/display_min</span></code></a>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-display_min">
<span id="server-config-/vsmagent/display_min"></span><span class="sig-name descname"><span class="pre">/vsmagent/display_min</span></span><a class="headerlink" href="#server-config-vsmagent-display_min" title="Permalink to this definition">¶</a></dt>
<dd><p>The lowest display numbers to use for clients. The default is <code class="docutils literal notranslate"><span class="pre">10</span></code>,
and unless there are other processes needing display numbers, the
recommendation is not to change this number. See <a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for
an in-depth explanation of port allocation.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-listen_port">
<span id="server-config-/vsmagent/listen_port"></span><span class="sig-name descname"><span class="pre">/vsmagent/listen_port</span></span><a class="headerlink" href="#server-config-vsmagent-listen_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The TCP port VSM Agent listen to for incoming requests. This should
normally be set to the same value as <a class="reference internal" href="index.html#server-config-vsm-vsm_agent_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/vsm_agent_port</span></code></a>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-lowest_user_port">
<span id="server-config-/vsmagent/lowest_user_port"></span><span class="sig-name descname"><span class="pre">/vsmagent/lowest_user_port</span></span><a class="headerlink" href="#server-config-vsmagent-lowest_user_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The lowest port to be used by normal user processes. This may <em>never</em>
be lower than <a class="reference internal" href="#server-config-vsmagent-max_session_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/max_session_port</span></code></a>. See
<a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for an in-depth explanation of port allocation.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-make_homedir">
<span id="server-config-/vsmagent/make_homedir"></span><span class="sig-name descname"><span class="pre">/vsmagent/make_homedir</span></span><a class="headerlink" href="#server-config-vsmagent-make_homedir" title="Permalink to this definition">¶</a></dt>
<dd><p>If this parameter is true, the user’s home directory will be
automatically created if it doesn’t exist.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-make_homedir_mode">
<span id="server-config-/vsmagent/make_homedir_mode"></span><span class="sig-name descname"><span class="pre">/vsmagent/make_homedir_mode</span></span><a class="headerlink" href="#server-config-vsmagent-make_homedir_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>When a home directory is created (see parameter
<a class="reference internal" href="#server-config-vsmagent-make_homedir"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/make_homedir</span></code></a> above), the mode for the newly
created directory will be determined by this parameter.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-master_hostname">
<span id="server-config-/vsmagent/master_hostname"></span><span class="sig-name descname"><span class="pre">/vsmagent/master_hostname</span></span><a class="headerlink" href="#server-config-vsmagent-master_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies the hostname of the master machine, i.e. the
machine that runs the VSM server. In a HA setup, this should be the
hostname of the IP address that is on the machine that is currently
the active node, to ensure that services on the agents that need to
access the VSM Server always connects to the machine that is up and
running.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-max_session_port">
<span id="server-config-/vsmagent/max_session_port"></span><span class="sig-name descname"><span class="pre">/vsmagent/max_session_port</span></span><a class="headerlink" href="#server-config-vsmagent-max_session_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The highest port to use for VNC and tunnel ports on the VSM Agent.
See <a class="reference internal" href="index.html#tcp-ports"><span class="std std-ref">TCP ports used by ThinLinc</span></a> for an in-depth explanation of port allocation.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-single_signon">
<span id="server-config-/vsmagent/single_signon"></span><span class="sig-name descname"><span class="pre">/vsmagent/single_signon</span></span><a class="headerlink" href="#server-config-vsmagent-single_signon" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter decides whether the passwords of the users should be
saved in order to support Single Sign-On when connecting to servers
from the ThinLinc session, for example when running a Windows
session.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-xserver_args">
<span id="server-config-/vsmagent/xserver_args"></span><span class="sig-name descname"><span class="pre">/vsmagent/xserver_args</span></span><a class="headerlink" href="#server-config-vsmagent-xserver_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Extra arguments to pass on to the X server Xvnc. One common case is
to use <code class="docutils literal notranslate"><span class="pre">-localhost</span></code> , which makes Xvnc require connections to
originate from localhost, thus forcing applications to either be
local or use a tunnel (which often also means that the traffic is
encrypted). Other examples include <code class="docutils literal notranslate"><span class="pre">-IdleTimeout</span></code> and
<code class="docutils literal notranslate"><span class="pre">-MaxIdleTime</span></code>. For more information, see
<a class="reference internal" href="index.html#configuration-limiting-lifetime"><span class="std std-ref">Limiting lifetime of ThinLinc sessions</span></a>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmagent-xauthority_location">
<span id="server-config-/vsmagent/xauthority_location"></span><span class="sig-name descname"><span class="pre">/vsmagent/xauthority_location</span></span><a class="headerlink" href="#server-config-vsmagent-xauthority_location" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter controls the location of the <code class="file docutils literal notranslate"><span class="pre">Xauthority</span></code> file.
Currently, two values are supported: With <code class="docutils literal notranslate"><span class="pre">homedir</span></code>, the file will
be placed in the user’s home directory. With <code class="docutils literal notranslate"><span class="pre">sessiondir</span></code>, the file
will be placed in the session directory below
<code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions</span></code>. The <span class="sig sig-inline environ">XAUTHORITY</span>
environment variable is set accordingly by the VSM agent.</p>
</dd></dl>

</section>
<span id="document-config_vsmserver"></span><section id="parameters-in-vsmserver">
<span id="std-server-config-folder-vsmserver"></span><span id="std:server-config-folder-/vsmserver"></span><span id="configuration-vsmserver"></span><h3>Parameters in /vsmserver/<a class="headerlink" href="#parameters-in-vsmserver" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the VSM server. These configuration parameters reside in
<code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsmserver.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-admin_email">
<span id="server-config-/vsmserver/admin_email"></span><span class="sig-name descname"><span class="pre">/vsmserver/admin_email</span></span><a class="headerlink" href="#server-config-vsmserver-admin_email" title="Permalink to this definition">¶</a></dt>
<dd><p>The administrator’s email address. This is where warnings about
overuse of Licenses are sent, among with other administrative
messages. Make sure this is a valid address.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-allowed_clients">
<span id="server-config-/vsmserver/allowed_clients"></span><span class="sig-name descname"><span class="pre">/vsmserver/allowed_clients</span></span><a class="headerlink" href="#server-config-vsmserver-allowed_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>A space-separated list of hosts from which privileged operations are
allowed. The default (empty) allows localhost to do this. Privileged
operations are for example to deactivate a session, something that
should be allowed by the host running the ThinLinc Web Administration
service.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-allowed_groups">
<span id="server-config-/vsmserver/allowed_groups"></span><span class="sig-name descname"><span class="pre">/vsmserver/allowed_groups</span></span><a class="headerlink" href="#server-config-vsmserver-allowed_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>ThinLinc access can be limited to certain groups. If the
<a class="reference internal" href="#server-config-vsmserver-allowed_groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">allowed_groups</span></code></a> space-separated list is empty, all users are
accepted. Otherwise, the user must be a member of the groups listed
below, to be able to use ThinLinc. Example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">allowed_groups</span> <span class="o">=</span> <span class="s">students teachers</span>
</pre></div>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-bogomips_per_user">
<span id="server-config-/vsmserver/bogomips_per_user"></span><span class="sig-name descname"><span class="pre">/vsmserver/bogomips_per_user</span></span><a class="headerlink" href="#server-config-vsmserver-bogomips_per_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimated bogomips required for each user.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-existing_users_weight">
<span id="server-config-/vsmserver/existing_users_weight"></span><span class="sig-name descname"><span class="pre">/vsmserver/existing_users_weight</span></span><a class="headerlink" href="#server-config-vsmserver-existing_users_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter decides the importance of the number of logged-in
users on a VSM agent host when calculating load balance parameters. A
host with low load, but a lot of users, is generally more likely to
get a higher load within a short time when the users get active. For
this reason, the load balance calculating code takes the number of
users at a certain host into its calculation. The
<a class="reference internal" href="#server-config-vsmserver-existing_users_weight"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/existing_users_weight</span></code></a> controls how important
this factor is. A higher value of this parameter means the load
balancing code will care less about a high number of users on a
certain machine.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter should normally not be changed, unless when
fine-tuning the load balancing.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-HA-enabled">
<span id="server-config-/vsmserver/HA/enabled"></span><span class="sig-name descname"><span class="pre">/vsmserver/HA/enabled</span></span><a class="headerlink" href="#server-config-vsmserver-HA-enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>If this parameter is true, the VSM server will try to replicate
information about sessions to the other VSM server node. See
<a class="reference internal" href="index.html#ha"><span class="std std-ref">High availability</span></a> for more information about ThinLinc in a high availability
configuration.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-HA-nodes">
<span id="server-config-/vsmserver/HA/nodes"></span><span class="sig-name descname"><span class="pre">/vsmserver/HA/nodes</span></span><a class="headerlink" href="#server-config-vsmserver-HA-nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter lists the hostnames of both nodes in a ThinLinc high
availability setup. The space-separated list should include the hostname of the
current node. This means that <code class="file docutils literal notranslate"><span class="pre">vsmserver.hconf</span></code> can be
identical on both nodes.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-listen_port">
<span id="server-config-/vsmserver/listen_port"></span><span class="sig-name descname"><span class="pre">/vsmserver/listen_port</span></span><a class="headerlink" href="#server-config-vsmserver-listen_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The TCP port VSM Server listen to for incoming requests. This should
normally be set to the same value as
<a class="reference internal" href="index.html#server-config-vsm-vsm_server_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/vsm_server_port</span></code></a>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-load_update_cycle">
<span id="server-config-/vsmserver/load_update_cycle"></span><span class="sig-name descname"><span class="pre">/vsmserver/load_update_cycle</span></span><a class="headerlink" href="#server-config-vsmserver-load_update_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of seconds allowed for updating the load status in the
entire cluster.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-max_sessions_per_user">
<span id="server-config-/vsmserver/max_sessions_per_user"></span><span class="sig-name descname"><span class="pre">/vsmserver/max_sessions_per_user</span></span><a class="headerlink" href="#server-config-vsmserver-max_sessions_per_user" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of sessions allowed per user. <code class="docutils literal notranslate"><span class="pre">0</span></code> means no
limit. The master will attempt to keep all sessions for a user on the
same agent server in order to avoid problems. The problems usually
come from applications that incorrectly assumes unrivaled access to
the user’s home directory. When on the same machine the conditions
allow the applications to handle things better.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-ram_per_user">
<span id="server-config-/vsmserver/ram_per_user"></span><span class="sig-name descname"><span class="pre">/vsmserver/ram_per_user</span></span><a class="headerlink" href="#server-config-vsmserver-ram_per_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer, number of estimated MiB memory required for each session.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-unbind_ports_at_login">
<span id="server-config-/vsmserver/unbind_ports_at_login"></span><span class="sig-name descname"><span class="pre">/vsmserver/unbind_ports_at_login</span></span><a class="headerlink" href="#server-config-vsmserver-unbind_ports_at_login" title="Permalink to this definition">¶</a></dt>
<dd><p>If this parameter is true, processes occupying the users’ interval of
forwarded ports will be killed at login. This means that if a user
logs in twice to the same session, the second login will get working
tunnel ports, if this parameter is true. The first session’s tunnel
ports will stop working. If the parameter is false, the first session
will keep the ports.</p>
</dd></dl>

</section>
<span id="document-config_subclusters"></span><section id="parameters-in-vsmserver-subclusters">
<span id="std-server-config-folder-vsmserver-subclusters"></span><span id="std:server-config-folder-/vsmserver/subclusters"></span><span id="configuration-subcluster-params"></span><h3>Parameters in /vsmserver/subclusters/<a class="headerlink" href="#parameters-in-vsmserver-subclusters" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters used for defining
subclusters. For more information about subclusters see
<a class="reference internal" href="index.html#configuration-subcluster"><span class="std std-ref">Subclusters</span></a>. These configuration parameters reside
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/vsmserver.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-subclusters-name-agents">
<span id="server-config-/vsmserver/subclusters/<name>/agents"></span><span class="sig-name descname"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/agents</span></span><a class="headerlink" href="#server-config-vsmserver-subclusters-name-agents" title="Permalink to this definition">¶</a></dt>
<dd><p>All ThinLinc agents part of this ThinLinc subcluster. New user
sessions for this subcluster are created on the agents in this list.
Agents later removed from the list will continue to function normally
for existing sessions until those sessions end. This should be a
space-separated list of DNS host names. These will be used for
communication between the master and the agent. The name reported to
the client is fetched from the agent itself; names in
<a class="reference internal" href="#server-config-vsmserver-subclusters-name-agents"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/agents</span></code></a> are not reported
directly to the clients.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-subclusters-name-users">
<span id="server-config-/vsmserver/subclusters/<name>/users"></span><span class="sig-name descname"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/users</span></span><a class="headerlink" href="#server-config-vsmserver-subclusters-name-users" title="Permalink to this definition">¶</a></dt>
<dd><p>All users who should be associated with this specific ThinLinc
subcluster. This should be a space-separated list of usernames. If
both <a class="reference internal" href="#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/users</span></code></a> and
<a class="reference internal" href="#server-config-vsmserver-subclusters-name-groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/groups</span></code></a> are empty it means
the subcluster is a default subcluster.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-subclusters-name-groups">
<span id="server-config-/vsmserver/subclusters/<name>/groups"></span><span class="sig-name descname"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/groups</span></span><a class="headerlink" href="#server-config-vsmserver-subclusters-name-groups" title="Permalink to this definition">¶</a></dt>
<dd><p>All user groups that should be associated with this specific ThinLinc
subcluster. This should be a space-separated list of group names. If
both <a class="reference internal" href="#server-config-vsmserver-subclusters-name-groups"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/groups</span></code></a> and
<a class="reference internal" href="#server-config-vsmserver-subclusters-name-users"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/users</span></code></a> are empty it means
the subcluster is a default subcluster.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-vsmserver-subclusters-name-max_users_per_agent">
<span id="server-config-/vsmserver/subclusters/<name>/max_users_per_agent"></span><span class="sig-name descname"><span class="pre">/vsmserver/subclusters/&lt;name&gt;/max_users_per_agent</span></span><a class="headerlink" href="#server-config-vsmserver-subclusters-name-max_users_per_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum concurrent users allowed per agent within the subcluster. The
default value is 0, which implies an unlimited number of users. When the
limit is reached, the agent will no longer be considered by the load
balancer for new users.</p>
</dd></dl>

</section>
<span id="document-config_webaccess"></span><section id="parameters-in-webaccess">
<span id="std-server-config-folder-webaccess"></span><span id="std:server-config-folder-/webaccess"></span><span id="configuration-tlwebaccess"></span><h3>Parameters in /webaccess/<a class="headerlink" href="#parameters-in-webaccess" title="Permalink to this headline">¶</a></h3>
<p>In this section, we will describe all the parameters currently used by
the ThinLinc Web Access client. These configuration parameters reside
in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/conf.d/webaccess.hconf</span></code>.</p>
<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-cert">
<span id="server-config-/webaccess/cert"></span><span class="sig-name descname"><span class="pre">/webaccess/cert</span></span><a class="headerlink" href="#server-config-webaccess-cert" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the certificate file to be used for TLS encryption.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This certificate may be downloaded by connecting clients to be
installed in their browsers. Make sure that this file does not
contain a private key.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-certkey">
<span id="server-config-/webaccess/certkey"></span><span class="sig-name descname"><span class="pre">/webaccess/certkey</span></span><a class="headerlink" href="#server-config-webaccess-certkey" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the certificate private key file used for TLS encryption.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-login_page">
<span id="server-config-/webaccess/login_page"></span><span class="sig-name descname"><span class="pre">/webaccess/login_page</span></span><a class="headerlink" href="#server-config-webaccess-login_page" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL which is used to redirect back to the Web Access login page
on the master server. The default value is <code class="docutils literal notranslate"><span class="pre">/</span></code>, which redirects to
the current server. This parameter needs to be changed when ThinLinc
Web Access is used in a cluster setup.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-listen_port">
<span id="server-config-/webaccess/listen_port"></span><span class="sig-name descname"><span class="pre">/webaccess/listen_port</span></span><a class="headerlink" href="#server-config-webaccess-listen_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The local port for this service to listen on. The default port used
is <code class="docutils literal notranslate"><span class="pre">300</span></code>.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-gnutls_priority">
<span id="server-config-/webaccess/gnutls_priority"></span><span class="sig-name descname"><span class="pre">/webaccess/gnutls_priority</span></span><a class="headerlink" href="#server-config-webaccess-gnutls_priority" title="Permalink to this definition">¶</a></dt>
<dd><p>The GnuTLS priority string is used to select the order and
availability of TLS versions, ciphers, key exchange, MAC,
compression, signature and elliptic curve algorithms for TLS
sessions. See <a class="reference internal" href="index.html#gnutls-priorities"><span class="std std-ref">GnuTLS priority strings</span></a> for possible values.</p>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-server_tokens">
<span id="server-config-/webaccess/server_tokens"></span><span class="sig-name descname"><span class="pre">/webaccess/server_tokens</span></span><a class="headerlink" href="#server-config-webaccess-server_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, Web Access includes the ThinLinc version,
as well as Python version information in the “Server” response header
field. If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the “Server” response header will not
include any version information. The default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disabling server_tokens might make it easier to work with some
security scanners that raise alerts when this type of version
information is included. But note that hiding version information
does nothing to make your server more secure.</p>
</div>
</dd></dl>

<span class="target" id="std-server-config-folder-webaccess-hsts"><span id="std:server-config-folder-/webaccess/hsts"></span></span><dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-hsts-policy">
<span id="server-config-/webaccess/hsts/policy"></span><span class="sig-name descname"><span class="pre">/webaccess/hsts/policy</span></span><a class="headerlink" href="#server-config-webaccess-hsts-policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Note the warnings about enabling HSTS policy, see
<a class="reference internal" href="index.html#configuring-hsts-header"><span class="std std-ref">Configuring HSTS headers</span></a>. The results should be considered
permanent once enabled and are difficult to reverse. The only way to
disable the HSTS policy is to wait for the specified duration, as
described below, to pass until visiting the domain again.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Off</span></code>: The default value. The HSTS header will not be sent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Testing</span></code>: Before setting the policy to permanent, it is
recommended to test if the policy works for the intended domains to
verify they support HTTPS. This value indicates to the browser that
it should only remember this domain for 10 minutes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Permanent</span></code>: This value indicates that browsers will remember
this domain for 2 years. This duration is refreshed every time a
domain is revisited, which is why it should be viewed as permanent.</p></li>
</ul>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-hsts-subdomains_included">
<span id="server-config-/webaccess/hsts/subdomains_included"></span><span class="sig-name descname"><span class="pre">/webaccess/hsts/subdomains_included</span></span><a class="headerlink" href="#server-config-webaccess-hsts-subdomains_included" title="Permalink to this definition">¶</a></dt>
<dd><p>The HSTS policy will be applied to the included subdomains of the
ThinLinc host if enabled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to verify that all subdomains support HTTPS
before enabling this. In order to verify, set <code class="docutils literal notranslate"><span class="pre">policy=testing</span></code>,
restart the service and  then visit Web Access in the browser to
enable the HSTS policy.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-hsts-allow_browser_preload">
<span id="server-config-/webaccess/hsts/allow_browser_preload"></span><span class="sig-name descname"><span class="pre">/webaccess/hsts/allow_browser_preload</span></span><a class="headerlink" href="#server-config-webaccess-hsts-allow_browser_preload" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Requirements:</em> <code class="docutils literal notranslate"><span class="pre">policy=permanent</span></code> and <code class="docutils literal notranslate"><span class="pre">subdomains_included=true</span></code></p>
<p>With <code class="docutils literal notranslate"><span class="pre">allow_browser_preload</span></code> enabled, it is indicated to the
browser that the intention is to add the domain, and subdomains, to
the browsers’ lists. This would result in the HSTS policy being
enabled at the first visit to the domain or subdomain.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only use this option if you are sure to support HTTPS for domains
and subdomains. It may be difficult to remove domains and
subdomains from the preload list.</p>
</div>
</dd></dl>

<dl class="std server-config">
<dt class="sig sig-object std" id="server-config-webaccess-logging-logfile">
<span id="server-config-/webaccess/logging/logfile"></span><span class="sig-name descname"><span class="pre">/webaccess/logging/logfile</span></span><a class="headerlink" href="#server-config-webaccess-logging-logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>The file to use for logging tlwebaccess messages. By default, this is
<code class="file docutils literal notranslate"><span class="pre">/var/log/tlwebaccess.log</span></code>.</p>
</dd></dl>

</section>
</div>
</section>
<span id="document-client_config_params"></span><section id="client-configuration-parameters">
<span id="clientconf-params"></span><h2>Client configuration parameters<a class="headerlink" href="#client-configuration-parameters" title="Permalink to this headline">¶</a></h2>
<p>The Windows, Linux, and macOS version of the ThinLinc client all use the
same names for their configuration parameters, although the storage
technique used is different. In this section we will list the parameters
and explain their possible values. See <a class="reference internal" href="index.html#clientconf"><span class="std std-ref">Configuration storage</span></a> for information
about where client configuration is stored on different systems.</p>
<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-ALLOW_HOSTKEY_UPDATE">
<span class="sig-name descname"><span class="pre">ALLOW_HOSTKEY_UPDATE</span></span><a class="headerlink" href="#client-config-ALLOW_HOSTKEY_UPDATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if SSH host key updates should be allowed. This parameter
cannot be changed from the GUI. The result of setting
<a class="reference internal" href="#client-config-ALLOW_HOSTKEY_UPDATE"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">ALLOW_HOSTKEY_UPDATE</span></code></a> to <code class="docutils literal notranslate"><span class="pre">0</span></code> is that the client cannot
connect to the server if the host key is wrong. This enhances
security if there is a risk for a man in the middle attack.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-AUTHENTICATION_METHOD">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_METHOD</span></span><a class="headerlink" href="#client-config-AUTHENTICATION_METHOD" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter can be set to <code class="docutils literal notranslate"><span class="pre">password</span></code>, <code class="docutils literal notranslate"><span class="pre">publickey</span></code>,
<code class="docutils literal notranslate"><span class="pre">scpublickey</span></code> or <code class="docutils literal notranslate"><span class="pre">kerberos</span></code> to select the authentication mode
used by the client.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-AUTOLOGIN">
<span class="sig-name descname"><span class="pre">AUTOLOGIN</span></span><a class="headerlink" href="#client-config-AUTOLOGIN" title="Permalink to this definition">¶</a></dt>
<dd><p>If this parameter is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>, the client will automatically log
in at startup, using the server name, username and password specified
in the configuration.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-CERTIFICATE">
<span class="sig-name descname"><span class="pre">CERTIFICATE</span></span><a class="headerlink" href="#client-config-CERTIFICATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the smart card certificate to use when authenticating.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-CERTIFICATE_NAMING">
<span class="sig-name descname"><span class="pre">CERTIFICATE_NAMING</span></span><a class="headerlink" href="#client-config-CERTIFICATE_NAMING" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls how the client presents a certificate to the user. The
parameter consists of a comma separated list of naming tokens that
represent bits of information from each card or certificate. Possible
tokens:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">card_label</span></code></dt><dd><p>The label specified on the smart card.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pin_label</span></code></dt><dd><p>The label associated with the PIN protecting this certificate.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">subject_*</span></code></dt><dd><p>A field from the subject in the certificate. Can for example be
the common name by specifying <code class="docutils literal notranslate"><span class="pre">subject_cn</span></code> or
<code class="docutils literal notranslate"><span class="pre">subject_commonName</span></code>. Any registered object identifier descriptor
can be used (see <a class="reference external" href="https://www.iana.org/assignments/ldap-parameters/ldap-parameters.xhtml">IANA</a> for a full list).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">issuer_*</span></code></dt><dd><p>A field from the issuer in the certificate, in the same manner as
for <code class="docutils literal notranslate"><span class="pre">subject_*</span></code>.</p>
</dd>
</dl>
<p>The client will use as many of the tokens as necessary to give each
certificate a unique name. That means that certificates on two
different cards can be presented with a different number of tokens
depending on how much the information between the certificates
overlap. An index number will be added to the name if the names are
still not unique when all tokens are used.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-CUSTOM_COMPRESSION">
<span class="sig-name descname"><span class="pre">CUSTOM_COMPRESSION</span></span><a class="headerlink" href="#client-config-CUSTOM_COMPRESSION" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if a custom compression method is selected.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-CUSTOM_COMPRESSION_LEVEL">
<span class="sig-name descname"><span class="pre">CUSTOM_COMPRESSION_LEVEL</span></span><a class="headerlink" href="#client-config-CUSTOM_COMPRESSION_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd><p>The selected compression level. An integer between 1 and 9.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-DISPLAY_MODE">
<span class="sig-name descname"><span class="pre">DISPLAY_MODE</span></span><a class="headerlink" href="#client-config-DISPLAY_MODE" title="Permalink to this definition">¶</a></dt>
<dd><p>The display mode. It can be set to values <code class="docutils literal notranslate"><span class="pre">SIMPLE</span></code> and
<code class="docutils literal notranslate"><span class="pre">ADVANCED</span></code>, or be left empty. In the latter case, the default
behavior is to use simple mode if a server name is given as a
parameter and advanced mode otherwise.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-EMULATE_MIDDLE_BUTTON">
<span class="sig-name descname"><span class="pre">EMULATE_MIDDLE_BUTTON</span></span><a class="headerlink" href="#client-config-EMULATE_MIDDLE_BUTTON" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should emulate middle mouse button when
pressing left and right mouse buttons simultaneously.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-FULL_SCREEN_MODE">
<span class="sig-name descname"><span class="pre">FULL_SCREEN_MODE</span></span><a class="headerlink" href="#client-config-FULL_SCREEN_MODE" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should run in full-screen mode.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-FULL_SCREEN_MONITOR_MODE">
<span class="sig-name descname"><span class="pre">FULL_SCREEN_MONITOR_MODE</span></span><a class="headerlink" href="#client-config-FULL_SCREEN_MONITOR_MODE" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter selects which monitors the client should be used when
in full-screen mode and can be set to one of the following:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">current</span></code></dt><dd><p>Use the monitor the client window is currently displayed on.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">all</span></code></dt><dd><p>Use all available monitors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">selected</span></code></dt><dd><p>Use the monitors specified in
<a class="reference internal" href="#client-config-FULL_SCREEN_SELECTED_MONITORS"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">FULL_SCREEN_SELECTED_MONITORS</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-FULL_SCREEN_SELECTED_MONITORS">
<span class="sig-name descname"><span class="pre">FULL_SCREEN_SELECTED_MONITORS</span></span><a class="headerlink" href="#client-config-FULL_SCREEN_SELECTED_MONITORS" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies a comma separated list of monitor numbers
that should be used in full-screen mode when
<a class="reference internal" href="#client-config-FULL_SCREEN_MONITOR_MODE"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">FULL_SCREEN_MONITOR_MODE</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">selected</span></code>.
Monitors are numbered from left to right, based on their top-left
corner, starting from one. If two monitors are perfectly aligned
vertically then the top-most monitor is considered first.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-HOST_ALIASES">
<span class="sig-name descname"><span class="pre">HOST_ALIASES</span></span><a class="headerlink" href="#client-config-HOST_ALIASES" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies a list of hostname and port translations.
This translation list is consulted whenever the client is about to
initiate a network connection. This includes the SSH connection to
the ThinLinc agent machine. The syntax for this parameter is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[fromhost][:fromport]=[tohost][:toport] ...
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">fromhost</span></code> is omitted, the translation will apply to all hosts.
The same principle is used for ports. If <code class="docutils literal notranslate"><span class="pre">tohost</span></code> or <code class="docutils literal notranslate"><span class="pre">toport</span></code> is
omitted, the original host or port will be used. Multiple
translations are separated with whitespace. The translation stops as
soon as one match is found.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-JPEG_COMPRESSION">
<span class="sig-name descname"><span class="pre">JPEG_COMPRESSION</span></span><a class="headerlink" href="#client-config-JPEG_COMPRESSION" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if JPEG compression is wanted.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-JPEG_COMPRESSION_LEVEL">
<span class="sig-name descname"><span class="pre">JPEG_COMPRESSION_LEVEL</span></span><a class="headerlink" href="#client-config-JPEG_COMPRESSION_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd><p>The wanted compression level.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-KILL_EXISTING_SESSIONS">
<span class="sig-name descname"><span class="pre">KILL_EXISTING_SESSIONS</span></span><a class="headerlink" href="#client-config-KILL_EXISTING_SESSIONS" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if existing sessions should be ended.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It makes little sense to change this value. The client never saves
this setting.</p>
</div>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-LOGIN_NAME">
<span class="sig-name descname"><span class="pre">LOGIN_NAME</span></span><a class="headerlink" href="#client-config-LOGIN_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The username.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-LOWERCASE_LOGIN_NAME">
<span class="sig-name descname"><span class="pre">LOWERCASE_LOGIN_NAME</span></span><a class="headerlink" href="#client-config-LOWERCASE_LOGIN_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should convert the entered username to
lowercase before logging into the server. This affects both the login
username and the name of the user to shadow (if applicable).</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-NEW_PASSWORD_REGEXP">
<span class="sig-name descname"><span class="pre">NEW_PASSWORD_REGEXP</span></span><a class="headerlink" href="#client-config-NEW_PASSWORD_REGEXP" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies a regular expression. If an interactive SSH
prompt matches this expression, the response is taken as a new
password. The new password will be used for the SSH connection to the
agent machine. It will also be sent to the server to enable Single
Sign-On.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-NFS_EXPORTS">
<span class="sig-name descname"><span class="pre">NFS_EXPORTS</span></span><a class="headerlink" href="#client-config-NFS_EXPORTS" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of local drive paths and permissions. The syntax for this
parameter is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[path1],[permissions1],[path2],[permissions2] ...
</pre></div>
</div>
<p>As seen above, each path should be followed by the desired
permissions <code class="docutils literal notranslate"><span class="pre">disabled</span></code> (not exported), <code class="docutils literal notranslate"><span class="pre">ro</span></code> (read only) or
<code class="docutils literal notranslate"><span class="pre">rw</span></code> (read and write). See <a class="reference internal" href="index.html#client-advanced-tab"><span class="std std-ref">Advanced tab</span></a> for
their meaning. This list specifies local drives to be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-NFS_ROOT_WARNING">
<span class="sig-name descname"><span class="pre">NFS_ROOT_WARNING</span></span><a class="headerlink" href="#client-config-NFS_ROOT_WARNING" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> to enable a warning if running as root and exporting
local drives.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-NFS_SERVER_ENABLED">
<span class="sig-name descname"><span class="pre">NFS_SERVER_ENABLED</span></span><a class="headerlink" href="#client-config-NFS_SERVER_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if local drives should be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-OPTIONS_POPUP_KEY">
<span class="sig-name descname"><span class="pre">OPTIONS_POPUP_KEY</span></span><a class="headerlink" href="#client-config-OPTIONS_POPUP_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p>Key code for key to activate option pop-up menu.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-PASSWORD">
<span class="sig-name descname"><span class="pre">PASSWORD</span></span><a class="headerlink" href="#client-config-PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter allows you to specify a password in the configuration
file. It must be specified using a hexadecimal ASCII notation, which
means that every character is specified by its hexadecimal value.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The password value is not encrypted. It should be treated as a
clear text password. Avoid storing configuration files with a
<a class="reference internal" href="#client-config-PASSWORD"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">PASSWORD</span></code></a> parameter on disk or transmit such files
over networks without encryption.</p>
</div>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-PKCS11_MODULE">
<span class="sig-name descname"><span class="pre">PKCS11_MODULE</span></span><a class="headerlink" href="#client-config-PKCS11_MODULE" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the PKCS#11 module that will be used to communicate with
the smart card. The path can be relative to the base prefix of the
ThinLinc client or an absolute path.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-PRINTER_ENABLED">
<span class="sig-name descname"><span class="pre">PRINTER_ENABLED</span></span><a class="headerlink" href="#client-config-PRINTER_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if local printers should be enabled.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-PRINTER_SELECTION">
<span class="sig-name descname"><span class="pre">PRINTER_SELECTION</span></span><a class="headerlink" href="#client-config-PRINTER_SELECTION" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the local printer selection dialog should be
displayed on every print on Windows and macOS clients. Otherwise
printing jobs will be sent to the default local printer.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-PRIVATE_KEY">
<span class="sig-name descname"><span class="pre">PRIVATE_KEY</span></span><a class="headerlink" href="#client-config-PRIVATE_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies the path to the private key to be used to
authenticate the user.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-RECONNECT_POLICY">
<span class="sig-name descname"><span class="pre">RECONNECT_POLICY</span></span><a class="headerlink" href="#client-config-RECONNECT_POLICY" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter can be set to <code class="docutils literal notranslate"><span class="pre">single-disconnected</span></code> or <code class="docutils literal notranslate"><span class="pre">ask</span></code> to
control the client’s reconnect policy. See
<a class="reference internal" href="index.html#client-advanced-tab"><span class="std std-ref">Advanced tab</span></a> for their meaning.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-REMOVE_CONFIGURATION">
<span class="sig-name descname"><span class="pre">REMOVE_CONFIGURATION</span></span><a class="headerlink" href="#client-config-REMOVE_CONFIGURATION" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">1</span></code>, the user configuration file (or the file specified by
<code class="docutils literal notranslate"><span class="pre">-C</span></code>) will be removed after the client has started. Settings
changed in the GUI will not be stored to disk. If the client fails to
remove the file, it will try to truncate it instead.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SEND_SYSKEYS">
<span class="sig-name descname"><span class="pre">SEND_SYSKEYS</span></span><a class="headerlink" href="#client-config-SEND_SYSKEYS" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should send system keys (like
<kbd class="kbd docutils literal notranslate">Alt+Tab</kbd>) to the remote system when in full-screen mode.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SERIAL1_DAEMON_DEVICE">
<span class="sig-name descname"><span class="pre">SERIAL1_DAEMON_DEVICE</span></span><a class="headerlink" href="#client-config-SERIAL1_DAEMON_DEVICE" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the first local serial port device to be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SERIAL1_PORT_ENABLED">
<span class="sig-name descname"><span class="pre">SERIAL1_PORT_ENABLED</span></span><a class="headerlink" href="#client-config-SERIAL1_PORT_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the first local serial port should be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SERIAL2_DAEMON_DEVICE">
<span class="sig-name descname"><span class="pre">SERIAL2_DAEMON_DEVICE</span></span><a class="headerlink" href="#client-config-SERIAL2_DAEMON_DEVICE" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the second local serial port device to be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SERIAL2_PORT_ENABLED">
<span class="sig-name descname"><span class="pre">SERIAL2_PORT_ENABLED</span></span><a class="headerlink" href="#client-config-SERIAL2_PORT_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the second local serial port should be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SERIAL_PORTS_ENABLED">
<span class="sig-name descname"><span class="pre">SERIAL_PORTS_ENABLED</span></span><a class="headerlink" href="#client-config-SERIAL_PORTS_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if local serial ports should be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SERVER_NAME">
<span class="sig-name descname"><span class="pre">SERVER_NAME</span></span><a class="headerlink" href="#client-config-SERVER_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The hostname or IP of the ThinLinc server. When using ThinLinc in a
cluster setup this should be the hostname or IP of the master server
machine.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SHADOWING_ENABLED">
<span class="sig-name descname"><span class="pre">SHADOWING_ENABLED</span></span><a class="headerlink" href="#client-config-SHADOWING_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if shadowing should be enabled.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SHADOW_NAME">
<span class="sig-name descname"><span class="pre">SHADOW_NAME</span></span><a class="headerlink" href="#client-config-SHADOW_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The username of the user whose session should be shadowed.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SMARTCARD_AUTOCONNECT">
<span class="sig-name descname"><span class="pre">SMARTCARD_AUTOCONNECT</span></span><a class="headerlink" href="#client-config-SMARTCARD_AUTOCONNECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should automatically attempt a connection
when a smart card with a suitable certificate is found, this will
only work if <a class="reference internal" href="#client-config-SMARTCARD_SUBJECT_AS_NAME"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">SMARTCARD_SUBJECT_AS_NAME</span></code></a> also is set to
<code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SMARTCARD_DISCONNECT">
<span class="sig-name descname"><span class="pre">SMARTCARD_DISCONNECT</span></span><a class="headerlink" href="#client-config-SMARTCARD_DISCONNECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should disconnect automatically when the smart
card used for authentication is removed.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SMARTCARD_EXPORT_ENABLED">
<span class="sig-name descname"><span class="pre">SMARTCARD_EXPORT_ENABLED</span></span><a class="headerlink" href="#client-config-SMARTCARD_EXPORT_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if local smart card readers should be exported.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SMARTCARD_FILTER_n">
<span class="sig-name descname"><span class="pre">SMARTCARD_FILTER_n</span></span><a class="headerlink" href="#client-config-SMARTCARD_FILTER_n" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a list of certificate filters. Replace <code class="docutils literal notranslate"><span class="pre">n</span></code> with a sequence
number that defines the order of the filter in the list.</p>
<p>The filter string consists of three fields where each field is
separated using a <code class="docutils literal notranslate"><span class="pre">|</span></code> (pipe), the defined three fields are: <em>name</em>,
<em>attributes</em> and <em>key usage</em> which are documented below. Here follows
an example of a filter string showing its format:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SMARTCARD_FILTER_1=Telia|o=TeliaSonera|5
</pre></div>
</div>
<p><em>name</em></p>
<blockquote>
<div><p>The name of the filter which will be displayed in the list of
filters defined in the user interface.</p>
</div></blockquote>
<p><em>attributes</em></p>
<blockquote>
<div><p>This field holds a comma separated list of certificate attributes
that is used when matching against available certificates, for
example <code class="docutils literal notranslate"><span class="pre">O=TeliaSonera</span></code>.</p>
</div></blockquote>
<p><em>key usage</em></p>
<blockquote>
<div><p>This field is a bit mask value used to match against a
certificate’s key usage flags. It indicates the intended usage of
the certificate, such as identification, signing etc.</p>
<p>Use this to match certificates that are intended to be used for
logon. For example, identification certificates will be matched
using a value of 5:</p>
<blockquote>
<div><p>digital signature + key encipherment = 5</p>
</div></blockquote>
<p>The values are described in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>digital signature</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>non-repudiation</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>key encipherment</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>data enciperment</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>key agreement</p></td>
</tr>
<tr class="row-even"><td><p>32</p></td>
<td><p>certificate signing</p></td>
</tr>
<tr class="row-odd"><td><p>64</p></td>
<td><p>CRL signing</p></td>
</tr>
<tr class="row-even"><td><p>128</p></td>
<td><p>enchiper only</p></td>
</tr>
<tr class="row-odd"><td><p>256</p></td>
<td><p>decipher only</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SMARTCARD_PASSPHRASE_SSO">
<span class="sig-name descname"><span class="pre">SMARTCARD_PASSPHRASE_SSO</span></span><a class="headerlink" href="#client-config-SMARTCARD_PASSPHRASE_SSO" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the client should transmit the smart card passphrase
to the ThinLinc server to enable smart card single sign-on. See
<a class="reference internal" href="index.html#client-security-tab"><span class="std std-ref">Security tab</span></a> for security implications.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SMARTCARD_SUBJECT_AS_NAME">
<span class="sig-name descname"><span class="pre">SMARTCARD_SUBJECT_AS_NAME</span></span><a class="headerlink" href="#client-config-SMARTCARD_SUBJECT_AS_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if the certificate subject should be used as logon name,
this will hide the name field from login window.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SOUND_ENABLED">
<span class="sig-name descname"><span class="pre">SOUND_ENABLED</span></span><a class="headerlink" href="#client-config-SOUND_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if sound redirection should be enabled.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SOUND_SYSTEM">
<span class="sig-name descname"><span class="pre">SOUND_SYSTEM</span></span><a class="headerlink" href="#client-config-SOUND_SYSTEM" title="Permalink to this definition">¶</a></dt>
<dd><p>Which local sound system to use. Only used on platforms that have
multiple sound systems to choose from. Possible values:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">AUTO</span></code></dt><dd><p>Automatically choose the most appropriate sound system of those
available.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PULSE</span></code></dt><dd><p>Use the local PulseAudio server as determined by X11 properties or
environment variables.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ALSA</span></code></dt><dd><p>Use the default ALSA device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OSS</span></code></dt><dd><p>Use the default OSS device.</p>
</dd>
</dl>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SSH_ARBITRARY">
<span class="sig-name descname"><span class="pre">SSH_ARBITRARY</span></span><a class="headerlink" href="#client-config-SSH_ARBITRARY" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom port number for ThinLinc connection.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SSH_COMPRESSION">
<span class="sig-name descname"><span class="pre">SSH_COMPRESSION</span></span><a class="headerlink" href="#client-config-SSH_COMPRESSION" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> to use the compression built into SSH.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-SSH_PORT_SELECTION">
<span class="sig-name descname"><span class="pre">SSH_PORT_SELECTION</span></span><a class="headerlink" href="#client-config-SSH_PORT_SELECTION" title="Permalink to this definition">¶</a></dt>
<dd><p>Port selection for ThinLinc connection. Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> for port 22 (standard ssh port).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> for port 80.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> for custom port set in the <a class="reference internal" href="#client-config-SSH_ARBITRARY"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">SSH_ARBITRARY</span></code></a>
parameter.</p></li>
</ul>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-START_PROGRAM_COMMAND">
<span class="sig-name descname"><span class="pre">START_PROGRAM_COMMAND</span></span><a class="headerlink" href="#client-config-START_PROGRAM_COMMAND" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the command to use when starting the session, if
<a class="reference internal" href="#client-config-START_PROGRAM_ENABLED"><code class="xref std std-clientconf docutils literal notranslate"><span class="pre">START_PROGRAM_ENABLED</span></code></a> is active.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-START_PROGRAM_ENABLED">
<span class="sig-name descname"><span class="pre">START_PROGRAM_ENABLED</span></span><a class="headerlink" href="#client-config-START_PROGRAM_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies if the client should request that the server starts the
session with the command supplied by the client.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-UPDATE_ENABLED">
<span class="sig-name descname"><span class="pre">UPDATE_ENABLED</span></span><a class="headerlink" href="#client-config-UPDATE_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> to enable periodic checks for new versions.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-UPDATE_INTERVAL">
<span class="sig-name descname"><span class="pre">UPDATE_INTERVAL</span></span><a class="headerlink" href="#client-config-UPDATE_INTERVAL" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies the time interval, in seconds, between
client update checks.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-UPDATE_LASTCHECK">
<span class="sig-name descname"><span class="pre">UPDATE_LASTCHECK</span></span><a class="headerlink" href="#client-config-UPDATE_LASTCHECK" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies the time that the last update check was
performed.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-UPDATE_MANDATORY">
<span class="sig-name descname"><span class="pre">UPDATE_MANDATORY</span></span><a class="headerlink" href="#client-config-UPDATE_MANDATORY" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">1</span></code>, updating to new client versions is mandatory.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-UPDATE_URL">
<span class="sig-name descname"><span class="pre">UPDATE_URL</span></span><a class="headerlink" href="#client-config-UPDATE_URL" title="Permalink to this definition">¶</a></dt>
<dd><p>The HTTP URL to client update configuration file.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-VNC_AUTOSELECT">
<span class="sig-name descname"><span class="pre">VNC_AUTOSELECT</span></span><a class="headerlink" href="#client-config-VNC_AUTOSELECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> to dymanically autoselect the compression algorithm
during the session.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-VNC_COLOR_LEVEL">
<span class="sig-name descname"><span class="pre">VNC_COLOR_LEVEL</span></span><a class="headerlink" href="#client-config-VNC_COLOR_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd><p>The color level used for the session.</p>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-VNC_ENCODING_SELECTION">
<span class="sig-name descname"><span class="pre">VNC_ENCODING_SELECTION</span></span><a class="headerlink" href="#client-config-VNC_ENCODING_SELECTION" title="Permalink to this definition">¶</a></dt>
<dd><p>The encoding to use for VNC. Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> for Raw</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span></code> for Hextile</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">7</span></code> for Tight</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">16</span></code> for ZRLE</p></li>
</ul>
</dd></dl>

<dl class="std client-config">
<dt class="sig sig-object std" id="client-config-YESNO_PROMPT_REGEXP">
<span class="sig-name descname"><span class="pre">YESNO_PROMPT_REGEXP</span></span><a class="headerlink" href="#client-config-YESNO_PROMPT_REGEXP" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter specifies a regular expression. If an interactive SSH
prompt matches this expression, a graphical yes/no dialog will be
presented, instead of a dialog for text input. Additionally, if the
prompt is known to the client, an alternate text will be used. The
dialog buttons <span class="guilabel">Yes</span> and <span class="guilabel">No</span> will send <code class="docutils literal notranslate"><span class="pre">yes</span></code>
and <code class="docutils literal notranslate"><span class="pre">no</span></code> to the server, respectively.</p>
</dd></dl>

</section>
<span id="document-tcp-ports"></span><section id="tcp-ports-used-by-thinlinc">
<span id="tcp-ports"></span><h2>TCP ports used by ThinLinc<a class="headerlink" href="#tcp-ports-used-by-thinlinc" title="Permalink to this headline">¶</a></h2>
<p>This appendix describes all the TCP ports that must be available for
ThinLinc to function correctly. Note that only some ports must be
available externally and most need only be available locally on the
machine or to other machines that are part of the same ThinLinc cluster.</p>
<div class="toctree-wrapper compound">
<span id="document-tcp-ports_server"></span><section id="on-a-machine-running-vsm-server">
<span id="tcp-ports-vsmserver"></span><h3>On a machine running VSM Server<a class="headerlink" href="#on-a-machine-running-vsm-server" title="Permalink to this headline">¶</a></h3>
<dl>
<dt>22: SSH Daemon</dt><dd><p>Port 22 is not used by ThinLinc <em>per se</em>, but since no ThinLinc
installation can work without a running SSH daemon, we list port 22
here. Port 22 is the normal SSH port, but basically any port can be
used — the client has support for connecting to any port. Note
however that if the SSH daemon on the VSM server is listening on port
<strong>x</strong>, all VSM agents must also have their SSH daemons configured to
listen on port <strong>x</strong>.</p>
</dd>
<dt>300: ThinLinc Web Access</dt><dd><p>By default, ThinLinc’s Web Access service tlwebaccess is available on
TCP port 300. Traffic to this port is encrypted (TLS).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The port on which tlwebaccess runs is configurable via the
parameter <a class="reference internal" href="index.html#server-config-webaccess-listen_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/listen_port</span></code></a>. See
<a class="reference internal" href="index.html#configuration-tlwebaccess"><span class="std std-ref">Parameters in /webaccess/</span></a> for details.</p>
</div>
</dd>
<dt>1010: ThinLinc Administration Interface (tlwebadm)</dt><dd><p>By default, ThinLinc’s web-based administration interface is
available on TCP port 1010. In order to access this interface
remotely, port 1010 will need to be reachable. Traffic to this port
is encrypted (TLS).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The port on which tlwebadm runs is configurable via the parameter
<a class="reference internal" href="index.html#server-config-tlwebadm-listen_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/tlwebadm/listen_port</span></code></a>. See
<a class="reference internal" href="index.html#configuration-tlwebadm"><span class="std std-ref">Parameters in /tlwebadm/</span></a> for details.</p>
</div>
</dd>
<dt>9000: VSM server</dt><dd><p>The VSM server listens on port 9000. The traffic is not encrypted,
but sensitive information will only be shared with root or
connections originating from a port lower than 1024, from a list of
known IP addresses. The protocol used is XML-RPC through HTTP (using
a minimal internal HTTP server in the VSM server).</p>
</dd>
</dl>
</section>
<span id="document-tcp-ports_agent"></span><section id="on-a-machine-running-vsm-agent">
<h3>On a machine running VSM Agent<a class="headerlink" href="#on-a-machine-running-vsm-agent" title="Permalink to this headline">¶</a></h3>
<dl>
<dt>22: SSH daemon</dt><dd><p>Just as for the VSM server, there must be an SSH daemon running on
all VSM agent machines. This daemon is normally listening to port 22,
although it can listen to other ports as well. See the entry about
port 22 at <a class="reference internal" href="index.html#tcp-ports-vsmserver"><span class="std std-ref">On a machine running VSM Server</span></a>.</p>
</dd>
<dt>300: ThinLinc Web Access</dt><dd><p>By default, ThinLinc’s Web Access service tlwebaccess is available on
TCP port 300. Traffic to this port is encrypted (TLS).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The port on which tlwebaccess runs is configurable via the
parameter <a class="reference internal" href="index.html#server-config-webaccess-listen_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/webaccess/listen_port</span></code></a>. See
<a class="reference internal" href="index.html#configuration-tlwebaccess"><span class="std std-ref">Parameters in /webaccess/</span></a> for details.</p>
</div>
</dd>
<dt>904: VSM Agent</dt><dd><p>The VSM agent listens on port 904 for incoming requests from the VSM
server host. The traffic is not encrypted, but the VSM agent only
allows connections originating from a port lower than 1024, from a
list of known IP addresses. The protocol in use is XMLRPC through
HTTP.</p>
</dd>
<dt>1010: ThinLinc web administration interface (tlwebadm)</dt><dd><p>By default, ThinLinc’s web-based administration interface is
available on TCP port 1010. See the entry about port 1010 at
<a class="reference internal" href="index.html#tcp-ports-vsmserver"><span class="std std-ref">On a machine running VSM Server</span></a>.</p>
</dd>
<dt>5901–5999: VNC servers for first 99 sessions</dt><dd><p>Ports 5901–5999 are used by Xvnc processes serving display numbers
strictly below 100.</p>
</dd>
<dt>4900–5899: Tunnels to clients</dt><dd><p>The ports in this interval are used as server-side endpoints for the
SSH tunnels used to access local resources of the client, for example
local drives, serial ports and sound.</p>
<p>This interval is used for sessions with display number strictly below
100.</p>
<p>The algorithm used for calculating which ports to use for a specific
display number in this interval is:</p>
<blockquote>
<div><p>4900 + <em>display-id</em> × 10 + <em>SERVICE_SLOT</em></p>
</div></blockquote>
<p>where <em>SERVICE_SLOT</em> is a number defined under
<a class="reference internal" href="index.html#server-config-vsm-tunnelservices"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelservices</span></code></a>.</p>
</dd>
<dt>6001–8000: X display ports</dt><dd><p>If Xvnc is configured to listen for incoming TCP requests from X
Window System clients on other hosts, ports 6001–8000 are used by
display numbers 1–2000. The default is not to listen for incoming TCP
requests, so in the default configuration, the ports in this interval
are not open.</p>
</dd>
<dt>Port 32767 downwards to 11857</dt><dd><p>The algorithm described below is used to allocate ports for the Xvnc
process and for the server-side endpoints for SSH tunnels to access
local resources of the client. This algorithm is used for sessions
with display numbers strictly higher than 99.</p>
<p>Each session is allocated <a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a>
(default value 10) + 1 ports, leading to an allocation of 11 ports
per session with the default configuration. The ports are allocated
starting with the port given as
<a class="reference internal" href="index.html#server-config-vsmagent-max_session_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/max_session_port</span></code></a> (default 32767), and then
downwards. This means that the ports are aligned upwards as closely
as possible to the upper limit defined. This is a good practice to
avoid collisions with other services running on the machine.</p>
<p>Some examples follow</p>
<dl>
<dt>Display number 50</dt><dd><p>The VNC port will be 5950 which is:</p>
<blockquote>
<div><p>5900 + <em>display</em>.</p>
</div></blockquote>
<p>The tunnel ports allocated for this display are 5400–5409, which
is:</p>
<blockquote>
<div><p>4900 + (10 × <em>display</em>) + <em>SERVICE_SLOT</em></p>
</div></blockquote>
<p>where <em>SERVICE_SLOT</em> is 0–9.</p>
</dd>
<dt>Display number 100, <a class="reference internal" href="index.html#server-config-vsmagent-display_min"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/display_min</span></code></a> = 10 (the default), <a class="reference internal" href="index.html#server-config-vsmagent-max_session_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/max_session_port</span></code></a> = 32767.</dt><dd><p>The VNC port will be 32757, which is:</p>
<p>32767 - ((<em>display</em> - 100) ×
(<a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a> + 1) +
<a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a>))</p>
<p>Ports 32758–32767 (inclusive) will be used for tunnel ports.</p>
</dd>
<dt>Display number 300, <a class="reference internal" href="index.html#server-config-vsmagent-display_min"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/display_min</span></code></a> = 100, <a class="reference internal" href="index.html#server-config-vsmagent-max_session_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/max_session_port</span></code></a> = 32767 (the default).</dt><dd><p>The VNC port will be 30557 which is:</p>
<p>32767 - ((<em>display</em> - 100) ×
(<a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a> + 1) +
<a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a>))</p>
<p>Ports 30558–30567 (inclusive) will be used for tunnel ports.</p>
</dd>
<dt>Display number 600, <a class="reference internal" href="index.html#server-config-vsmagent-display_min"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/display_min</span></code></a> = 300, <a class="reference internal" href="index.html#server-config-vsmagent-max_session_port"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/max_session_port</span></code></a> = 32767 (the default).</dt><dd><p>The VNC port will be 29457, which is:</p>
<p>32767 - ((<em>display</em> - 300) ×
(<a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a> + 1) +
<a class="reference internal" href="index.html#server-config-vsm-tunnelslots_per_session"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsm/tunnelslots_per_session</span></code></a>))</p>
<p>Ports 29458–29467 (inclusive) will be used for tunnel ports.</p>
</dd>
</dl>
</dd>
</dl>
</section>
</div>
</section>
<span id="document-troubleshoot"></span><section id="troubleshooting-thinlinc">
<span id="troubleshoot"></span><h2>Troubleshooting ThinLinc<a class="headerlink" href="#troubleshooting-thinlinc" title="Permalink to this headline">¶</a></h2>
<p>In this appendix, we will describe how to troubleshoot common problems
in a ThinLinc installation.</p>
<p>We will begin by giving a general view of the recommended
troubleshooting method, and then continue with more detailed
instructions for troubleshooting specific problems.</p>
<section id="general-troubleshooting-method">
<h3>General troubleshooting method<a class="headerlink" href="#general-troubleshooting-method" title="Permalink to this headline">¶</a></h3>
<p>In most cases, troubleshooting a ThinLinc session problem should follow
the method outlined in <a class="reference internal" href="#troubleshoot-fig"><span class="std std-numref">Fig. 33</span></a>.</p>
<figure class="align-default" id="id1">
<span id="troubleshoot-fig"></span><img alt="_images/troubleshoot.svg" src="_images/troubleshoot.svg" /><figcaption>
<p><span class="caption-number">Fig. 33 </span><span class="caption-text">The general troubleshooting method</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The method is to first check that the user was let in by SSH on the VSM
server. This information is found on different places on different
distributions. Common log filenames for SSH information are
<code class="file docutils literal notranslate"><span class="pre">/var/log/secure</span></code>, <code class="file docutils literal notranslate"><span class="pre">/var/log/auth.log</span></code> or
<code class="file docutils literal notranslate"><span class="pre">/var/log/daemon.log</span></code>. If the user was let in by SSH, the VSM
server log (<code class="file docutils literal notranslate"><span class="pre">/var/log/vsmserver.log</span></code>) is inspected. In some cases,
the reason for session failure can be found there, but most of the
time, it’s necessary to find out which VSM agent was selected for the
session, and inspect the VSM agent log (<code class="file docutils literal notranslate"><span class="pre">/var/log/vsmagent.log</span></code>)
on the server in question.</p>
<p>If inspecting <code class="file docutils literal notranslate"><span class="pre">/var/log/vsmagent.log</span></code> on the server that was
selected for the session does not reveal the reason for the failure,
there is a per-session log in
<code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions/&lt;username&gt;/last/xinit.log</span></code> where the
output of commands run during session startup is stored.</p>
<p>In very rare cases, it might also be necessary to inspect the SSH log on
the VSM agent.</p>
</section>
<section id="troubleshooting-specific-problems">
<h3>Troubleshooting specific problems<a class="headerlink" href="#troubleshooting-specific-problems" title="Permalink to this headline">¶</a></h3>
<p>The first step should be to check if your specific problem is mentioned
in the platform-specific notes available at
<a class="reference external" href="https://www.cendio.com/thinlinc/docs/platforms">https://www.cendio.com/thinlinc/docs/platforms</a>. If your problem isn’t
mentioned in the platform-specific notes you should read the sections
below.</p>
<section id="problems-where-the-client-reports-an-error">
<h4>Problems where the client reports an error<a class="headerlink" href="#problems-where-the-client-reports-an-error" title="Permalink to this headline">¶</a></h4>
<p>In the following sections, we will describe how to cope with problems
where the ThinLinc client is reporting an error.</p>
<section id="couldn-t-set-up-secure-tunnel-to-thinlinc-server-couldn-t-establish-ssh-tunnel-ssh-terminated">
<h5>Couldn’t set up secure tunnel to ThinLinc server. (Couldn’t establish SSH tunnel, SSH terminated.)<a class="headerlink" href="#couldn-t-set-up-secure-tunnel-to-thinlinc-server-couldn-t-establish-ssh-tunnel-ssh-terminated" title="Permalink to this headline">¶</a></h5>
<p>This error is caused by failure to connect to the SSH daemon on the
ThinLinc server (the server running the VSM server). This could be
caused by the fact that the SSH daemon is simply not running, or that it
is not letting the user in for some reason.</p>
<p>Another possible reason is that there is a firewall between the user and
the ThinLinc server, that forbids communication.</p>
</section>
<section id="login-failed-wrong-username-or-password">
<h5>“Login failed! Wrong username or password.”<a class="headerlink" href="#login-failed-wrong-username-or-password" title="Permalink to this headline">¶</a></h5>
<p>This error is very often caused simply by the user entering an incorrect
password. Begin by verifying that the user is actually entering the
correct username and password.</p>
<p>If the username and password are correct and this is the first time the
user tries to log in, check the SSH logs of the server. If SSH says that
the user is invalid, that means that something is incorrect in the
user’s user information database entry. For example, this may happen if
a user stored in eDirectory has two <code class="docutils literal notranslate"><span class="pre">cn</span></code> attributes, one of them
different from the other.</p>
<p>The <strong class="command">getent</strong> command can be a valuable tool to dissect problems
of this type. If the output of <strong class="command">getent passwd &lt;username&gt;</strong>
doesn’t produce any output, that is a sign that the user is in fact
invalid.</p>
</section>
<section id="the-ssh-connection-succeeded-but-the-thinlinc-server-connection-failed-perhaps-this-server-doesn-t-run-a-thinlinc-server">
<h5>The SSH connection succeeded, but the ThinLinc server connection failed. Perhaps this server doesn’t run a ThinLinc server?<a class="headerlink" href="#the-ssh-connection-succeeded-but-the-thinlinc-server-connection-failed-perhaps-this-server-doesn-t-run-a-thinlinc-server" title="Permalink to this headline">¶</a></h5>
<p>This error is most often caused by the fact that the VSM server is not
running on the server. Start the VSM server and try again.</p>
<p>A user entering the wrong hostname, for example the hostname of one of
the VSM agents, would also get this error message. Check that the user
has entered the correct hostname. In very rare cases, this could also be
caused by incorrect DNS data.</p>
</section>
<section id="thinlinc-login-failed-no-agent-server-was-available">
<h5>ThinLinc login failed. (No agent server was available)<a class="headerlink" href="#thinlinc-login-failed-no-agent-server-was-available" title="Permalink to this headline">¶</a></h5>
<p>This error is reported if there were no working VSM agents available
according to the load balance information in the VSM server.</p>
<p>In a system with few VSM agent servers, restoring a VSM agent that has
been down for some reason doesn’t take effect immediately — the load
balance information is only updated once every 40 seconds by default.
Either wait for the load balance cycle to complete, or restart the VSM
server.</p>
<p>The load balance information can be inspected in the <a class="reference internal" href="index.html#tlwebadm-status"><span class="std std-ref">ThinLinc Web Administration</span></a>, or
using the <a class="reference internal" href="index.html#cli-load"><span class="std std-ref">command line</span></a>.</p>
</section>
<section id="thinlinc-login-failed-couldn-t-create-your-session">
<h5>ThinLinc login failed. (Couldn’t create your session)<a class="headerlink" href="#thinlinc-login-failed-couldn-t-create-your-session" title="Permalink to this headline">¶</a></h5>
<p>When this error occurs, the user was valid on the VSM server, but for
some reason, the session couldn’t be created on the VSM agent.</p>
<p>One very common reason for this problem is that the VSM agent has lost
its connection to the user database backend (LDAP, Windows domain or
other database), so the user exists on the VSM server, but not on the
VSM agent. If this is the case, the VSM agent log on the selected server
will clearly state that the user doesn’t exist on the system.</p>
<p>Another very common reason is home directory trouble on the VSM agent.
Verify that the home directory exists on the selected server, and that
it is owned by the correct uidNumber/gidNumber. Of course, the user must
have write permissions in their home directory.</p>
<p>To verify that the home directory works, the following command can be
used:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh &lt;username&gt;@&lt;agenthost&gt; touch .
</pre></div>
</div>
<p>If the home directory is correctly mounted and writable by the user, the
above command will not produce any output except the password question.</p>
</section>
<section id="couldn-t-set-up-secure-tunnel-to-vnc-couldn-t-establish-ssh-tunnel-ssh-terminated">
<h5>Couldn’t set up secure tunnel to VNC! (Couldn’t establish SSH tunnel, SSH terminated.)<a class="headerlink" href="#couldn-t-set-up-secure-tunnel-to-vnc-couldn-t-establish-ssh-tunnel-ssh-terminated" title="Permalink to this headline">¶</a></h5>
<p>This error is caused by failure to connect to the SSH daemon on the
selected VSM agent. This could be caused by the fact that the SSH daemon
is simply not running, or that it is not letting the user in for some
reason.</p>
<p>Another possible reason is that there is a firewall between the user and
the selected VSM agent that disallows communication.</p>
</section>
</section>
<section id="problems-that-occur-after-session-start">
<h4>Problems that occur after session start<a class="headerlink" href="#problems-that-occur-after-session-start" title="Permalink to this headline">¶</a></h4>
<p>In this section we will discuss some problems that can occur after the
successful login, that is, after the ThinLinc login window has closed.
In this phase, a number of session startup problems can occur</p>
<section id="session-starts-but-closes-down-immediately">
<h5>Session starts, but closes down immediately<a class="headerlink" href="#session-starts-but-closes-down-immediately" title="Permalink to this headline">¶</a></h5>
<p>If the ThinLinc login window closes, and the session starts up but then
immediately shuts down, inspect <code class="file docutils literal notranslate"><span class="pre">xinit.log</span></code> found in
<code class="file docutils literal notranslate"><span class="pre">/var/opt/thinlinc/sessions/&lt;username&gt;/last/</span></code> on the selected VSM
agent. Some of the commands run during session startup will probably
have written an error message that will be stored in that file.</p>
<p>It may also be of value to inspect the VSM agent log on the selected
server.</p>
</section>
<section id="at-login-user-is-reconnected-to-previous-faulty-session">
<h5>At login, user is reconnected to previous, faulty, session<a class="headerlink" href="#at-login-user-is-reconnected-to-previous-faulty-session" title="Permalink to this headline">¶</a></h5>
<p>If a previous session still exists and is faulty, for example because of
desktop environment failures, the user is reconnected to the same
session when logging in. Disconnect from the session, enable the
<span class="guilabel">End existing session</span> checkbox and log in again. That will
terminate the current session and start a new one.</p>
</section>
<section id="login-succeeds-but-the-thinlinc-desktop-configuration-fails">
<h5>Login succeeds, but the ThinLinc desktop configuration fails<a class="headerlink" href="#login-succeeds-but-the-thinlinc-desktop-configuration-fails" title="Permalink to this headline">¶</a></h5>
<p>When using the ThinLinc desktop customizer, as documented in
<a class="reference internal" href="index.html#tldc"><span class="std std-ref">Building custom Linux desktops with the ThinLinc desktop customizer</span></a>, the KDE or Gnome menu and the entries on the desktop
are customized at each login. If this fails, quota problems are very
often the problem. Check the quota of the user in question.</p>
</section>
<section id="login-succeeds-but-kde-fails-to-start">
<h5>Login succeeds, but KDE fails to start<a class="headerlink" href="#login-succeeds-but-kde-fails-to-start" title="Permalink to this headline">¶</a></h5>
<p>If KDE fails to start, complaining about being unable to create symlinks
and similar, quota problems are commonly the problem. Check the quota of
the user in question.</p>
</section>
</section>
</section>
</section>
<span id="document-lockdown"></span><section id="restricting-access-to-thinlinc-servers">
<span id="lockdown"></span><h2>Restricting access to ThinLinc servers<a class="headerlink" href="#restricting-access-to-thinlinc-servers" title="Permalink to this headline">¶</a></h2>
<p>In some cases it might be desirable or required to restrict the users’
access to the ThinLinc servers and their ability to move data in and out
of the system. This chapter describes some ways this can be achieved, as
well as the consequences of such restrictions.</p>
<section id="disabling-ssh-access">
<h3>Disabling SSH access<a class="headerlink" href="#disabling-ssh-access" title="Permalink to this headline">¶</a></h3>
<p>The system’s SSH server often includes a lot of functionality for
accessing the system. Completely disabling this service is a quick way
to restrict most of the external access to the system. However the
native ThinLinc client requires SSH to function so users will be limited
to only using the web client ThinLinc Web Access.</p>
<p>Many SSH servers also support limiting access to just certain users.
OpenSSH has settings such as <code class="docutils literal notranslate"><span class="pre">AllowGroups</span></code> and <code class="docutils literal notranslate"><span class="pre">Match</span></code> that can
limit functionality without completely disabling the SSH server.</p>
</section>
<section id="disabling-shell-access">
<h3>Disabling shell access<a class="headerlink" href="#disabling-shell-access" title="Permalink to this headline">¶</a></h3>
<p>User sessions are normally started via the user’s configured shell, so
restricting the shell is a good method to restrict what kind of sessions
the user can start. Primarily, this is useful to prevent users from
running custom commands via SSH.</p>
<section id="changing-the-configured-shell">
<h4>Changing the configured shell<a class="headerlink" href="#changing-the-configured-shell" title="Permalink to this headline">¶</a></h4>
<p>Commonly the user’s shell is configured to <strong class="command">/bin/false</strong> in
order to disable shell access. Unfortunately this also prevents access
to ThinLinc as it needs to run the commands <strong class="program">thinlinc-login</strong>
and <strong class="program">/opt/thinlinc/etc/xsession</strong> via the user’s shell. As an
alternative it is possible to configure
<strong class="program">/usr/bin/thinlinc-login</strong> as the shell. This will allow
ThinLinc to function whilst preventing any other type of session.</p>
<p>Note that this method prevents any terminals inside the session from
functioning as well. In most cases it also does not prevent users from
running custom scripts and shell commands as they can use a text editor
to construct such scripts.</p>
</section>
<section id="using-forcecommand">
<h4>Using ForceCommand<a class="headerlink" href="#using-forcecommand" title="Permalink to this headline">¶</a></h4>
<p>OpenSSH has the ability to ignore the user’s configured shell and run a
different command instead. This makes it possible to keep a normal shell
for the user and only restrict access when connecting via SSH. However
this prevents the native ThinLinc client from connecting as it needs to
be able to run the command <strong class="program">thinlinc-login</strong> with specific
arguments. The following script can be specified as <code class="docutils literal notranslate"><span class="pre">ForceCommand</span></code> to
allow only ThinLinc access via SSH:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
thinlinc-login -c <span class="s2">&quot;</span><span class="si">${</span><span class="nv">SSH_ORIGINAL_COMMAND</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>It is also possible to apply this restriction only to a subset of users
by using the <code class="docutils literal notranslate"><span class="pre">Match</span></code> setting. Please see OpenSSH’s documentation for
how to configure this mechanism.</p>
</section>
</section>
<section id="disabling-port-forwarding">
<h3>Disabling port forwarding<a class="headerlink" href="#disabling-port-forwarding" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc relies on SSH port forwarding in order to function. However it
is possible to limit that port forwarding in order to avoid unwanted
network access. ThinLinc only requires forwarding via the loopback
interface, so the SSH server can always be configured to only allow this
without limiting ThinLinc in any way. For OpenSSH this is configured by
specifying the following in <code class="file docutils literal notranslate"><span class="pre">sshd_config</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>GatewayPorts no
PermitOpen 127.0.0.1:*
</pre></div>
</div>
<p>Note that it is also necessary to disable shell access in order to
completely prevent users from forwarding ports as otherwise they could
run their own forwarding software over the shell channel.</p>
<section id="disabling-remote-port-forwarding">
<h4>Disabling remote port forwarding<a class="headerlink" href="#disabling-remote-port-forwarding" title="Permalink to this headline">¶</a></h4>
<p>It is possible to use ThinLinc with remote port forwarding completely
disabled. However this will prevent local devices such as sound, drives
and printers from functioning. In OpenSSH this is configured by adding
the following to <code class="file docutils literal notranslate"><span class="pre">/etc/ssh/sshd_config</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>AllowTcpForwarding local
</pre></div>
</div>
<p>It is also possible to apply this restriction only to a subset of users
by using the <code class="docutils literal notranslate"><span class="pre">Match</span></code> setting. Please see OpenSSH’s documentation for
how to configure this mechanism.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Local port forwarding cannot be disabled as it is required for even
the basic ThinLinc functionality.</p>
</div>
</section>
</section>
<section id="disabling-clipboard">
<h3>Disabling clipboard<a class="headerlink" href="#disabling-clipboard" title="Permalink to this headline">¶</a></h3>
<p>It is possible to disable clipboard transfers in either direction in
order to avoid easily moving data to and from the server. The first step
is adding <code class="docutils literal notranslate"><span class="pre">-noclipboard</span></code> to the ThinLinc setting
<a class="reference internal" href="index.html#server-config-vsmagent-xserver_args"><code class="xref std std-servconf docutils literal notranslate"><span class="pre">/vsmagent/xserver_args</span></code></a>. This prevents the user from later
changing the clipboard settings. Next add <code class="docutils literal notranslate"><span class="pre">-AcceptCutText=0</span></code> to
disable clipboard transfers going to the server, and
<code class="docutils literal notranslate"><span class="pre">-SendCutText=0</span></code> to prevent transfers going from the server.</p>
</section>
<section id="disabling-local-drives">
<h3>Disabling local drives<a class="headerlink" href="#disabling-local-drives" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc local drives redirection relies on being able to ask the kernel
to mount a NFS share. This is a privileged operation that only root is
permitted to perform, and as such this feature requires a setuid helper
binary. This helper is called
<strong class="program">/opt/thinlinc/libexec/tl-mount-personal</strong> and the setuid
permission can be removed by running the follow:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo chmod u-s /opt/thinlinc/libexec/tl-mount-personal
</pre></div>
</div>
<p>Note that this only disables the ability to use the kernel NFS client.
If a user can start some other NFS client then they can still access the
local drive redirection. The setuid permission is also restored each
time ThinLinc is upgraded.</p>
</section>
<section id="restricting-write-access-to-users-home-directories">
<span id="homecreatefilter"></span><h3>Restricting write access to users’ home directories<a class="headerlink" href="#restricting-write-access-to-users-home-directories" title="Permalink to this headline">¶</a></h3>
<p>When accessing directories from CIFS and NCP servers, these are mounted
in subdirectories of the users’ Linux home directory. It is not possible
to place the Linux home directory on a CIFS or NCP server, since these
typically do not support the necessary POSIX file system semantics (such
as hard links). In a typical setup, applications such as Mozilla uses
the Linux home directory for settings (<code class="file docutils literal notranslate"><span class="pre">~/.mozilla</span></code>), while the
user saves documents in <code class="file docutils literal notranslate"><span class="pre">~/MyDocuments</span></code>. In this case, it might be
desirable to restrict access to the Linux home directory: Forbid saving
arbitrary files to it. This can be solved by using a feature of ThinLinc
called <strong>homecreatefilter</strong>.</p>
<p>To activate homecreatefilter, create a symbolic link in the
<code class="file docutils literal notranslate"><span class="pre">xstartup.d</span></code> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /opt/thinlinc/libexec/tl-homecreatefilter.sh <span class="se">\</span>
   /opt/thinlinc/etc/xstartup.d/06-tl-homecreatefilter.sh
</pre></div>
</div>
<section id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>The configuration file <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/etc/homecreatefilter.conf</span></code>
controls which files and directories are allowed. By default, all files
starting with a dot are allowed, as well as the files necessary for KDE
to start.</p>
<p>The configuration file is line-based. A line not starting with a colon
specifies a file object pattern that should be allowed. A line starting
with a colon specifies a command line pattern. Processes matching this
pattern will also be allowed write access, even if no file object
pattern allows access.</p>
</section>
<section id="security-considerations-and-limitations">
<h4>Security considerations and limitations<a class="headerlink" href="#security-considerations-and-limitations" title="Permalink to this headline">¶</a></h4>
<p>The homecreatefilter feature is based on the <span class="sig sig-inline environ">LD_PRELOAD</span>
mechanism, which means it does not support statically linked
applications. Since environment variables can be modified by the user,
the user can disable the filter at will. homecreatefilter should not be
regarded as a security mechanism, but rather a mechanism that prevents
the user from saving documents to the Linux home directory by mistake.</p>
<p>In addition to the home directory, homecreatefilter restricts write
access to the <code class="file docutils literal notranslate"><span class="pre">~/Desktop</span></code> directory.</p>
</section>
</section>
</section>
<span id="document-gnutls-priorities"></span><section id="gnutls-priority-strings">
<span id="gnutls-priorities"></span><h2>GnuTLS priority strings<a class="headerlink" href="#gnutls-priority-strings" title="Permalink to this headline">¶</a></h2>
<p>ThinLinc uses priority strings to allow the administrator to select
their own preferred availability and order of algorithms used by GnuTLS
for services that use tlstunnel. The priority string is a
colon-delimited list of strings being either keywords (groups of
algorithms) or algorithms which can be individually enabled or disabled.</p>
<p>For more information, see the GnuTLS documentation about priority
strings.</p>
<div class="toctree-wrapper compound">
<span id="document-gnutls-priorities-standard"></span><section id="standard-configuration">
<h3>Standard configuration<a class="headerlink" href="#standard-configuration" title="Permalink to this headline">¶</a></h3>
<p>ThinLinc comes configured with the priority string <code class="docutils literal notranslate"><span class="pre">NORMAL</span></code>, which
means the standard, secure GnuTLS algorithms. This is the order and
availability of algorithms for that priority string.</p>
<section id="cipher-suites">
<h4>Cipher suites<a class="headerlink" href="#cipher-suites" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>TLS_AES_256_GCM_SHA384
TLS_CHACHA20_POLY1305_SHA256
TLS_AES_128_GCM_SHA256
TLS_AES_128_CCM_SHA256
TLS_ECDHE_ECDSA_AES_256_GCM_SHA384
TLS_ECDHE_ECDSA_CHACHA20_POLY1305
TLS_ECDHE_ECDSA_AES_256_CCM
TLS_ECDHE_ECDSA_AES_256_CBC_SHA1
TLS_ECDHE_ECDSA_AES_128_GCM_SHA256
TLS_ECDHE_ECDSA_AES_128_CCM
TLS_ECDHE_ECDSA_AES_128_CBC_SHA1
TLS_ECDHE_RSA_AES_256_GCM_SHA384
TLS_ECDHE_RSA_CHACHA20_POLY1305
TLS_ECDHE_RSA_AES_256_CBC_SHA1
TLS_ECDHE_RSA_AES_128_GCM_SHA256
TLS_ECDHE_RSA_AES_128_CBC_SHA1
TLS_RSA_AES_256_GCM_SHA384
TLS_RSA_AES_256_CCM
TLS_RSA_AES_256_CBC_SHA1
TLS_RSA_AES_128_GCM_SHA256
TLS_RSA_AES_128_CCM
TLS_RSA_AES_128_CBC_SHA1
TLS_DHE_RSA_AES_256_GCM_SHA384
TLS_DHE_RSA_CHACHA20_POLY1305
TLS_DHE_RSA_AES_256_CCM
TLS_DHE_RSA_AES_256_CBC_SHA1
TLS_DHE_RSA_AES_128_GCM_SHA256
TLS_DHE_RSA_AES_128_CCM
TLS_DHE_RSA_AES_128_CBC_SHA1
</pre></div>
</div>
</section>
<section id="protocols">
<h4>Protocols<a class="headerlink" href="#protocols" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>VERS-TLS1.3
VERS-TLS1.2
VERS-TLS1.1
VERS-TLS1.0
VERS-DTLS1.2
VERS-DTLS1.0
</pre></div>
</div>
</section>
<section id="ciphers">
<h4>Ciphers<a class="headerlink" href="#ciphers" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>AES-256-GCM
CHACHA20-POLY1305
AES-256-CCM
AES-256-CBC
AES-128-GCM
AES-128-CCM
AES-128-CBC
</pre></div>
</div>
</section>
<section id="macs">
<h4>MACs<a class="headerlink" href="#macs" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SHA1
AEAD
</pre></div>
</div>
</section>
<section id="key-exchange-algorithms">
<h4>Key Exchange Algorithms<a class="headerlink" href="#key-exchange-algorithms" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ECDHE-ECDSA
ECDHE-RSA
RSA
DHE-RSA
</pre></div>
</div>
</section>
<section id="groups">
<h4>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>GROUP-SECP256R1
GROUP-SECP384R1
GROUP-SECP521R1
GROUP-X25519
GROUP-X448
GROUP-FFDHE2048
GROUP-FFDHE3072
GROUP-FFDHE4096
GROUP-FFDHE6144
GROUP-FFDHE8192
</pre></div>
</div>
</section>
<section id="pk-signatures">
<h4>PK-signatures<a class="headerlink" href="#pk-signatures" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SIGN-RSA-SHA256
SIGN-RSA-PSS-SHA256
SIGN-RSA-PSS-RSAE-SHA256
SIGN-ECDSA-SHA256
SIGN-ECDSA-SECP256R1-SHA256
SIGN-EdDSA-Ed25519
SIGN-RSA-SHA384
SIGN-RSA-PSS-SHA384
SIGN-RSA-PSS-RSAE-SHA384
SIGN-ECDSA-SHA384
SIGN-ECDSA-SECP384R1-SHA384
SIGN-EdDSA-Ed448
SIGN-RSA-SHA512
SIGN-RSA-PSS-SHA512
SIGN-RSA-PSS-RSAE-SHA512
SIGN-ECDSA-SHA512
SIGN-ECDSA-SECP521R1-SHA512
SIGN-RSA-SHA1
SIGN-ECDSA-SHA1
</pre></div>
</div>
</section>
</section>
<span id="document-gnutls-priorities-all"></span><section id="available-algorithms">
<h3>Available algorithms<a class="headerlink" href="#available-algorithms" title="Permalink to this headline">¶</a></h3>
<p>Here are all the available algorithms for use in a priority string in
ThinLinc.</p>
<section id="cipher-suites">
<h4>Cipher suites<a class="headerlink" href="#cipher-suites" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>TLS_AES_128_GCM_SHA256
TLS_AES_256_GCM_SHA384
TLS_CHACHA20_POLY1305_SHA256
TLS_AES_128_CCM_SHA256
TLS_AES_128_CCM_8_SHA256
TLS_RSA_NULL_MD5
TLS_RSA_NULL_SHA1
TLS_RSA_NULL_SHA256
TLS_RSA_ARCFOUR_128_SHA1
TLS_RSA_ARCFOUR_128_MD5
TLS_RSA_3DES_EDE_CBC_SHA1
TLS_RSA_AES_128_CBC_SHA1
TLS_RSA_AES_256_CBC_SHA1
TLS_RSA_CAMELLIA_128_CBC_SHA256
TLS_RSA_CAMELLIA_256_CBC_SHA256
TLS_RSA_CAMELLIA_128_CBC_SHA1
TLS_RSA_CAMELLIA_256_CBC_SHA1
TLS_RSA_AES_128_CBC_SHA256
TLS_RSA_AES_256_CBC_SHA256
TLS_RSA_AES_128_GCM_SHA256
TLS_RSA_AES_256_GCM_SHA384
TLS_RSA_CAMELLIA_128_GCM_SHA256
TLS_RSA_CAMELLIA_256_GCM_SHA384
TLS_RSA_AES_128_CCM
TLS_RSA_AES_256_CCM
TLS_RSA_AES_128_CCM_8
TLS_RSA_AES_256_CCM_8
TLS_DHE_DSS_ARCFOUR_128_SHA1
TLS_DHE_DSS_3DES_EDE_CBC_SHA1
TLS_DHE_DSS_AES_128_CBC_SHA1
TLS_DHE_DSS_AES_256_CBC_SHA1
TLS_DHE_DSS_CAMELLIA_128_CBC_SHA256
TLS_DHE_DSS_CAMELLIA_256_CBC_SHA256
TLS_DHE_DSS_CAMELLIA_128_CBC_SHA1
TLS_DHE_DSS_CAMELLIA_256_CBC_SHA1
TLS_DHE_DSS_AES_128_CBC_SHA256
TLS_DHE_DSS_AES_256_CBC_SHA256
TLS_DHE_DSS_AES_128_GCM_SHA256
TLS_DHE_DSS_AES_256_GCM_SHA384
TLS_DHE_DSS_CAMELLIA_128_GCM_SHA256
TLS_DHE_DSS_CAMELLIA_256_GCM_SHA384
TLS_DHE_RSA_3DES_EDE_CBC_SHA1
TLS_DHE_RSA_AES_128_CBC_SHA1
TLS_DHE_RSA_AES_256_CBC_SHA1
TLS_DHE_RSA_CAMELLIA_128_CBC_SHA256
TLS_DHE_RSA_CAMELLIA_256_CBC_SHA256
TLS_DHE_RSA_CAMELLIA_128_CBC_SHA1
TLS_DHE_RSA_CAMELLIA_256_CBC_SHA1
TLS_DHE_RSA_AES_128_CBC_SHA256
TLS_DHE_RSA_AES_256_CBC_SHA256
TLS_DHE_RSA_AES_128_GCM_SHA256
TLS_DHE_RSA_AES_256_GCM_SHA384
TLS_DHE_RSA_CAMELLIA_128_GCM_SHA256
TLS_DHE_RSA_CAMELLIA_256_GCM_SHA384
TLS_DHE_RSA_CHACHA20_POLY1305
TLS_DHE_RSA_AES_128_CCM
TLS_DHE_RSA_AES_256_CCM
TLS_DHE_RSA_AES_128_CCM_8
TLS_DHE_RSA_AES_256_CCM_8
TLS_ECDHE_RSA_NULL_SHA1
TLS_ECDHE_RSA_3DES_EDE_CBC_SHA1
TLS_ECDHE_RSA_AES_128_CBC_SHA1
TLS_ECDHE_RSA_AES_256_CBC_SHA1
TLS_ECDHE_RSA_AES_256_CBC_SHA384
TLS_ECDHE_RSA_ARCFOUR_128_SHA1
TLS_ECDHE_RSA_CAMELLIA_128_CBC_SHA256
TLS_ECDHE_RSA_CAMELLIA_256_CBC_SHA384
TLS_ECDHE_ECDSA_NULL_SHA1
TLS_ECDHE_ECDSA_3DES_EDE_CBC_SHA1
TLS_ECDHE_ECDSA_AES_128_CBC_SHA1
TLS_ECDHE_ECDSA_AES_256_CBC_SHA1
TLS_ECDHE_ECDSA_ARCFOUR_128_SHA1
TLS_ECDHE_ECDSA_CAMELLIA_128_CBC_SHA256
TLS_ECDHE_ECDSA_CAMELLIA_256_CBC_SHA384
TLS_ECDHE_ECDSA_AES_128_CBC_SHA256
TLS_ECDHE_RSA_AES_128_CBC_SHA256
TLS_ECDHE_ECDSA_CAMELLIA_128_GCM_SHA256
TLS_ECDHE_ECDSA_CAMELLIA_256_GCM_SHA384
TLS_ECDHE_ECDSA_AES_128_GCM_SHA256
TLS_ECDHE_ECDSA_AES_256_GCM_SHA384
TLS_ECDHE_RSA_AES_128_GCM_SHA256
TLS_ECDHE_RSA_AES_256_GCM_SHA384
TLS_ECDHE_ECDSA_AES_256_CBC_SHA384
TLS_ECDHE_RSA_CAMELLIA_128_GCM_SHA256
TLS_ECDHE_RSA_CAMELLIA_256_GCM_SHA384
TLS_ECDHE_RSA_CHACHA20_POLY1305
TLS_ECDHE_ECDSA_CHACHA20_POLY1305
TLS_ECDHE_ECDSA_AES_128_CCM
TLS_ECDHE_ECDSA_AES_256_CCM
TLS_ECDHE_ECDSA_AES_128_CCM_8
TLS_ECDHE_ECDSA_AES_256_CCM_8
TLS_ECDHE_PSK_3DES_EDE_CBC_SHA1
TLS_ECDHE_PSK_AES_128_CBC_SHA1
TLS_ECDHE_PSK_AES_256_CBC_SHA1
TLS_ECDHE_PSK_AES_128_CBC_SHA256
TLS_ECDHE_PSK_AES_256_CBC_SHA384
TLS_ECDHE_PSK_ARCFOUR_128_SHA1
TLS_ECDHE_PSK_NULL_SHA1
TLS_ECDHE_PSK_NULL_SHA256
TLS_ECDHE_PSK_NULL_SHA384
TLS_ECDHE_PSK_CAMELLIA_128_CBC_SHA256
TLS_ECDHE_PSK_CAMELLIA_256_CBC_SHA384
TLS_PSK_ARCFOUR_128_SHA1
TLS_PSK_3DES_EDE_CBC_SHA1
TLS_PSK_AES_128_CBC_SHA1
TLS_PSK_AES_256_CBC_SHA1
TLS_PSK_AES_128_CBC_SHA256
TLS_PSK_AES_256_GCM_SHA384
TLS_PSK_CAMELLIA_128_GCM_SHA256
TLS_PSK_CAMELLIA_256_GCM_SHA384
TLS_PSK_AES_128_GCM_SHA256
TLS_PSK_NULL_SHA1
TLS_PSK_NULL_SHA256
TLS_PSK_CAMELLIA_128_CBC_SHA256
TLS_PSK_CAMELLIA_256_CBC_SHA384
TLS_PSK_AES_256_CBC_SHA384
TLS_PSK_NULL_SHA384
TLS_RSA_PSK_ARCFOUR_128_SHA1
TLS_RSA_PSK_3DES_EDE_CBC_SHA1
TLS_RSA_PSK_AES_128_CBC_SHA1
TLS_RSA_PSK_AES_256_CBC_SHA1
TLS_RSA_PSK_CAMELLIA_128_GCM_SHA256
TLS_RSA_PSK_CAMELLIA_256_GCM_SHA384
TLS_RSA_PSK_AES_128_GCM_SHA256
TLS_RSA_PSK_AES_128_CBC_SHA256
TLS_RSA_PSK_NULL_SHA1
TLS_RSA_PSK_NULL_SHA256
TLS_RSA_PSK_AES_256_GCM_SHA384
TLS_RSA_PSK_AES_256_CBC_SHA384
TLS_RSA_PSK_NULL_SHA384
TLS_RSA_PSK_CAMELLIA_128_CBC_SHA256
TLS_RSA_PSK_CAMELLIA_256_CBC_SHA384
TLS_DHE_PSK_ARCFOUR_128_SHA1
TLS_DHE_PSK_3DES_EDE_CBC_SHA1
TLS_DHE_PSK_AES_128_CBC_SHA1
TLS_DHE_PSK_AES_256_CBC_SHA1
TLS_DHE_PSK_AES_128_CBC_SHA256
TLS_DHE_PSK_AES_128_GCM_SHA256
TLS_DHE_PSK_NULL_SHA1
TLS_DHE_PSK_NULL_SHA256
TLS_DHE_PSK_NULL_SHA384
TLS_DHE_PSK_AES_256_CBC_SHA384
TLS_DHE_PSK_AES_256_GCM_SHA384
TLS_DHE_PSK_CAMELLIA_128_CBC_SHA256
TLS_DHE_PSK_CAMELLIA_256_CBC_SHA384
TLS_DHE_PSK_CAMELLIA_128_GCM_SHA256
TLS_DHE_PSK_CAMELLIA_256_GCM_SHA384
TLS_PSK_AES_128_CCM
TLS_PSK_AES_256_CCM
TLS_DHE_PSK_AES_128_CCM
TLS_DHE_PSK_AES_256_CCM
TLS_PSK_AES_128_CCM_8
TLS_PSK_AES_256_CCM_8
TLS_DHE_PSK_AES_128_CCM_8
TLS_DHE_PSK_AES_256_CCM_8
TLS_DHE_PSK_CHACHA20_POLY1305
TLS_ECDHE_PSK_CHACHA20_POLY1305
TLS_RSA_PSK_CHACHA20_POLY1305
TLS_PSK_CHACHA20_POLY1305
TLS_DH_ANON_ARCFOUR_128_MD5
TLS_DH_ANON_3DES_EDE_CBC_SHA1
TLS_DH_ANON_AES_128_CBC_SHA1
TLS_DH_ANON_AES_256_CBC_SHA1
TLS_DH_ANON_CAMELLIA_128_CBC_SHA256
TLS_DH_ANON_CAMELLIA_256_CBC_SHA256
TLS_DH_ANON_CAMELLIA_128_CBC_SHA1
TLS_DH_ANON_CAMELLIA_256_CBC_SHA1
TLS_DH_ANON_AES_128_CBC_SHA256
TLS_DH_ANON_AES_256_CBC_SHA256
TLS_DH_ANON_AES_128_GCM_SHA256
TLS_DH_ANON_AES_256_GCM_SHA384
TLS_DH_ANON_CAMELLIA_128_GCM_SHA256
TLS_DH_ANON_CAMELLIA_256_GCM_SHA384
TLS_ECDH_ANON_NULL_SHA1
TLS_ECDH_ANON_3DES_EDE_CBC_SHA1
TLS_ECDH_ANON_AES_128_CBC_SHA1
TLS_ECDH_ANON_AES_256_CBC_SHA1
TLS_ECDH_ANON_ARCFOUR_128_SHA1
TLS_GOSTR341112_256_28147_CNT_IMIT
</pre></div>
</div>
</section>
<section id="certificate-types">
<h4>Certificate types<a class="headerlink" href="#certificate-types" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CTYPE-X.509
CTYPE-Raw Public Key
</pre></div>
</div>
</section>
<section id="protocols">
<h4>Protocols<a class="headerlink" href="#protocols" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>VERS-TLS1.0
VERS-TLS1.1
VERS-TLS1.2
VERS-TLS1.3
VERS-DTLS0.9
VERS-DTLS1.0
VERS-DTLS1.2
</pre></div>
</div>
</section>
<section id="ciphers">
<h4>Ciphers<a class="headerlink" href="#ciphers" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>AES-256-CBC
AES-192-CBC
AES-128-CBC
AES-128-GCM
AES-192-GCM
AES-256-GCM
AES-128-CCM
AES-256-CCM
AES-128-CCM-8
AES-256-CCM-8
ARCFOUR-128
ESTREAM-SALSA20-256
SALSA20-256
CHACHA20-32
CHACHA20-64
CAMELLIA-256-CBC
CAMELLIA-192-CBC
CAMELLIA-128-CBC
CHACHA20-POLY1305
CAMELLIA-128-GCM
CAMELLIA-256-GCM
GOST28147-TC26Z-CFB
GOST28147-CPA-CFB
GOST28147-CPB-CFB
GOST28147-CPC-CFB
GOST28147-CPD-CFB
AES-128-CFB8
AES-192-CFB8
AES-256-CFB8
AES-128-XTS
AES-256-XTS
AES-128-SIV
AES-256-SIV
AES-128-SIV-GCM
AES-256-SIV-GCM
GOST28147-TC26Z-CNT
MAGMA-CTR-ACPKM
KUZNYECHIK-CTR-ACPKM
3DES-CBC
DES-CBC
RC2-40
NULL
</pre></div>
</div>
</section>
<section id="macs">
<h4>MACs<a class="headerlink" href="#macs" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SHA1
SHA256
SHA384
SHA512
SHA224
UMAC-96
UMAC-128
AEAD
MD5
GOSTR341194
STREEBOG-256
STREEBOG-512
AES-CMAC-128
AES-CMAC-256
AES-GMAC-128
AES-GMAC-192
AES-GMAC-256
GOST28147-TC26Z-IMIT
OMAC-MAGMA
OMAC-KUZNYECHIK
PBMAC1
</pre></div>
</div>
</section>
<section id="digests">
<h4>Digests<a class="headerlink" href="#digests" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SHA1
SHA256
SHA384
SHA512
SHA224
MD5
GOSTR341194
STREEBOG-256
STREEBOG-512
</pre></div>
</div>
</section>
<section id="key-exchange-algorithms">
<h4>Key exchange algorithms<a class="headerlink" href="#key-exchange-algorithms" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ECDHE-RSA
ECDHE-ECDSA
RSA
DHE-RSA
DHE-DSS
PSK
RSA-PSK
DHE-PSK
ECDHE-PSK
ANON-DH
ANON-ECDH
VKO-GOST-12
RSA-EXPORT
</pre></div>
</div>
</section>
<section id="compression">
<h4>Compression<a class="headerlink" href="#compression" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>COMP-NULL
COMP-ZLIB
</pre></div>
</div>
</section>
<section id="groups">
<h4>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>GROUP-SECP192R1
GROUP-SECP224R1
GROUP-SECP256R1
GROUP-SECP384R1
GROUP-SECP521R1
GROUP-X25519
GROUP-GC256B
GROUP-GC512A
GROUP-X448
GROUP-FFDHE2048
GROUP-FFDHE3072
GROUP-FFDHE4096
GROUP-FFDHE6144
GROUP-FFDHE8192
</pre></div>
</div>
</section>
<section id="public-key-systems">
<h4>Public Key Systems<a class="headerlink" href="#public-key-systems" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>RSA
RSA-PSS
RSA-OAEP
RSA
DSA
GOST R 34.10-2012-512
GOST R 34.10-2012-256
GOST R 34.10-2001
EC/ECDSA
EdDSA (Ed25519)
EdDSA (Ed448)
DH
ECDH (X25519)
ECDH (X448)
</pre></div>
</div>
</section>
<section id="pk-signatures">
<h4>PK-signatures<a class="headerlink" href="#pk-signatures" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SIGN-RSA-SHA256
SIGN-RSA-SHA384
SIGN-RSA-SHA512
SIGN-RSA-PSS-SHA256
SIGN-RSA-PSS-RSAE-SHA256
SIGN-RSA-PSS-SHA384
SIGN-RSA-PSS-RSAE-SHA384
SIGN-RSA-PSS-SHA512
SIGN-RSA-PSS-RSAE-SHA512
SIGN-EdDSA-Ed25519
SIGN-EdDSA-Ed448
SIGN-ECDSA-SHA256
SIGN-ECDSA-SHA384
SIGN-ECDSA-SHA512
SIGN-ECDSA-SECP256R1-SHA256
SIGN-ECDSA-SECP384R1-SHA384
SIGN-ECDSA-SECP521R1-SHA512
SIGN-ECDSA-SHA3-224
SIGN-ECDSA-SHA3-256
SIGN-ECDSA-SHA3-384
SIGN-ECDSA-SHA3-512
SIGN-RSA-SHA3-224
SIGN-RSA-SHA3-256
SIGN-RSA-SHA3-384
SIGN-RSA-SHA3-512
SIGN-DSA-SHA3-224
SIGN-DSA-SHA3-256
SIGN-DSA-SHA3-384
SIGN-DSA-SHA3-512
SIGN-RSA-RAW
SIGN-RSA-SHA1
SIGN-RSA-SHA1
SIGN-RSA-SHA224
SIGN-RSA-RMD160
SIGN-DSA-SHA1
SIGN-DSA-SHA1
SIGN-DSA-SHA224
SIGN-DSA-SHA256
SIGN-RSA-MD5
SIGN-RSA-MD5
SIGN-RSA-MD2
SIGN-ECDSA-SHA1
SIGN-ECDSA-SHA224
SIGN-GOSTR341012-512
SIGN-GOSTR341012-256
SIGN-GOSTR341001
SIGN-DSA-SHA384
SIGN-DSA-SHA512
</pre></div>
</div>
</section>
</section>
</div>
</section>
<span id="document-install_selinux"></span><section id="selinux-enabled-distributions">
<span id="install-selinux"></span><h2>SELinux enabled distributions<a class="headerlink" href="#selinux-enabled-distributions" title="Permalink to this headline">¶</a></h2>
<p>ThinLinc is designed to run with reference SELinux policy and users in
the unconfined context. It is possible to use ThinLinc with other
policies and more restricted contexts, but will most likely require
modifications to your policy to accommodate ThinLinc.</p>
<p>The local system policy will optionally be modified by ThinLinc setup
during installation. The SELinux module and other policy changes
performed can be examined in <code class="file docutils literal notranslate"><span class="pre">/opt/thinlinc/share/selinux</span></code>.
Execute the command <strong class="program">/opt/thinlinc/share/selinux/install</strong> to
reapply ThinLinc’s policy changes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ThinLinc policy module is distributed in source form and
therefore requires the reference policy build environment. On Red
Hat-based systems this is always installed, but other systems might
require extra packages.</p>
</div>
</section>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="#">
    <img class="logo" src="_static/thinlinc.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">The ThinLinc Administrator's Guide</p>






<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-introduction">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-architecture">ThinLinc architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-obtaining">Obtaining ThinLinc</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Server installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-requirements_server">Server requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-network">Network requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-install_install">Installing the ThinLinc server</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optional setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-authentication">Authentication in ThinLinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-licensehandling">License handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-install_cluster">Cluster installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-HA">High availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-printing">Printer features</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-virtualgl">3D acceleration</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-install_automatic">Automated installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-uninstalling">Uninstalling the ThinLinc server</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Clients</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-clientcomparison">Choosing a client</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-client">The native client</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tlwebaccess">ThinLinc Web Access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-redirection">Accessing client resources from the ThinLinc session</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-configuration">Server configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-install_upgrade">Upgrading ThinLinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-shadowing">Shadowing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-hiveconf">Hiveconf</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-cli">Command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tlwebadm">Administration of ThinLinc using the web administration interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tldc">Building custom Linux desktops with the ThinLinc desktop customizer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendixes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-commands">Commands on the ThinLinc server</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-config_params">Server configuration parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-client_config_params">Client configuration parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tcp-ports">TCP ports used by ThinLinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-troubleshoot">Troubleshooting ThinLinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-lockdown">Restricting access to ThinLinc servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-gnutls-priorities">GnuTLS priority strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-install_selinux">SELinux enabled distributions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, Cendio AB.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>